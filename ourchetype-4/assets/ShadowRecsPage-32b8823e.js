import{d as R,s as f,I as $,c as w,K as D,o as u,a as p,e as r,F as I,i as L,n as G,E as M,u as l,G as P,m as W,q as X,_ as T,L as t,b as z,v as F,x as C,t as k,A as b,h as y,k as q,C as H}from"./index-686916f5.js";import{_ as K}from"./PageContainer.vue_vue_type_style_index_0_lang-8db426d2.js";import{S as j}from"./SpriteSheetImg-f7e1a4d7.js";import{i as A}from"./images-77d68c13.js";function J(e,s,n,d){if(e==n&&e==s)return .5;const _=n-s;let o=(e-s)/_;return d&&(o=O(0,1,o)),o}function O(e,s,n){return Math.max(Math.min(n,s),e)}const x=e=>(W("data-v-ac01fc05"),e=e(),X(),e),Q=x(()=>r("div",{class:"line"},null,-1)),U=x(()=>r("div",{class:"image"},[r("div",{class:"dot"})],-1)),Y=["onClick"],Z=x(()=>r("div",{class:"circle"},null,-1)),ee=[Z],se=R({__name:"SlidingSelector",props:{selection:null,nAnswers:null,selectAnswer:null},setup(e){const s=e,n=f(null),d=f(null),_=f(0),o=f(0);$(()=>{const c=n.value.getClientRects()[0],v=d.value.getClientRects()[0];_.value=v.left-c.left,o.value=v.right-c.left});const i=f(!1),a=w(()=>s.nAnswers-1),h=f(0),m=w(()=>(i.value?h.value:s.selection/(s.nAnswers-1))*100);function B(c){i.value=!0,S(c),window.addEventListener("touchend",E),window.addEventListener("touchmove",S)}function S(c){const v=c.changedTouches[0];v&&i.value&&(h.value=J(v.clientX,_.value,o.value,!0),V())}function N(){const c=Math.round(h.value*a.value);s.selectAnswer(c)}const V=D.debounce(N,30);function E(){i.value=!1,window.removeEventListener("touchend",E),window.removeEventListener("touchmove",S)}return(c,v)=>(u(),p("div",{class:"sliding-selector",onTouchstart:B,ref_key:"containerEl",ref:d},[r("div",{style:{position:"fixed",left:"0",width:"100vw"},ref_key:"fullWidthEl",ref:n},null,512),Q,(u(!0),p(I,null,L(e.nAnswers,g=>(u(),p("div",{key:g,class:G(["answer",{selected:g==e.selection+1}])},[U,r("div",{class:"hit-rect",onClick:le=>e.selectAnswer(g-1)},null,8,Y)],2))),128)),e.selection!=null?(u(),p("div",{key:0,class:"selection",style:M({left:l(m)+"%"})},ee,4)):P("",!0)],544))}});const te=T(se,[["__scopeId","data-v-ac01fc05"]]),ne=[[t.Ca,t.En,t.Lo,t.Ev,t.In,t.Ex],[t.He,t.Ma,t.Ru,t.Sa,t.Cr,t.Re]],oe={id:"shadows"},ce=R({__name:"ShadowRecsPage",setup(e){const s=z(),n=w(()=>s.progress.shadowScores),d=w(()=>ne[s.progress.shadowGroup||0]),_=w(()=>{let o=0;for(const i in n.value){const a=i;o+=n.value[a]}return o});return(o,i)=>(u(),F(K,{"inner-class":{"shadow-recs center-col under-header":!0}},{default:C(()=>[r("p",null,k(l(b)("1")),1),r("div",oe,[(u(!0),p(I,null,L(l(d),(a,h)=>(u(),p("div",{key:h,class:"shadow"},[y(j,{src:"shadow-answers.webp",class:"symbol",alt:"Elemen 1","x-sprites":3,"y-sprites":4,x:l(A)[a].x,y:l(A)[a].y},null,8,["x","y"]),y(te,{idx:h,selection:l(n)[a],"n-answers":5,"select-answer":m=>l(s).setShadowScore(a,m)},null,8,["idx","selection","select-answer"])]))),128))]),y(H,{class:"cta",disabled:!l(_)},{default:C(()=>[q(k(l(b)("continue","general")),1)]),_:1},8,["disabled"])]),_:1}))}});const de=T(ce,[["__scopeId","data-v-b275754c"]]);export{de as default};
