import{d as T,s as _,I as B,c as w,L as I,o as i,a as r,e as n,F as k,i as L,n as N,E as H,u as t,K as V,m as D,q as P,_ as b,b as W,t as g,h as y,x as X,C as z,A as p,k as F}from"./index-dee15ac5.js";/* empty css                                                      */import{S as G}from"./SpriteSheetImg-d46f195c.js";import{i as C}from"./images-5d17b641.js";import{s as q}from"./shadow-e1ec6bc1.js";function K(e,s,l,d){if(e==l&&e==s)return .5;const h=l-s;let a=(e-s)/h;return d&&(a=j(0,1,a)),a}function j(e,s,l){return Math.max(Math.min(l,s),e)}const x=e=>(D("data-v-39a4c634"),e=e(),P(),e),J=x(()=>n("div",{class:"line"},null,-1)),O=x(()=>n("div",{class:"image"},[n("div",{class:"dot"})],-1)),Q=["onClick"],U=x(()=>n("div",{class:"circle"},null,-1)),Y=[U],Z=T({__name:"SlidingSelector",props:{selection:null,nAnswers:null,selectAnswer:null},setup(e){const s=e,l=_(null),d=_(null),h=_(0),a=_(0);B(()=>{const o=l.value.getClientRects()[0],u=d.value.getClientRects()[0];h.value=u.left-o.left,a.value=u.right-o.left});const c=_(!1),m=w(()=>s.nAnswers-1),v=_(0),A=w(()=>(c.value?v.value:s.selection/(s.nAnswers-1))*100);function R(o){c.value=!0,f(o),window.addEventListener("touchend",E),window.addEventListener("touchmove",f)}function f(o){const u=o.changedTouches[0];u&&c.value&&(v.value=K(u.clientX,h.value,a.value,!0),M())}function $(){const o=Math.round(v.value*m.value);s.selectAnswer(o)}const M=I.debounce($,30);function E(){c.value=!1,window.removeEventListener("touchend",E),window.removeEventListener("touchmove",f)}return(o,u)=>(i(),r("div",{class:"sliding-selector",onTouchstart:R,ref_key:"containerEl",ref:d},[n("div",{style:{position:"fixed",left:"0",width:"100vw"},ref_key:"fullWidthEl",ref:l},null,512),J,(i(!0),r(k,null,L(e.nAnswers,S=>(i(),r("div",{key:S,class:N(["answer",{selected:S==e.selection+1}])},[O,n("div",{class:"hit-rect",onClick:ie=>e.selectAnswer(S-1)},null,8,Q)],2))),128)),e.selection!=null?(i(),r("div",{key:0,class:"selection",style:H({left:t(A)+"%"})},Y,4)):V("",!0)],544))}});const ee=b(Z,[["__scopeId","data-v-39a4c634"]]),se={class:"shadow-recs"},te={class:"small"},ne={id:"shadows"},oe={class:"scale"},le=["innerHTML"],ce=["innerHTML"],ae=T({__name:"ShadowRecsPage",setup(e){const s=W(),l=w(()=>s.progress.shadowScores),d=w(()=>q[s.progress.shadowGroup||0]);return(h,a)=>(i(),r("div",se,[n("p",null,g(t(p)("1")),1),n("p",te,g(t(p)("2")),1),n("div",ne,[(i(!0),r(k,null,L(t(d),(c,m)=>(i(),r("div",{key:m,class:"shadow"},[y(G,{src:"shadow-answers.webp",class:"symbol",alt:"Elemen 1","x-sprites":3,"y-sprites":4,x:t(C)[c].x,y:t(C)[c].y},null,8,["x","y"]),y(ee,{idx:m,selection:t(l)[c],"n-answers":5,"select-answer":v=>t(s).setShadowScore(c,v)},null,8,["idx","selection","select-answer"]),n("div",oe,[n("p",{class:"left",innerHTML:t(p)("min")},null,8,le),n("p",{class:"right",innerHTML:t(p)("max")},null,8,ce)])]))),128))]),y(z,{class:"cta",disabled:!t(s).sumShadowScores},{default:X(()=>[F(g(t(p)("continue","general")),1)]),_:1},8,["disabled"])]))}});const ve=b(ae,[["__scopeId","data-v-74a1a281"]]);export{ve as default};
