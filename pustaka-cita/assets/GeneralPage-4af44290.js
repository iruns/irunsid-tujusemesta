import{d as U,w as j,x as W,D as q,E as X,o as r,a as l,n as y,_ as Y,b as Z,W as ee,J as se,c as u,N as te,z as S,A as z,e as i,u as e,i as k,t as p,F as g,m as v,K as oe,Q as ae,h as D,I as G,H as re,k as ne,C,B as ce,r as E,f as le,p as ue}from"./index-a2c4a233.js";const ie=U({__name:"PasscodeField",props:{passcode:{type:String,default:"passcode"},onMatch:{type:Function,default:()=>{}}},setup(P){const b=P,h=j("");return W(h,_=>{_.toLowerCase()==b.passcode.toLowerCase()&&b.onMatch()}),(_,t)=>q((r(),l("input",{"onUpdate:modelValue":t[0]||(t[0]=f=>h.value=f),class:y({"passcode-field":!0}),placeholder:"Passcode"},null,512)),[[X,h.value]])}});const me=Y(ie,[["__scopeId","data-v-0a979f6c"]]),de={class:"sub-container"},pe={key:2,class:"room-title"},_e={key:4,class:"path-container"},ve={class:"line-container"},he={class:"room-circle current"},ge={class:"room-number"},ye={class:"next"},be={class:"room-circle"},fe={class:"room-number"},xe={class:"room-title"},ke=i("div",{class:"spacer"},null,-1),Ne=U({__name:"GeneralPage",setup(P){const b=Z(),h=ee();se();const _=u(()=>E.currentRoute.value),t=u(()=>{var s;return(s=_.value)==null?void 0:s.meta.generalPageSettings}),f=u(()=>{var s;return((s=t.value)==null?void 0:s.textStyles)||[]}),N=u(()=>{const s=[];let o;do o=C(s.length+1,_.value.name),o&&s.push(o);while(o);return s}),w=u(()=>{var s;return((s=t.value)==null?void 0:s.nTopTexts)||0}),T=u(()=>{const s=[],o=w.value;if(o)for(let a=0;a<o;a++)s.push(N.value[a]);return s}),B=u(()=>{const s=[],o=w.value;for(let a=o;a<N.value.length;a++)s.push(N.value[a]);return s}),H=u(()=>{var a;const s=[],o=(a=t.value)==null?void 0:a.roomNumber;if(o)for(let m=1;m<=3;m++)s.push(C(o+"-"+m,"room-name",!0));return s}),J=u(()=>{var a;const s=[],o=(a=t.value)==null?void 0:a.nextRoomNumber;if(o)for(let m=1;m<=3;m++)s.push(C(o+"-"+m,"room-name",!0));return s}),K=u(()=>_.value.meta.area),O=u(()=>{var a;const s=E.currentRoute.value.name;return{name:(a=le[s].meta.flow.next)==null?void 0:a.page}}),Q=u(()=>ue[_.value.meta.area]),x=j(0);return te(()=>{x.value=h.getLineLightness(h.bgSettings)}),(s,o)=>(r(),S(ce,{"inner-class":{"general-page":!0}},{default:z(()=>{var a,m,L,F,R,A,V,$,I,M;return[i("div",de,[e(T).length?(r(!0),l(g,{key:0},k(e(T),(n,c)=>{var d;return r(),l("div",{key:"t"+(c-1),class:y(["general-box",(d=e(f)[c])==null?void 0:d.classes])},[i("p",null,p(n),1)],2)}),128)):v("",!0),(a=e(t))!=null&&a.roomNumber&&!((m=e(t))!=null&&m.nextRoomNumber)&&!((L=e(t))!=null&&L.hideNumber)?(r(),l("div",{key:1,class:"room-box basic-frame",style:oe({borderImageSource:e(ae)("basic-frame-"+x.value)})},p(e(t).roomNumber),5)):v("",!0),(F=e(t))!=null&&F.roomNumber?(r(),l("div",pe,[D(G,{class:"frame",src:"title-frame.webp","x-sprites":1,"y-sprites":2,x:0,y:x.value-1},null,8,["src","y"]),(r(!0),l(g,null,k(e(H),(n,c)=>(r(),l(g,{key:c},[n&&n.length?(r(),l("h1",{key:0,class:y([c==1?"room-type":"room-name"])},p(n),3)):v("",!0)],64))),128))])):v("",!0),e(B).length?(r(!0),l(g,{key:3},k(e(B),(n,c)=>{var d;return r(),l("div",{key:"t"+(c-1),class:y(["general-box",(d=e(f)[e(w)+c])==null?void 0:d.classes])},[i("p",null,p(n),1)],2)}),128)):v("",!0),(R=e(t))!=null&&R.roomNumber&&((A=e(t))!=null&&A.nextRoomNumber)?(r(),l("div",_e,[i("div",ve,[D(G,{class:"frame",src:"path.webp","x-sprites":1,"y-sprites":2,x:0,y:x.value-1},null,8,["src","y"])]),i("div",he,[i("div",ge,p(e(t).roomNumber),1)]),i("div",ye,[i("div",be,[i("div",fe,p(e(t).nextRoomNumber),1)]),i("div",xe,[(r(!0),l(g,null,k(e(J),(n,c)=>(r(),l(g,{key:c},[n&&n.length?(r(),l("h2",{key:0,class:y([c==1?"room-type":"room-name"])},p(n),3)):v("",!0)],64))),128))])])])):v("",!0)]),ke,(V=e(t))!=null&&V.isPasscode?(r(),S(me,{key:1,passcode:e(Q),"on-match":()=>{e(b).setPasscodeProgress(e(K),!0),s.$router.replace(e(O))}},null,8,["passcode","on-match"])):(r(),S(re,{key:0,replace:"","bg-color":(($=e(t))==null?void 0:$.ctaBGColor)||"black",color:((I=e(t))==null?void 0:I.ctaColor)||"white","no-nav":((M=e(t))==null?void 0:M.onCTAClick)!=null,onClick:o[0]||(o[0]=n=>{var c,d;return(c=e(t))!=null&&c.onCTAClick?(d=e(t))==null?void 0:d.onCTAClick():""})},{default:z(()=>{var n;return[ne(p(e(C)(((n=e(t))==null?void 0:n.cta)||"continue")),1)]}),_:1},8,["bg-color","color","no-nav"]))]}),_:1}))}});export{Ne as default};
