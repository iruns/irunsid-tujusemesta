import{d as P,M as s,j as U,k as G,a as i,e as f,F as E,l as $,m as H,o as l,w as X,t as J,p as M,q as K,_ as Q}from"./index-6188012a.js";const Y=""+new URL("bean-454f42ce.png",import.meta.url).href,Z={class:"full beans"},ee={class:"ui full"},te={class:"flow-buttons"},ne=["onMousedown","onMouseup"],oe={class:"rects"},se={class:"circles"},ae=P({__name:"BeansBlend",setup(re){const a=window.screen.width,c=window.screen.height,z=s.Engine,y=s.Common,B=s.Runner,I=s.Composite,p=s.Bodies,d=[],D=[],O=2;for(let n=0;n<O;n++){const t=z.create();d.push(t),t.gravity.y=.5;const e=B.create();B.run(e,t)}const C={restitution:.95,friction:.2,frictionAir:.02},_=Object.assign({isStatic:!0},C),m=40,F=m/2,V=[p.rectangle(a/2,0-F,a,m,_),p.rectangle(a/2,c+F-200,a,m,_),p.rectangle(0,c/2,m,c,_),p.rectangle(a,c/2,m,c,_)];d.forEach(n=>{I.add(n.world,V)});const g=U([]),u=.15*a*.5;d.forEach(n=>{for(let t=0;t<15;t++){const e=y.random(u,a-u),o=y.random(u,c-u-200),r=y.random(.8*u,1.2*u),v=p.circle(e,o,r,C),x={x:e,y:o,r,a:0,brightness:Math.random()*.3+.2,body:v,j:0,f:-1,hue:0,brightness2:0};g.value.push(x),I.add(n.world,v)}});const b=U({energy:.5,inspiration:.5});let h;const j=.1;function R(n,t){!t&&h==null&&(S(n),h=window.setInterval(()=>S(n),200)),t&&h!=null&&(clearInterval(h),h=void 0)}function S(n){const t=b.value;t[n]+=j;for(const e in t)t[e]/=1+j;for(let e=0;e<d.length;e++)d[e].gravity.y=.5-t.inspiration*.49}const w=s.Vector.create(),k=.2;let T;function W(){const n=g.value,t=b.value;for(let e=0;e<n.length;e++){const o=n[e];if(o.j=0,o.f>-1&&o.f--,o.brightness2=t.inspiration*3,Math.random()<.5)continue;let r=Math.random(),v="energy";for(const L in t){const N=t[L];if(r<=N){v=L;break}else r-=N}const x=o.body;switch(v){case"energy":if(Math.random()<.3)continue;o.j=1,w.x=Math.random()*k-k*.8,w.x*=.3,w.y=Math.random()*-k,H.Body.applyForce(x,x.position,w);break;case"inspiration":if(o.f>-1)break;o.f=3,o.hue=Math.round(y.random(-180,180));break}}T=window.setTimeout(W,2e3-b.value.energy*1500)}W();let q=!0;function A(){for(let n=0;n<g.value.length;n++){const t=g.value[n],e=t.body;t.x=e.position.x,t.y=e.position.y,t.r=e.circleRadius,t.a=e.angle*180/Math.PI}q&&requestAnimationFrame(A)}return A(),G(()=>{D.forEach(n=>{B.stop(n)}),window.clearInterval(h),window.clearTimeout(T),q=!1,d.forEach(n=>{s.World.clear(n.world,!1),s.Engine.clear(n)})}),(n,t)=>(l(),i("div",Z,[f("div",ee,[f("div",te,[(l(!0),i(E,null,$(b.value,(e,o)=>(l(),i("div",{key:o,class:"flow-button",onMousedown:X(r=>R(o),["prevent"]),onMouseup:X(r=>R(o,!0),["prevent"])},J(o+": "+Math.round(e*100)/10),41,ne))),128))])]),f("div",oe,[(l(),i(E,null,$(V,(e,o)=>f("div",{key:o,class:"rect",style:M({left:e.bounds.min.x+"px",width:e.bounds.max.x-e.bounds.min.x+"px",top:e.bounds.min.y+"px",height:e.bounds.max.y-e.bounds.min.y+"px"})},null,4)),64))]),f("div",se,[(l(!0),i(E,null,$(g.value,(e,o)=>(l(),i("div",{key:o,class:"circle",style:M({transform:`translate(${e.x}px,${e.y}px) rotate(${e.a}deg)`,filter:`brightness(${1+(e.f>0?e.brightness2:0)}) hue-rotate(${e.f>0?e.hue:0}deg)`})},[f("img",{class:"circle-img",src:Y,style:M({top:-e.r+"px",left:-e.r+"px",width:e.r*2+"px",height:e.r*2+"px",filter:`brightness(${e.brightness})`})},null,4),e.f>0?(l(),i("div",{key:0,class:"ring",style:M({top:-e.r+"px",left:-e.r+"px",width:e.r*2+"px",height:e.r*2+"px"})},null,4)):K("",!0)],4))),128))])]))}});const le=Q(ae,[["__scopeId","data-v-c3bc2c6b"]]);export{le as default};
