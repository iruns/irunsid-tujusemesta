import{d as H,c as I,s as o,w as Q,Q as W,o as a,a as l,e as P,F as m,i as C,H as E,t as g,u as t,n as j,_ as A,v as q,x as $,y as G,B as d,h as D,z as J,A as X,k as Y,S as Z,E as w}from"./index-414de006.js";const T=H({__name:"PostPaper",props:{content:null,size:null},setup(r){const s=r,i=I(()=>s.content),f=o(!1),n=o(5),p=o(null),x=I(()=>s.size*.8),b=o(0);let R=0;const K=20;let y=-1;Q(i,()=>{clearTimeout(y),y=setTimeout(M,1e3)});const z=o([]);let k=-1;const L=o("");function M(){z.value.length=0,s.content.split(/\r\n|\n/).forEach(V=>{const S=[];z.value.push(S);let u=!1;V.split(new RegExp("(?<=[.|!|?])","g")).forEach(c=>{const v=[];S.push(v);const _=c.indexOf("!")>-1?1.5:1;c.split(/\s/).forEach(e=>{const B=e.toUpperCase()==e?1.5:1,h=[];e[0]=="*"&&(h.push("*"),e=e.substring(1));const F=e.length;let N=!1;e[F-1]=="*"&&(N=!0,e=e.substring(0,F-1)),h.push(...e.split("*")),N&&h.push("*"),h.forEach(U=>{if(U=="*")u=!u;else{const O=u?1.2:1;v.push({text:U,size:12*_*B*O,bold:u})}})})})}),k=setInterval(()=>{b.value=p.value.getClientRects()[0].height,R<K&&b.value>x.value?(n.value*=.9,R++):(clearInterval(k),f.value=!0,L.value=i.value)},5)}return W(()=>{clearInterval(k),clearTimeout(y)}),(V,S)=>(a(),l("div",{ref:"paperEl",class:j(["post-paper",{settled:f.value}]),style:E({width:r.size+"px",height:r.size+"px",padding:(r.size-t(x))/2+"px",backgroundColor:"white",boxShadow:"rgba(0, 0, 0, 0.1) 1px 1px 5px"})},[P("div",{ref_key:"content",ref:p,class:"content",style:E({marginTop:(f.value?(t(x)-b.value)/2:0)+"px"})},[(a(!0),l(m,null,C(z.value,(u,c)=>(a(),l("div",{key:c,class:"paragraph neutral"},[(a(!0),l(m,null,C(u,(v,_)=>(a(),l(m,{key:c+"-"+_},[(a(!0),l(m,null,C(v,(e,B)=>(a(),l("div",{ref_for:!0,ref:"wordEls",key:c+"-"+_+"-"+B,class:"word",style:E({color:"black",fontFamily:"Kalam",fontSize:e.size*n.value+"px",fontWeight:e.bold?"bold":"normal"})},g(e.text),5))),128))],64))),128))]))),128))],4)],6))}});const ee=A(T,[["__scopeId","data-v-15d93f3a"]]),te=["placeholder"],se=H({__name:"ResahSubmission",setup(r){const s=o(""),i=I(()=>s.value.length>0);return(f,n)=>(a(),q(G,{"inner-class":{"resah-submission":!0}},{default:$(()=>[P("p",null,g(t(d)("1")),1),D(ee,{content:s.value,size:200},null,8,["content"]),J(P("textarea",{placeholder:t(d)("placeholder"),"onUpdate:modelValue":n[0]||(n[0]=p=>s.value=p)},null,8,te),[[X,s.value]]),D(w,{class:"cta",onClick:n[1]||(n[1]=p=>t(i)?t(Z)(s.value):"")},{default:$(()=>[Y(g(t(i)?t(d)("submit","general"):t(d)("skip"))+" & "+g(t(d)("continue","general")),1)]),_:1})]),_:1}))}});const ne=A(se,[["__scopeId","data-v-1848b5e9"]]);export{ne as default};
