import{d as w,c as R,w as r,x as q,y as G,o,a as c,e as M,F as x,i as P,M as N,t as z,n as H,u as e,_ as A,s as J,g as K,V as Q,z as X,A as U,B as n,h as $,D as Y,E as Z,k as T,I as ee}from"./index-f87eb120.js";import{_ as te}from"./PageContainer.vue_vue_type_style_index_0_lang-f3768d31.js";const ae=w({__name:"PostPaper",props:{content:null,size:null},setup(p){const a=p,l=R(()=>a.content),f=r(!1),h=10,d=r(h),y=r(null),i=R(()=>a.size*.95),v=r(0),L=40;let k=0,S=-1;q(l,()=>{clearTimeout(S),S=setTimeout(W,1e3)});const B=r([]);let C=-1;const O=r("");function W(){B.value.length=0,k=0,d.value=h,f.value=!1,a.content.split(/\r\n|\n/).forEach(_=>{const E=[];B.value.push(E);let u=!1;_.split(new RegExp("(?<=[.|!|?]\\s)","g")).forEach(s=>{const m=[];E.push(m),s=s.trimEnd();const g=s.indexOf("!")>-1?1.5:1;s.split(/\s/).forEach(t=>{const I=t.toUpperCase()==t?1.5:1,b=[];t[0]=="*"&&(b.push("*"),t=t.substring(1));const V=t.length;let D=!1;t[V-1]=="*"&&(D=!0,t=t.substring(0,V-1)),b.push(...t.split("*")),D&&b.push("*"),b.forEach(F=>{if(F=="*")u=!u;else{const j=u?1.2:1;m.push({text:F,size:12*g*I*j,bold:u})}})})})}),C=setInterval(()=>{const _=y.value.getClientRects()[0];v.value=Math.max(_.height,_.width),k<L&&v.value>i.value?(d.value*=.9,k++):(clearInterval(C),f.value=!0,O.value=l.value)},5)}return G(()=>{clearInterval(C),clearTimeout(S)}),(_,E)=>(o(),c("div",{ref:"paperEl",class:H(["post-paper",{settled:f.value}]),style:N({width:p.size+"px",height:p.size+"px",padding:(p.size-e(i)*.8)/2+"px",backgroundColor:"white",boxShadow:"rgba(0, 0, 0, 0.1) 1px 1px 5px"})},[M("div",{ref_key:"content",ref:y,class:"content"},[(o(!0),c(x,null,P(B.value,(u,s)=>(o(),c("div",{key:s,class:"paragraph neutral"},[(o(!0),c(x,null,P(u,(m,g)=>(o(),c(x,{key:s+"-"+g},[(o(!0),c(x,null,P(m,(t,I)=>(o(),c("div",{ref_for:!0,ref:"wordEls",key:s+"-"+g+"-"+I,class:"word",style:N({color:"black",fontFamily:"Reenie Beanie",fontSize:t.size*d.value+"px",fontWeight:t.bold?"bold":"normal"})},z(t.text),5))),128))],64))),128))]))),128))],512)],6))}});const se=A(ae,[["__scopeId","data-v-4a2bc608"]]),ne=["placeholder"],oe=w({__name:"ResahSubmission",setup(p){const a=r(""),l=R(()=>a.value.length>0),f=J(),h=K(),d=Q();return(y,i)=>(o(),X(te,{"inner-class":{"resah-submission":!0}},{default:U(()=>[M("p",null,z(e(n)("1")),1),$(se,{content:a.value,size:200},null,8,["content"]),Y(M("textarea",{"onUpdate:modelValue":i[0]||(i[0]=v=>a.value=v),placeholder:e(n)("placeholder")},null,8,ne),[[Z,a.value]]),$(ee,{class:"cta","no-nav":"","bg-color":"black",color:"white",onClick:i[1]||(i[1]=v=>e(f).addDialog({info:e(n)(e(l)?"submit_confirmation":"skip_confirmation"),confirmationText:e(n)(e(l)?"submit":"skip","general"),cancellationText:e(n)("cancel"),hasPrimary:!0,onConfirmation:()=>{e(l)&&e(d).submitResahMessage(a.value),e(h).goForward()}}))},{default:U(()=>[T(z(e(l)?e(n)("submit"):e(n)("skip"))+" & "+z(e(n)("continue")),1)]),_:1})]),_:1}))}});const ce=A(oe,[["__scopeId","data-v-09f3b4eb"]]);export{ce as default};
