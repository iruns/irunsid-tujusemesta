import{_ as ne}from"./PageContainer.vue_vue_type_style_index_0_lang-14c6a402.js";import{d as V,c as h,o as K,a as N,e,t as d,u as a,y as I,F as te,i as se,J as $,S as le,_ as G,h as w,b as ie,D as oe,s as C,H as re,T as ce,w as ue,v as X,x as Y,k as me,C as de,R as Z,m as pe,q as ge}from"./index-a59f27f5.js";import{s as fe,a as he,p as ye,b as _e,i as Q}from"./images-d7e670f3.js";import{_ as F}from"./SpriteSheetImg.vue_vue_type_script_setup_true_lang-2ea055a8.js";import{I as ve}from"./IncompleteAlert-24400705.js";const ke=""+new URL("logo-belantara-light-a64a0e2c.webp",import.meta.url).href,be={class:"result-image"},Se={class:"intro"},we={class:"picture"},Ie=["src","alt"],Ee=["src","alt"],xe={class:"labels"},Ce={class:"label-container"},Re=["src"],je={class:"label-container"},$e=["src"],Ke=V({__name:"ResultImage",props:{name:null,persona:null,self:null},setup(t){const n=t,c=h(()=>n.name?le(n.name,8):null),i=h(()=>n.self?fe[n.self.id]:null),o=h(()=>n.self?he[n.self.id]:null),l=h(()=>n.persona?ye[n.persona.id]:null),u=h(()=>n.persona?_e[n.persona.id]:null),y={margin:"3.2vw 0",width:"30vw",color:"white",fontFamily:"Inclusive Sans",fontWeight:"lighter",fontStyle:"italic",fontSize:"0.7em",textAlign:"left",lineHeight:"100%"},r=Object.assign({},y,{fontWeight:"normal",fontSize:"1.2em"});return(b,A)=>{var S,E;return K(),N("div",be,[e("p",Se,[e("div",{style:y},d(a(I)("name-1")),1),(K(!0),N(te,null,se(a(c),(R,x)=>(K(),N("div",{key:x,class:"name",style:$(a(r))},d(R),5))),128)),e("div",{style:y},d(a(I)("name-2")),1)]),e("div",we,[e("img",{class:"part-large self",src:a(i),alt:(S=t.self)==null?void 0:S.labels.root},null,8,Ie),e("img",{class:"part-large persona",src:a(l),alt:(E=t.persona)==null?void 0:E.labels.root},null,8,Ee)]),e("div",xe,[e("div",Ce,[e("img",{src:a(u)},null,8,Re)]),e("div",je,[e("img",{src:a(o)},null,8,$e)])])])}}});const Le=G(Ke,[["__scopeId","data-v-f4eeff14"]]),Be={class:"result-item"},Te={class:"number"},Ae=["src"],We={class:"part"},ze=V({__name:"ResultItem",props:{num:null,resultItem:null,archetype:null,x:null,y:null},setup(t){const n="./imgs";return(c,i)=>{var o,l,u,y;return K(),N("div",Be,[e("h3",null,[e("div",Te,d(t.num)+".",1),e("div",null,d((o=t.resultItem)==null?void 0:o.name),1)]),e("p",null,d((l=t.archetype)==null?void 0:l.labels.root),1),e("img",{src:a(n)+"/result-items/"+((u=t.archetype)==null?void 0:u.id)+".webp"},null,8,Ae),e("div",We,[w(F,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:t.x,y:t.y},null,8,["x","y"])]),e("p",null,d((y=t.resultItem)==null?void 0:y.description),1)])}}});const ee=G(ze,[["__scopeId","data-v-a634f0f8"]]);function U(t,n,c=1){var E,R,x,L,B,W,T,j,M,D;const i=n.getBoundingClientRect(),o=i.x*c,l=i.y*c,u=i.width*c,y=i.height*c,r=n.style,b=(E=r.filter)==null?void 0:E.toString();if(b&&(t.filter=b),n.childElementCount==1&&((R=r.overflow)==null?void 0:R.toString())=="hidden"){const m=n.children[0];if(m.tagName=="IMG"){const p=m.getBoundingClientRect(),{naturalWidth:v,naturalHeight:_}=m,O=v*i.width/p.width,z=_*i.height/p.height,P=v*(i.x-p.x)/p.width,s=_*(i.y-p.y)/p.height;t.drawImage(m,P,s,O,z,o,l,u,y)}return}let A;switch(n.tagName){case"IMG":A=n,t.drawImage(A,o,l,u,y);return;case"DIV":let m=!1;const p=(x=r.backgroundColor)==null?void 0:x.toString();p&&p!="rgba(0, 0, 0, 0)"&&(t.fillStyle=p,m=!0);const v=(L=r.borderWidth)==null?void 0:L.toString();if(v&&v!="0px"&&(t.strokeStyle=v.toString()||"black",m=!0),m){const _=Number.parseFloat(((B=r.borderRadius)==null?void 0:B.toString())||"0");_?(Fe(t,o,l,u,y,u*_),t.fill()):t.fillRect(o,l,u,y),t.fillStyle="none"}break}const{innerText:S}=n;if(n.childElementCount)for(let m=0;m<n.children.length;m++)U(t,n.children[m],c);else if(S&&S.length){t.fillStyle=((W=r.color)==null?void 0:W.toString())||"black";let p=Number.parseFloat(r.fontSize)*c*20;const v=[(T=r.fontStyle)==null?void 0:T.toString(),(j=r.fontWeight)==null?void 0:j.toString(),p+"px",(M=r.fontFamily)==null?void 0:M.toString()].join(" ");t.font=v,t.textAlign=((D=r.textAlign)==null?void 0:D.toString())||"left";let _=0;switch(t.textAlign){case"center":_=u/2;break;case"right":_=u;break}t.fillText(S,o+_,l+p,u),t.fillStyle="none"}t.filter="none",t.globalCompositeOperation="source-over"}function Fe(t,n,c,i,o,l){return i<2*l&&(l=i/2),o<2*l&&(l=o/2),t.beginPath(),t.moveTo(n+l,c),t.arcTo(n+i,c,n+i,c+o,l),t.arcTo(n+i,c+o,n,c+o,l),t.arcTo(n,c+o,n,c,l),t.arcTo(n,c,n+i,c,l),t.closePath(),t}const ae={In:{name:"Pili Bug",description:"Kalau kata teman-teman, yang paling lebar senyumnya itu ya kamu! Dari satu senyumanmu, jadi kekuatan untuk teman-temanmu lewati hari."},He:{name:"Kuru (Tanah)",description:"Badan kuat, gerak cepat! Kamu adalah si pemberani yang jadi pahlawan untuk teman-temanmu."},Ru:{name:"Paman Mark",description:"Fokuusss teruuuss! Kalau kata teman-temanmu, kamu punya kekuatan kayak pemimpin. Selalu fokus sama mimpi-mimpi kamu."},Re:{name:"Kuru (Api)",description:"Kalau guru minta kamu bikin pohon, kamu pasti bikinnya kembang api. Karena buat kamu, jadi beda sendiri itu keren."},En:{name:"Olie",description:"Siapa coba yang seneng banget bikin rame satu kelas?! Emang cuma kamu yang jagonya bikin temen-temen terhibur, ga ada kamu ga rame~"},Lo:{name:"Moeg (Manis dkk)",description:"Kalau ada kamu, teman-teman biasanya nyaman dengan sifatmu yang penuh sayang. "},Cr:{name:"Khata (Adik)",description:"Kalau ada lomba bikin menara paling unik, kamu pasti jadi juara pilihan teman-temanmu! "},Sa:{name:"Ian",description:"Kalau di kelas ada kuis, kamu pasti jadi orang paling pertama yang angkat tangan! Seneeeng banget cari tau, juara umum deh kalau kata guru kamu."},Ev:{name:"Kuru (Air)",description:"Kalau ada lomba paling populer, kayaknya kamu deh juaranya. Tiap kelas ada kenalan, emang jago bangeeet nih cari kawan."},Ma:{name:"Zhamara (Kakak)",description:"Hmm, kalau teman-temanmu sukanya menggapai mimpi, kamu sih lebih senang menggapai angkasa dengan pengetahuan dan imajinasimu."},Ca:{name:"Kuru (Udara)",description:"Kamu itu kayak selimut hangat, punya kekuatan melindungi dan jadi penolong untuk bantu teman-teman saat kesulitan."},Ex:{name:"Kroba",description:"Buat kamu yang senang jalan-jalan ke banyak tempat, ketemu teman dan pengalaman baru itu jadi sesuatu yang bikin bahagia dan wah banget!"}},H=t=>(pe("data-v-c16d4c43"),t=t(),ge(),t),Ne={class:"canvas-container"},He=H(()=>e("div",{class:"logo-container center-col"},[e("img",{class:"logo",src:ke})],-1)),Me={class:"parts"},De={class:"part-container"},Oe={class:"part"},Pe={class:"part-container"},Ue={class:"part"},Ve=H(()=>e("br",null,null,-1)),Ge={class:"instructions left small bold white"},Je=H(()=>e("div",{class:"spacer"},null,-1)),qe={class:"details"},Xe={class:"header"},Ye={class:"parts"},Ze={class:"part-container"},Qe={class:"part"},ea={class:"part-container"},aa={class:"part"},ta={class:"result-items"},na=H(()=>e("div",{class:"spacer"},null,-1)),sa=H(()=>e("div",{class:"spacer"},null,-1)),la=V({__name:"ResultPage",setup(t){const n=ie(),c=oe();h(()=>c.lang);const i=h(()=>n.regData.name),o=h(()=>n.progress.topArchetypes),l=h(()=>o.value.persona?Z[o.value.persona]:null),u=h(()=>{var s;return Q[((s=l.value)==null?void 0:s.id)||"Ev"]}),y=h(()=>{var s;return ae[((s=l.value)==null?void 0:s.id)||"Ev"]}),r=h(()=>o.value.self?Z[o.value.self]:null),b=h(()=>{var s;return Q[((s=r.value)==null?void 0:s.id)||"Ev"]}),A=h(()=>{var s;return ae[((s=r.value)==null?void 0:s.id)||"Ev"]}),S=C(null),E=C(null),R=C(""),x=C(null),L=C(null),B=C(null),W=C(null),T=C(!1);function j(s,g){if(s.tagName=="IMG")g.push(s);else for(let f=0;f<s.children.length;f++)j(s.children[f],g)}re(()=>{ce(()=>{B.value=document.getElementsByClassName("bg active")[0]||null,W.value=document.getElementsByClassName("part-large shadow")[0]||null;const s=[];j(B.value,s),j(x.value,s),j(L.value,s);const g=setInterval(()=>{for(let f=0;f<s.length;f++){const k=s[f];k!=null&&k.complete&&k.naturalHeight&&(s.splice(f,1),f--)}s.length||(clearInterval(g),T.value=!0)},1e3)})}),ue(T,(s,g)=>{!g&&s&&(M(),W.value.style.animationDuration="10s")});function M(){const s=E.value,g=s.getContext("2d"),f=S.value.getBoundingClientRect().width,k=s.clientWidth/f;g&&(g.fillStyle="#ffffff",g.fillRect(0,0,s.clientWidth,s.clientHeight),U(g,B.value,k),U(g,x.value,k),U(g,L.value,k),R.value=s.toDataURL("image/png;base64"))}const D={color:"white",fontFamily:"Inclusive Sans",fontWeight:"normal",fontSize:"0.9em"},m={color:"white",fontFamily:"Inclusive Sans",fontWeight:"normal",fontSize:"0.7em",textAlign:"center",width:"100%"},p=Object.assign({},m,{fontStyle:"italic"}),v={color:"black",fontSize:"0.9em"},_=Object.assign({},m,v),O=Object.assign({},p,v),z={color:"white",fontFamily:"Mulish",fontWeight:"bold",fontSize:"0.7em",textAlign:"left",lineHeight:"140 %"},P={backgroundColor:"white",borderRadius:"50%"};return(s,g)=>(K(),X(ne,{"inner-class":{result:!0}},{default:Y(()=>{var f,k,J,q;return[e("div",{ref_key:"widthEl",ref:S,style:{width:"100vw"}},null,512),!a(i)||!a(l)||!a(r)?(K(),X(ve,{key:0,message:JSON.stringify({name:a(i),persona:a(l),self:a(r)},null,2)},null,8,["message"])):(K(),N(te,{key:1},[e("div",Ne,[e("canvas",{ref_key:"canvasEl",ref:E,width:1080,height:1920},null,512)]),e("div",{class:"top",ref_key:"topEl",ref:x},[He,w(Le,{name:a(i),persona:a(l),self:a(r)},null,8,["name","persona","self"])],512),e("div",{ref_key:"infoEl",ref:L,class:"info hidden-part"},[e("p",{style:D},d(a(I)("1")),1),e("div",Me,[e("div",De,[e("span",{style:$(a(p))}," (persona) ",4),e("div",{class:"part-circle",style:P},[e("div",Oe,[w(F,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:a(u).x,y:a(u).y},null,8,["x","y"])])]),e("span",{style:m},d(((f=a(l))==null?void 0:f.labels.root)||""),1)]),e("div",Pe,[e("span",{style:$(a(p))}," (self) ",4),e("div",{class:"part-circle",style:P},[e("div",Ue,[w(F,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:a(b).x,y:a(b).y},null,8,["x","y"])])]),e("span",{style:m},d(((k=a(r))==null?void 0:k.labels.root)||""),1)])]),e("div",{style:z},d(a(I)("date")),1),e("div",{style:z},d(a(I)("place")),1),Ve,e("div",{style:z}," ourchetype.com ")],512),e("p",Ge,d(a(I)("intro")),1),Je,e("div",qe,[e("div",Xe,d(a(I)("fusion")),1),e("div",Ye,[e("div",Ze,[e("span",{style:$(a(O))}," (persona) ",4),e("div",Qe,[w(F,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:a(u).x,y:a(u).y},null,8,["x","y"])]),e("span",{style:$(a(_))},d(((J=a(l))==null?void 0:J.labels.root)||""),5)]),e("div",ea,[e("span",{style:$(a(O))}," (self) ",4),e("div",aa,[w(F,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:a(b).x,y:a(b).y},null,8,["x","y"])]),e("span",{style:$(a(_))},d(((q=a(r))==null?void 0:q.labels.root)||""),5)])]),e("div",null,d(a(I)("character")),1),e("div",ta,[w(ee,{num:1,"result-item":a(y),archetype:a(l),x:a(u).x,y:a(u).y},null,8,["result-item","archetype","x","y"]),w(ee,{num:2,"result-item":a(A),archetype:a(r),x:a(b).x,y:a(b).y},null,8,["result-item","archetype","x","y"])]),e("div",null,d(a(I)("outro")),1)]),na,w(de,{class:"cta",dark:"",disabled:!T.value,download:"Ourchetype.png",href:R.value},{default:Y(()=>[me(" Share ")]),_:1},8,["disabled","download","href"]),sa],64))]}),_:1}))}});const ma=G(la,[["__scopeId","data-v-c16d4c43"]]);export{ma as default};
