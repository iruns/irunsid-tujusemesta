import{d as C,s as u,I as H,c as w,L as P,o as i,a as _,e as t,F as T,i as L,n as V,E as D,u as n,K as W,m as $,q as A,_ as R,b as X,v as z,x as E,t as S,A as p,h as y,k as F,C as G}from"./index-7c2eb7a9.js";import{_ as q}from"./PageContainer.vue_vue_type_style_index_0_lang-f8813425.js";import{_ as K}from"./SpriteSheetImg.vue_vue_type_script_setup_true_lang-dffbe26d.js";import{i as k}from"./images-02d10a13.js";import{s as j}from"./shadow-494a20fd.js";function J(e,s,l,r){if(e==l&&e==s)return .5;const h=l-s;let a=(e-s)/h;return r&&(a=O(0,1,a)),a}function O(e,s,l){return Math.max(Math.min(l,s),e)}const x=e=>($("data-v-e33dbb90"),e=e(),A(),e),Q=x(()=>t("div",{class:"line"},null,-1)),U=x(()=>t("div",{class:"image"},[t("div",{class:"dot"})],-1)),Y=["onClick"],Z=x(()=>t("div",{class:"circle"},null,-1)),ee=[Z],se=C({__name:"SlidingSelector",props:{selection:null,nAnswers:null,selectAnswer:null},setup(e){const s=e,l=u(null),r=u(null),h=u(0),a=u(0);H(()=>{const o=l.value.getClientRects()[0],d=r.value.getClientRects()[0];h.value=d.left-o.left,a.value=d.right-o.left});const c=u(!1),f=w(()=>s.nAnswers-1),v=u(0),B=w(()=>(c.value?v.value:s.selection/(s.nAnswers-1))*100);function M(o){c.value=!0,m(o),window.addEventListener("touchend",b),window.addEventListener("touchmove",m)}function m(o){const d=o.changedTouches[0];d&&c.value&&(v.value=J(d.clientX,h.value,a.value,!0),N())}function I(){const o=Math.round(v.value*f.value);s.selectAnswer(o)}const N=P.debounce(I,30);function b(){c.value=!1,window.removeEventListener("touchend",b),window.removeEventListener("touchmove",m)}return(o,d)=>(i(),_("div",{class:"sliding-selector",onTouchstart:M,ref_key:"containerEl",ref:r},[t("div",{style:{position:"fixed",left:"0",width:"100vw"},ref_key:"fullWidthEl",ref:l},null,512),Q,(i(!0),_(T,null,L(e.nAnswers,g=>(i(),_("div",{key:g,class:V(["answer",{selected:g==e.selection+1}])},[U,t("div",{class:"hit-rect",onClick:ue=>e.selectAnswer(g-1)},null,8,Y)],2))),128)),e.selection!=null?(i(),_("div",{key:0,class:"selection",style:D({left:n(B)+"%"})},ee,4)):W("",!0)],544))}});const te=R(se,[["__scopeId","data-v-e33dbb90"]]),ne=e=>($("data-v-88e48dab"),e=e(),A(),e),oe=ne(()=>t("div",null,null,-1)),le={id:"shadows"},ce={class:"symbol"},ae={class:"scale"},ie=["innerHTML"],re=["innerHTML"],de=C({__name:"ShadowRecsPage",setup(e){const s=X(),l=w(()=>s.progress.shadowScores),r=w(()=>j[s.progress.shadowGroup||0]);return(h,a)=>(i(),z(q,{"inner-class":{"shadow-recs":!0}},{default:E(()=>[oe,t("p",null,S(n(p)("1")),1),t("p",null,S(n(p)("2")),1),t("div",le,[(i(!0),_(T,null,L(n(r),(c,f)=>(i(),_("div",{key:f,class:"shadow"},[t("div",ce,[y(K,{src:"shadow-answers.webp",alt:"Elemen 1","x-sprites":3,"y-sprites":4,x:n(k)[c].x,y:n(k)[c].y},null,8,["x","y"])]),y(te,{idx:f,selection:n(l)[c],"n-answers":5,"select-answer":v=>n(s).setShadowScore(c,v)},null,8,["idx","selection","select-answer"]),t("div",ae,[t("p",{class:"left",innerHTML:n(p)("min")},null,8,ie),t("p",{class:"right",innerHTML:n(p)("max")},null,8,re)])]))),128))]),y(G,{class:"cta",disabled:!n(s).sumShadowScores},{default:E(()=>[F(S(n(p)("continue","general")),1)]),_:1},8,["disabled"])]),_:1}))}});const we=R(de,[["__scopeId","data-v-88e48dab"]]);export{we as default};
