import{d as De,b as Fe,D as ze,c as g,s as a,I as He,H as Ue,w as Ve,v as Be,x as ce,o as w,e,u as l,a as C,T as je,t as r,A as b,h as M,E as m,k as Te,C as Re,F as ue,i as Pe,n as Ne,S as de,m as Ge,q as Ke,_ as Oe}from"./index-105e67c4.js";import{_ as $e,L as qe}from"./PageContainer.vue_vue_type_script_setup_true_lang-bde0f986.js";/* empty css                                                      */import{S as j}from"./SpriteSheetImg-7073ac1f.js";import{I as Je}from"./IncompleteAlert-749655bf.js";import{p as Ye,a as Qe,i as fe,s as Xe,b as Ze}from"./images-0966e773.js";const el=""+new URL("shadow-orbit-903cdd91.webp",import.meta.url).href,ll={normal:"source-over",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","color-dodge":"color-dodge","color-burn":"color-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion",hue:"hue",saturation:"saturation",color:"color",luminosity:"luminosity"};function o(i,A,v=1,B,z){const P=A.getBoundingClientRect(),E=P.x*v,u=P.y*v,D=P.width*v,H=P.height*v,{style:f,innerText:d}=A,U=f.filter;U&&(i.filter=U);const K=ll[f.mixBlendMode]||"source-over";i.globalCompositeOperation=K;let k;switch(A.tagName){case"IMG":if(k=A,D!=null&&H!=null)if(B){const p=B.container.getBoundingClientRect(),y=p.x*v,_=p.y*v,h=p.width*v,F=p.height*v,N=k.naturalWidth/B.xSprites,W=k.naturalHeight/B.ySprites;i.drawImage(k,B.x*N,B.y*W,N,W,y,_,h,F)}else i.drawImage(k,E,u,D,H);else i.drawImage(k,E,u);break;case"DIV":f.backgroundColor&&(i.fillStyle=f.backgroundColor,i.fillRect(E,u,D,H),i.fillStyle="none");break}if(d&&d.length){i.fillStyle=f.color;let p=f.fontSize||"16px";const[,y,_]=p.match(/^([\d.]+)(\D+)$/);let h=Number(y)*v;_=="rem"&&(h*=16);const F=((z==null?void 0:z.y)||0)*h;p=h+"px";const N=[f.fontStyle,f.fontVariant,f.fontWeight,p,f.fontFamily];i.font=N.filter(W=>!!W).join(" "),i.textAlign=f.textAlign||"left",i.fillText(d,E,u+h+F,D),i.fillStyle="none"}i.filter="none",i.globalCompositeOperation="source-over"}const G={Ca:{tenants:[{label:"Toko Bakmie Feng"},{label:"Hidden Pick"},{label:"Wearbobe"}],studios:[{label:"Keraptink"}]},Cr:{tenants:[{label:"Area Lukis Braga"},{label:"Restory"}],studios:[{label:"Waktoe Loeang"}]},Ma:{tenants:[{label:"Sweesh"},{label:"Abigail"}],studios:[{label:"Everidea x Bonbin"},{label:"The HallwaSpace"},{label:"Motionbeast x Tjs"}]},Re:{tenants:[],studios:[{label:"Waste Meet Pop"},{label:"Grifen"}]},He:{tenants:[],studios:[{label:"Biang Lara"}]},Ev:{tenants:[{label:"Rameninpo"},{label:"Kinjo Shokudo"}],studios:[{label:"Tab Space"}]},Ru:{tenants:[{label:"Bandung Originale"}],studios:[]},In:{tenants:[{label:"Memmo"},{label:"Warung Makan Moy"}],studios:[{label:"Karasa.bdg"}]},Lo:{tenants:[{label:"Halodo"}],studios:[{label:"Fiorist"}]},En:{tenants:[{label:"Cuanki & Baso Mang Pohang"},{label:"Scoop & Skoops"},{label:"Inefable"},{label:"Gvfi"}],studios:[{label:"Photo(nge)booth"},{label:"Wanara"}]},Ex:{tenants:[{label:"Ethouse Art Space"}],studios:[{label:"No:rue"}]}},al=i=>(Ge("data-v-0f78e2dd"),i=i(),Ke(),i),sl={class:"canvas-container"},tl={class:"intro"},nl={class:"labels"},ol={class:"label-container"},il=["src"],rl={class:"label-container"},cl=["src"],ul={class:"picture"},dl=["src","alt"],fl=["src","alt"],pl=["alt"],vl={class:"parts"},gl={class:"text"},ml={class:"part-container"},yl={class:"part"},_l={class:"part-container"},hl={class:"part-container"},bl={class:"info hidden-info"},El=al(()=>e("div",{class:"spacer"},null,-1)),kl={class:"info"},wl={class:"result-items"},xl={class:"personality-part"},Sl={class:"result-items-logos"},Il={class:"container"},Ll=["src"],Cl={class:"result-items"},Bl={class:"personality-part"},Tl={class:"result-items-logos"},Rl={class:"container"},Pl=["src"],Nl={class:"personality-part"},Wl=De({__name:"ResultPage",setup(i){const A="./imgs",v=Fe(),B=ze(),z=g(()=>B.lang),P=g(()=>v.regData.name),E=g(()=>v.progress.topArchetypes),u=g(()=>E.value.persona?de[E.value.persona]:null),D=g(()=>u.value?Ye[u.value.id]:null),H=g(()=>u.value?Qe[u.value.id]:null),f=g(()=>{var n;return fe[((n=u.value)==null?void 0:n.id)||"Ev"]}),d=g(()=>E.value.self?de[E.value.self]:null),U=g(()=>d.value?Xe[d.value.id]:null),K=g(()=>d.value?Ze[d.value.id]:null),k=g(()=>{var n;return fe[((n=d.value)==null?void 0:n.id)||"Ev"]}),p=g(()=>E.value.shadow?de[E.value.shadow]:null),y=g(()=>{var n;return fe[((n=p.value)==null?void 0:n.id)||"Ev"]}),_=a({fontSize:"0.8rem",fontWeight:"bold",color:"black",fontFamily:"Nanum Myeongjo, serif"}),h=a({fontSize:"0.8rem",color:"black",fontFamily:"Poppins, sans-serif"}),F=a(null),N=a(null),W=a(""),O=a(null),pe=a(null),ve=a(null),$=a(null),q=a(null),We=a(null),J=a(null),Y=a(null),ge=a(null),Q=a(null),X=a(null),Z=a(null),me=a(null),ye=a(null),ee=a(null),le=a(null),ae=a(null),se=a(null),te=a(null),_e=a(null),he=a(null),be=a(null),Ee=a(null),ke=a(null),we=a(null),xe=a(null),Se=a(null),Ie=a(null),Le=a(null),ne=a(null),oe=a(!1);He(()=>{Ue(()=>{var x,t,T,R;Z.value=((x=X.value)==null?void 0:x.getElementsByTagName("img")[0])||null,se.value=((t=ee.value)==null?void 0:t.getElementsByTagName("img")[0])||null,te.value=((T=le.value)==null?void 0:T.getElementsByTagName("img")[0])||null,_e.value=((R=ae.value)==null?void 0:R.getElementsByTagName("img")[0])||null,ne.value=document.getElementsByClassName("info-logo-set")[0].getElementsByTagName("img")[0]||null;const n=[O.value,$.value,q.value,J.value,Y.value,Q.value,Z.value,se.value,te.value,ne.value],s=setInterval(()=>{for(let L=0;L<n.length;L++){const S=n[L];S!=null&&S.complete&&S.naturalHeight&&(n.splice(L,1),L--)}n.length||(clearInterval(s),oe.value=!0)},1e3)})}),Ve(oe,(n,s)=>{!s&&n&&(Me(),ge.value.style.animationDuration="10s",Ae())});function Me(){const n=N.value,s=n.getContext("2d"),x=F.value.getBoundingClientRect().width,t=n.clientWidth/x;s&&(s.fillStyle="#ffffff",s.fillRect(0,0,n.clientWidth,n.clientHeight),o(s,O.value,t),o(s,pe.value,t,void 0,{x:0,y:.1}),o(s,ve.value,t),o(s,$.value,t),o(s,q.value,t),o(s,We.value,t),o(s,J.value,t),o(s,Y.value,t),o(s,Q.value,t),o(s,Z.value,t,{container:X.value,xSprites:3,ySprites:4,x:y.value.x,y:y.value.y}),o(s,me.value,t),o(s,ye.value,t),o(s,se.value,t,{container:ee.value,xSprites:3,ySprites:4,x:f.value.x,y:f.value.y}),o(s,te.value,t,{container:le.value,xSprites:3,ySprites:4,x:k.value.x,y:k.value.y}),o(s,_e.value,t,{container:ae.value,xSprites:3,ySprites:4,x:y.value.x,y:y.value.y}),o(s,he.value,t),o(s,be.value,t),o(s,Ee.value,t),o(s,ke.value,t),o(s,we.value,t),o(s,xe.value,t),o(s,Se.value,t),o(s,Ie.value,t),o(s,Le.value,t),o(s,ne.value,t),W.value=n.toDataURL("image/png;base64"))}const ie=a({tenants:[],studios:[]});function Ae(){var x,t,T,R;const n=ie.value;u.value&&(n.tenants=[...((x=G[u.value.id])==null?void 0:x.tenants)||[]],n.studios=[...((t=G[u.value.id])==null?void 0:t.studios)||[]]),d.value&&u.value!=d.value&&(n.tenants=[...((T=G[d.value.id])==null?void 0:T.tenants)||[]],n.studios=[...((R=G[d.value.id])==null?void 0:R.studios)||[]]);for(const L in n){n.studios.sort((c,I)=>c.label>I.label?1:-1),n.tenants.sort((c,I)=>c.label>I.label?1:-1);const S=[...n.studios,...n.tenants],V=A+"/result-items/";for(let c=0;c<S.length;c++){const I=S[c];let re=I.label;re=re.replace(/\/|\||:|\*|\?|"|<|>|\||&/g,"_");const Ce=V+re+".webp";var s=new Image;s.onload=()=>{I.imgUrl=Ce},s.src=Ce}}}return(n,s)=>(w(),Be($e,{"inner-class":{result:!0}},{default:ce(()=>{var x,t,T,R,L,S,V;return[e("div",{ref_key:"widthEl",ref:F,style:{width:"100vw"}},null,512),!l(P)||!l(u)||!l(d)||!l(p)?(w(),Be(Je,{key:0,message:JSON.stringify({name:l(P),persona:l(u),self:l(d),shadow:l(p)},null,2)},null,8,["message"])):(w(),C(ue,{key:1},[e("div",sl,[e("canvas",{ref_key:"canvasEl",ref:N,width:1080,height:1920},null,512)]),e("img",{ref_key:"logoEl",ref:O,class:"logo",src:je,style:{filter:"brightness(0)"}},null,512),e("p",tl,[e("span",{ref_key:"nameEl",ref:pe,class:"name",style:{color:"black",fontFamily:"Poppins",fontWeight:"bold",fontSize:"1rem"}},r(l(v).regData.name)+"'s ",513),e("span",{ref_key:"todayEl",ref:ve,style:{color:"black",fontFamily:"Marcellus",fontSize:"1rem"}},r(l(b)("intro")),513)]),e("div",nl,[e("div",ol,[e("img",{ref_key:"personaTextEl",ref:$,src:l(H)},null,8,il)]),e("div",rl,[e("img",{ref_key:"selfTextEl",ref:q,src:l(K)},null,8,cl)])]),e("div",ul,[e("img",{ref_key:"selfEl",ref:J,class:"part-large self",src:l(U),alt:(x=l(d))==null?void 0:x.labels.root},null,8,dl),e("img",{ref_key:"personaEl",ref:Y,class:"part-large persona",src:l(D),alt:(t=l(u))==null?void 0:t.labels.root},null,8,fl),e("div",{ref_key:"shadowEl",ref:ge,class:"part-large shadow"},[e("img",{ref_key:"shadowOrbitEl",ref:Q,class:"shadow-orbit",src:el,alt:(T=l(p))==null?void 0:T.labels.root},null,8,pl),e("div",{ref_key:"shadowIconEl",ref:X,class:"shadow-icon"},[M(j,{src:"shadow-icons.webp",alt:(R=l(p))==null?void 0:R.labels.root,"x-sprites":3,"y-sprites":4,x:l(y).x,y:l(y).y},null,8,["alt","x","y"])],512)],512)]),e("div",vl,[e("div",gl,[e("p",{ref_key:"fusion1El",ref:me,style:m(_.value)},r(l(b)("fusion1")),5),e("p",{ref_key:"fusion2El",ref:ye,style:m(_.value)},r(l(b)("fusion2")),5)]),e("div",ml,[e("span",{ref_key:"part3PartLabelEl",ref:xe,style:m(_.value)}," (shadow) ",4),e("div",yl,[e("div",{ref_key:"part3El",ref:ae,class:"shadow-part"},[M(j,{src:"shadow-icons.webp",alt:"Element 3","x-sprites":3,"y-sprites":4,x:l(y).x,y:l(y).y},null,8,["x","y"])],512)]),e("span",{ref_key:"part3LabelEl",ref:Ee,style:m(_.value)},r(((L=l(p))==null?void 0:L.labels.shadow[l(z)])||""),5)]),e("div",_l,[e("span",{ref_key:"part1PartLabelEl",ref:ke,style:m(_.value)}," (persona) ",4),e("div",{ref_key:"part1El",ref:ee,class:"part"},[M(j,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:l(f).x,y:l(f).y},null,8,["x","y"])],512),e("span",{ref_key:"part1LabelEl",ref:he,style:m(_.value)},r(((S=l(u))==null?void 0:S.labels.root)||""),5)]),e("div",hl,[e("span",{ref_key:"part2PartLabelEl",ref:we,style:m(_.value)}," (self) ",4),e("div",{ref_key:"part2El",ref:le,class:"part"},[M(j,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:l(k).x,y:l(k).y},null,8,["x","y"])],512),e("span",{ref_key:"part2LabelEl",ref:be,style:m(_.value)},r(((V=l(d))==null?void 0:V.labels.root)||""),5)])]),e("div",bl,[e("p",{ref_key:"info1El",ref:Se,style:m([h.value,{"margin-top":"0.6rem"}])}," Indonesian Contemporary Art & Design (ICAD) ",4),e("p",{ref_key:"info2El",ref:Ie,style:m([h.value,{"font-weight":"bold"}])},r(l(b)("date")),5),e("p",{ref_key:"info3El",ref:Le,style:m(h.value)},r(l(b)("place")),5),M(qe,{class:"info-logo-set",style:{"margin-top":"0.2rem"}})]),M(Re,{class:"cta",disabled:!oe.value,download:"Ourchetype.png",href:W.value},{default:ce(()=>[Te(" Share ")]),_:1},8,["disabled","download","href"]),El,e("div",kl,[e("p",{style:m(h.value)},r(l(b)("date")),5),e("p",{style:m(h.value)},r(l(b)("place")),5)]),e("div",wl,[e("h3",xl,r(l(b)("tenants")),1),e("div",Sl,[(w(!0),C(ue,null,Pe(ie.value.tenants,(c,I)=>(w(),C("figure",{key:I,class:"result-item"},[e("div",Il,[c.imgUrl?(w(),C("img",{key:0,src:c.imgUrl},null,8,Ll)):(w(),C("div",{key:1,class:Ne(["label",{small:c.maxWordLength>=10}])},r(c.label),3))]),e("figcaption",null,r(c.label),1)]))),128))]),e("p",null,r(l(b)("map")),1)]),e("div",Cl,[e("h3",Bl,r(l(b)("studios")),1),e("div",Tl,[(w(!0),C(ue,null,Pe(ie.value.studios,(c,I)=>(w(),C("figure",{key:I,class:"result-item"},[e("div",Rl,[c.imgUrl?(w(),C("img",{key:0,src:c.imgUrl},null,8,Pl)):(w(),C("div",{key:1,class:Ne(["label",{small:c.maxWordLength>=10}])},r(c.label),3))]),e("figcaption",null,r(c.label),1)]))),128))]),e("p",null,r(l(b)("map")),1)]),e("h3",Nl,r(l(b)("shadow")),1),M(Re,null,{default:ce(()=>[Te("Shadow")]),_:1})],64))]}),_:1}))}});const Ul=Oe(Wl,[["__scopeId","data-v-0f78e2dd"]]);export{Ul as default};
