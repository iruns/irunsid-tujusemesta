import{d as ye,c as v,o as y,a as E,e,F as q,i as ge,E as T,u as s,t as i,A as I,h as M,S as Se,_ as we,b as Ae,D as ke,s as R,I as Ee,H as xe,w as Ce,v as me,x as ue,n as he,k as ve,C as be,Q as pe,m as Ie,q as Le,T as Re}from"./index-7c2eb7a9.js";import{_ as Te}from"./PageContainer.vue_vue_type_style_index_0_lang-f8813425.js";import{_ as z}from"./SpriteSheetImg.vue_vue_type_script_setup_true_lang-dffbe26d.js";import{s as Me,a as Be,p as We,b as Ue,i as te}from"./images-02d10a13.js";import{I as He}from"./IncompleteAlert-58fca57e.js";import{a as Pe}from"./shadow-494a20fd.js";const $e="data:image/webp;base64,UklGRm4BAABXRUJQVlA4WAoAAAAQAAAALAAALAAAQUxQSB0BAAABgFzb1rLm0QEVuLu765iqoDhacIe4e3IiyPd/00wiYgJEbf+5L/qa3ngzaQT8RzB3zdqYu+YBQ4smliGDDYxtWtjGsOk8wdSugX0KTx2p3sPcZZh1DE9tEancw8JlkG0Cjy35W76DTcAQ9xIeG7K/dAfboAGeJTzU5XDxFrYhZd4VPNTk2MIt7MKKfGt4qMrxyUs4Cyvxr+EmJ6cmLuEsosC/gZusnJ64gKvUSdFzuM6KyvgFXKdPiJ3DdUbUxs7hOnNU/AKu0qI6eg432SMSl3CVEvX+DdzkDiQv4SwiRvrWcJvfk7qCXViM9a7goQ4Ub2EXEqP9a7gH7mHtF+O9K/avvKKje7ln6RY9XXNg7hJdHW+8OUTf3lNP1AIAVlA4ICoAAAAwAwCdASotAC0APm02mEikIyKhI4gAgA2JaQAAG4G9Pg4AAP77nMAAAAA=",ze=""+new URL("shadow-orbit-903cdd91.webp",import.meta.url).href,Fe={class:"result-image"},Ne={class:"intro"},De={class:"picture"},Ge=["src","alt"],Ke=["src","alt"],Oe={ref:"shadowEl",class:"part-large shadow"},Qe=["alt"],je={class:"shadow-icon"},Je={class:"labels"},Ve={class:"label-container"},Xe=["src"],qe={class:"label-container"},Ye=["src"],Ze=ye({__name:"ResultImage",props:{name:null,persona:null,self:null,shadow:null},setup(l){const a=l,n=v(()=>{const b=a.name?Se(a.name,8):null;if(!b)return b;let h=b[b.length-1]+"'";return h[h.length-2]!="s"&&(h+="s"),b[b.length-1]=h,b}),d=v(()=>a.self?Me[a.self.id]:null),f=v(()=>a.self?Be[a.self.id]:null),o=v(()=>a.persona?We[a.persona.id]:null),_=v(()=>a.persona?Ue[a.persona.id]:null),u=v(()=>te[a.shadow.id||"Ev"]),r={margin:"3.2vw 0",width:"30vw",height:"3vw",color:"black",fontFamily:"Mulish",fontWeight:"lighter",fontSize:"0.9em",textAlign:"left",lineHeight:"100%"},w=Object.assign({},r,{fontWeight:"normal",fontSize:"1.1em"});return(b,h)=>{var L,P,W,U;return y(),E("div",Fe,[e("p",Ne,[(y(!0),E(q,null,ge(s(n),($,H)=>(y(),E("div",{key:H,class:"name",style:T(s(w))},i($),5))),128)),e("div",{style:r},i(s(I)("intro-1")),1),e("div",{style:r},i(s(I)("intro-2")),1)]),e("div",De,[e("img",{class:"part-large self",src:s(d),alt:(L=l.self)==null?void 0:L.labels.root},null,8,Ge),e("img",{class:"part-large persona",src:s(o),alt:(P=l.persona)==null?void 0:P.labels.root},null,8,Ke),e("div",Oe,[e("img",{class:"shadow-orbit",src:ze,alt:(W=l.shadow)==null?void 0:W.labels.root},null,8,Qe),e("div",je,[M(z,{src:"shadow-icons.webp",alt:(U=l.shadow)==null?void 0:U.labels.root,"x-sprites":3,"y-sprites":4,x:s(u).x,y:s(u).y},null,8,["alt","x","y"])])],512)]),e("div",Je,[e("div",Ve,[e("img",{src:s(_)},null,8,Xe)]),e("div",qe,[e("img",{src:s(f)},null,8,Ye)])])])}}});const es=we(Ze,[["__scopeId","data-v-ca749ff1"]]);function le(l,a,n=1){var L,P,W,U,$,H,F,N,O,D;const d=a.getBoundingClientRect(),f=d.x*n,o=d.y*n,_=d.width*n,u=d.height*n,r=a.style,w=(L=r.filter)==null?void 0:L.toString();if(w&&(l.filter=w),a.childElementCount==1&&((P=r.overflow)==null?void 0:P.toString())=="hidden"){const p=a.children[0];if(p.tagName=="IMG"){const S=p.getBoundingClientRect(),{naturalWidth:x,naturalHeight:C}=p,Q=x*d.width/S.width,ae=C*d.height/S.height,Y=x*(d.x-S.x)/S.width,ne=C*(d.y-S.y)/S.height;l.drawImage(p,Y,ne,Q,ae,f,o,_,u)}return}let b;switch(a.tagName){case"IMG":b=a,l.drawImage(b,f,o,_,u);return;case"DIV":let p=!1;const S=(W=r.backgroundColor)==null?void 0:W.toString();S&&S!="rgba(0, 0, 0, 0)"&&(l.fillStyle=S,p=!0);const x=(U=r.borderWidth)==null?void 0:U.toString();if(x&&x!="0px"&&(l.strokeStyle=x.toString()||"black",p=!0),p){const C=Number.parseFloat((($=r.borderRadius)==null?void 0:$.toString())||"0");C?(ss(l,f,o,_,u,_*C),l.fill()):l.fillRect(f,o,_,u),l.fillStyle="none"}break}const{innerText:h}=a;if(a.childElementCount)for(let p=0;p<a.children.length;p++)le(l,a.children[p],n);else if(h&&h.length){l.fillStyle=((H=r.color)==null?void 0:H.toString())||"black";let S=Number.parseFloat(r.fontSize)*n*20;const x=[(F=r.fontStyle)==null?void 0:F.toString(),(N=r.fontWeight)==null?void 0:N.toString(),S+"px",(O=r.fontFamily)==null?void 0:O.toString()].join(" ");l.font=x,l.textAlign=((D=r.textAlign)==null?void 0:D.toString())||"left";let C=0;switch(l.textAlign){case"center":C=_/2;break;case"right":C=_;break}l.fillText(h,f+C,o+S,_),l.fillStyle="none"}l.filter="none",l.globalCompositeOperation="source-over"}function ss(l,a,n,d,f,o){return d<2*o&&(o=d/2),f<2*o&&(o=f/2),l.beginPath(),l.moveTo(a+o,n),l.arcTo(a+d,n,a+d,n+f,o),l.arcTo(a+d,n+f,a,n+f,o),l.arcTo(a,n+f,a,n,o),l.arcTo(a,n,a+d,n,o),l.closePath(),l}const se={Ca:{tenants:[{label:"Hidden Pick"},{label:"Wearbobe"}],studios:[{label:"Keraptink"}]},Cr:{tenants:[{label:"Area Lukis Braga"},{label:"Restory"},{label:"The Throne Room"},{label:"Lil Public"},{label:"Meatsologist"}],studios:[{label:"Waktoe Loeang"}]},Ma:{tenants:[{label:"Sweesh"},{label:"Abigail"},{label:"Bask Baker"}],studios:[{label:"Everidea x Bonbin"},{label:"The Hallway Space"},{label:"Tjs x Motionbeast"}]},Sa:{tenants:[],studios:[{label:"Tjs x Motionbeast"}]},Re:{tenants:[],studios:[{label:"Waste Meet Pop"},{label:"Grifen"}]},He:{tenants:[],studios:[{label:"Biang Lara"}]},Ev:{tenants:[{label:"Rameninpo"},{label:"Kinjo Shokudo"}],studios:[{label:"Tab Space"}]},Ru:{tenants:[{label:"Bandung Originale"}],studios:[]},In:{tenants:[{label:"Memmo"},{label:"Warung Makan Moy"}],studios:[{label:"Karasa.bdg"}]},Lo:{tenants:[{label:"Halodo"},{label:"House of Local Footwear"}],studios:[{label:"Fiorist"}]},En:{tenants:[{label:"Cuanki & Baso Mang Pohang"},{label:"Scoop & Skoops"},{label:"Inefable"},{label:"Gvfi"},{label:"Toko Bakmie Feng"}],studios:[{label:"Photo(nge)booth"},{label:"Wanara"}]},Ex:{tenants:[{label:"Ethouse Art Space"}],studios:[{label:"No:rue"}]}},B=l=>(Ie("data-v-7603223c"),l=l(),Le(),l),ts={class:"canvas-container"},ls=B(()=>e("div",{class:"logo-container center-col"},[e("img",{class:"logo",src:Re,style:{filter:"brightness(0)"}})],-1)),as={class:"parts"},ns={class:"part-container"},os={class:"part"},is={class:"part-container"},rs={class:"part"},cs={class:"part-container"},ds={class:"part"},us={class:"shadow-part"},hs=B(()=>e("br",null,null,-1)),ps={class:"instructions left small bold white"},gs=B(()=>e("div",{class:"spacer"},null,-1)),fs=B(()=>e("img",{class:"arrow",src:$e},null,-1)),_s={class:"parts"},ms={class:"part-container"},vs={class:"part"},bs={class:"part-container"},ys={class:"part"},ws={class:"part-container"},Ss={class:"part"},As={class:"shadow-part"},ks={class:"result-items"},Es=B(()=>e("div",{class:"number"},"1.",-1)),xs={class:"result-items-logos"},Cs={class:"container center-col"},Is=["src"],Ls=["innerHTML"],Rs={key:1},Ts={class:"result-items"},Ms=B(()=>e("div",{class:"number"},"2.",-1)),Bs={class:"result-items-logos"},Ws={class:"container center-col"},Us=["src"],Hs=["innerHTML"],Ps={class:"result-items"},$s=B(()=>e("div",{class:"number"},"3.",-1)),zs=B(()=>e("div",{class:"spacer"},null,-1)),Fs=B(()=>e("div",{class:"spacer"},null,-1)),Ns=ye({__name:"ResultPage",setup(l){const a="./imgs",n=Ae(),d=ke(),f=v(()=>d.lang),o=v(()=>n.regData.name),_=v(()=>n.progress.topArchetypes),u=v(()=>_.value.persona?pe[_.value.persona]:null),r=v(()=>{var t;return te[((t=u.value)==null?void 0:t.id)||"Ev"]}),w=v(()=>_.value.self?pe[_.value.self]:null),b=v(()=>{var t;return te[((t=w.value)==null?void 0:t.id)||"Ev"]}),h=v(()=>_.value.shadow?pe[_.value.shadow]:null),L=v(()=>{var t;return te[((t=h.value)==null?void 0:t.id)||"Ev"]}),P=v(()=>h.value?Pe[h.value.id]:null),W=R(null),U=R(null),$=R(""),H=R(null),F=R(null),N=R(null),O=R(null),D=R(!1);function p(t,c){if(t.tagName=="IMG")c.push(t);else for(let g=0;g<t.children.length;g++)p(t.children[g],c)}Ee(()=>{xe(()=>{N.value=document.getElementsByClassName("bg active")[0]||null,O.value=document.getElementsByClassName("part-large shadow")[0]||null;const t=[];p(N.value,t),p(H.value,t),p(F.value,t);const c=setInterval(()=>{for(let g=0;g<t.length;g++){const k=t[g];k!=null&&k.complete&&k.naturalHeight&&(t.splice(g,1),g--)}t.length||(clearInterval(c),D.value=!0)},1e3)})}),Ce(D,(t,c)=>{!c&&t&&(S(),O.value.style.animationDuration="10s",C())});function S(){const t=U.value,c=t.getContext("2d"),g=W.value.getBoundingClientRect().width,k=t.clientWidth/g;c&&(c.fillStyle="#ffffff",c.fillRect(0,0,t.clientWidth,t.clientHeight),le(c,N.value,k),le(c,H.value,k),le(c,F.value,k),$.value=t.toDataURL("image/png;base64"))}const x=R({tenants:[],studios:[]});function C(){var V,X,A,G;const t=x.value;u.value&&(t.tenants.push(...((V=se[u.value.id])==null?void 0:V.tenants)||[]),t.studios.push(...((X=se[u.value.id])==null?void 0:X.studios)||[])),w.value&&u.value!=w.value&&(t.tenants.push(...((A=se[w.value.id])==null?void 0:A.tenants)||[]),t.studios.push(...((G=se[w.value.id])==null?void 0:G.studios)||[]));const c={};t.tenants.forEach(m=>c[m.label]=m),t.tenants.length=0;for(const m in c)t.tenants.push(c[m]);const g={};t.studios.forEach(m=>g[m.label]=m),t.studios.length=0;for(const m in g)t.studios.push(g[m]);t.studios.sort((m,K)=>m.label>K.label?1:-1),t.tenants.sort((m,K)=>m.label>K.label?1:-1);const k=[...t.studios,...t.tenants],ee=a+"/result-items/";for(let m=0;m<k.length;m++){const K=k[m];let de=K.label;de=de.replace(/\/|\||:|\*|\?|"|<|>|\||&/g,"_");const _e=ee+de+".webp";var J=new Image;J.onload=()=>{K.imgUrl=_e},J.src=_e}}const Q=R(!1),ae="https://drive.google.com/file/d/1pfI1TheCeGEp14Nxp13-L-dYiC2lq762/view",Y=v(()=>{let t=I("map")||"";return t=t==null?void 0:t.replace(/\<a\>(.+)\<\/a\>/,`<a href="${ae}" target=”_blank”>$1</a>`),t}),ne={color:"white",fontFamily:"Mulish",fontWeight:"normal",fontSize:"0.9em"},j={color:"white",fontFamily:"Mulish",fontWeight:"normal",fontSize:"0.7em",textAlign:"center",width:"100%"},Z=Object.assign({},j,{fontStyle:"italic"}),fe={color:"black",fontSize:"0.9em"},oe=Object.assign({},j,fe),ie=Object.assign({},Z,fe),re={color:"white",fontFamily:"Mulish",fontWeight:"bold",fontSize:"0.7em",textAlign:"left",lineHeight:"140 %"},ce={backgroundColor:"white",borderRadius:"50%"};return(t,c)=>(y(),me(Te,{"inner-class":{result:!0}},{default:ue(()=>{var g,k,ee,J,V,X;return[e("div",{ref_key:"widthEl",ref:W,style:{width:"100vw"}},null,512),!s(o)||!s(u)||!s(w)||!s(h)?(y(),me(He,{key:0,message:JSON.stringify({name:s(o),persona:s(u),self:s(w),shadow:s(h)},null,2)},null,8,["message"])):(y(),E(q,{key:1},[e("div",ts,[e("canvas",{ref_key:"canvasEl",ref:U,width:1080,height:1920},null,512)]),e("div",{class:"top",ref_key:"topEl",ref:H},[ls,M(es,{name:s(o),persona:s(u),self:s(w),shadow:s(h)},null,8,["name","persona","self","shadow"])],512),e("div",{ref_key:"infoEl",ref:F,class:"info hidden-part"},[e("p",{style:ne}," Your fusion "),e("div",as,[e("div",ns,[e("span",{style:T(s(Z))}," (persona) ",4),e("div",{class:"part-circle",style:ce},[e("div",os,[M(z,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:s(r).x,y:s(r).y},null,8,["x","y"])])]),e("span",{style:j},i(((g=s(u))==null?void 0:g.labels.root)||""),1)]),e("div",is,[e("span",{style:T(s(Z))}," (self) ",4),e("div",{class:"part-circle",style:ce},[e("div",rs,[M(z,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:s(b).x,y:s(b).y},null,8,["x","y"])])]),e("span",{style:j},i(((k=s(w))==null?void 0:k.labels.root)||""),1)]),e("div",cs,[e("span",{style:T(s(Z))}," (shadow) ",4),e("div",{class:"part-circle",style:ce},[e("div",ds,[e("div",us,[M(z,{src:"shadow-icons.webp",alt:"Element 3","x-sprites":3,"y-sprites":4,x:s(L).x,y:s(L).y},null,8,["x","y"])])])]),e("span",{style:j},i(((ee=s(h))==null?void 0:ee.labels.shadow[s(f)])||""),1)])]),e("div",{style:re},i(s(I)("date")),1),e("div",{style:re},i(s(I)("place")),1),hs,e("div",{style:re}," ourchetype.com ")],512),e("p",ps,i(s(I)("instructions")),1),gs,e("div",{class:he(["details",{expanded:Q.value}])},[e("div",{class:"header",onClick:c[0]||(c[0]=A=>Q.value=!Q.value)},[e("h2",null,i(s(I)("fusion")),1),fs]),e("div",_s,[e("div",ms,[e("span",{style:T(s(ie))}," (persona) ",4),e("div",vs,[M(z,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:s(r).x,y:s(r).y},null,8,["x","y"])]),e("span",{style:T(s(oe))},i(((J=s(u))==null?void 0:J.labels.root)||""),5)]),e("div",bs,[e("span",{style:T(s(ie))}," (self) ",4),e("div",ys,[M(z,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:s(b).x,y:s(b).y},null,8,["x","y"])]),e("span",{style:T(s(oe))},i(((V=s(w))==null?void 0:V.labels.root)||""),5)]),e("div",ws,[e("span",{style:T(s(ie))}," (shadow) ",4),e("div",Ss,[e("div",As,[M(z,{src:"shadow-icons.webp",alt:"Element 3","x-sprites":3,"y-sprites":4,x:s(L).x,y:s(L).y},null,8,["x","y"])])]),e("span",{style:T(s(oe))},i(((X=s(h))==null?void 0:X.labels.shadow[s(f)])||""),5)])]),e("div",ks,[e("h3",null,[Es,e("div",null,i(s(I)("tenants")),1)]),x.value.tenants.length?(y(),E(q,{key:0},[e("div",xs,[(y(!0),E(q,null,ge(x.value.tenants,(A,G)=>(y(),E("figure",{key:G,class:"result-item"},[e("div",Cs,[A.imgUrl?(y(),E("img",{key:0,src:A.imgUrl},null,8,Is)):(y(),E("div",{key:1,class:he(["label",{small:A.maxWordLength>=10}])},i(A.label),3))]),e("figcaption",null,i(A.label),1)]))),128))]),e("p",{innerHTML:s(Y)},null,8,Ls)],64)):(y(),E("p",Rs,i(s(I)("tenants-empty")),1))]),e("div",Ts,[e("h3",null,[Ms,e("div",null,i(s(I)("studios")),1)]),e("div",Bs,[(y(!0),E(q,null,ge(x.value.studios,(A,G)=>(y(),E("figure",{key:G,class:"result-item"},[e("div",Ws,[A.imgUrl?(y(),E("img",{key:0,src:A.imgUrl},null,8,Us)):(y(),E("div",{key:1,class:he(["label",{small:A.maxWordLength>=10}])},i(A.label),3))]),e("figcaption",null,i(A.label),1)]))),128))]),e("p",{innerHTML:s(Y)},null,8,Hs)]),e("div",Ps,[e("h3",null,[$s,e("div",null,i(s(I)("shadow")),1)]),M(be,{class:"shadow-button",external:"",href:s(P)||void 0,outline:""},{default:ue(()=>[ve(" Shadow ")]),_:1},8,["href"])])],2),zs,M(be,{class:"cta",dark:"",disabled:!D.value,download:"Ourchetype.png",href:$.value},{default:ue(()=>[ve(" Share ")]),_:1},8,["disabled","download","href"]),Fs],64))]}),_:1}))}});const Js=we(Ns,[["__scopeId","data-v-7603223c"]]);export{Js as default};
