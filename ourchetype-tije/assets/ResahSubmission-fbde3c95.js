import{d as O,c as I,x as o,y as M,O as Q,o as a,a as l,e as P,F as m,i as B,G as E,t as g,u as t,n as W,_ as A,s as j,w as U,v as d,h as $,z as q,A as J,k as X,Q as Y,D as Z}from"./index-8cbc71c2.js";import{_ as w}from"./PageContainer.vue_vue_type_style_index_0_lang-f70dbd5b.js";const T=O({__name:"PostPaper",props:{content:null,size:null},setup(c){const s=c,i=I(()=>s.content),f=o(!1),n=o(5),p=o(null),x=I(()=>s.size*.8),b=o(0);let R=0;const G=20;let y=-1;M(i,()=>{clearTimeout(y),y=setTimeout(K,1e3)});const z=o([]);let k=-1;const H=o("");function K(){z.value.length=0,s.content.split(/\r\n|\n/).forEach(V=>{const S=[];z.value.push(S);let r=!1;V.split(new RegExp("(?<=[.|!|?])","g")).forEach(u=>{const v=[];S.push(v);const _=u.indexOf("!")>-1?1.5:1;u.split(/\s/).forEach(e=>{const C=e.toUpperCase()==e?1.5:1,h=[];e[0]=="*"&&(h.push("*"),e=e.substring(1));const D=e.length;let F=!1;e[D-1]=="*"&&(F=!0,e=e.substring(0,D-1)),h.push(...e.split("*")),F&&h.push("*"),h.forEach(N=>{if(N=="*")r=!r;else{const L=r?1.2:1;v.push({text:N,size:12*_*C*L,bold:r})}})})})}),k=setInterval(()=>{b.value=p.value.getClientRects()[0].height,R<G&&b.value>x.value?(n.value*=.9,R++):(clearInterval(k),f.value=!0,H.value=i.value)},5)}return Q(()=>{clearInterval(k),clearTimeout(y)}),(V,S)=>(a(),l("div",{ref:"paperEl",class:W(["post-paper",{settled:f.value}]),style:E({width:c.size+"px",height:c.size+"px",padding:(c.size-t(x))/2+"px",backgroundColor:"white",boxShadow:"rgba(0, 0, 0, 0.1) 1px 1px 5px"})},[P("div",{ref_key:"content",ref:p,class:"content",style:E({marginTop:(f.value?(t(x)-b.value)/2:0)+"px"})},[(a(!0),l(m,null,B(z.value,(r,u)=>(a(),l("div",{key:u,class:"paragraph neutral"},[(a(!0),l(m,null,B(r,(v,_)=>(a(),l(m,{key:u+"-"+_},[(a(!0),l(m,null,B(v,(e,C)=>(a(),l("div",{ref_for:!0,ref:"wordEls",key:u+"-"+_+"-"+C,class:"word",style:E({color:"black",fontFamily:"Kalam",fontSize:e.size*n.value+"px",fontWeight:e.bold?"bold":"normal"})},g(e.text),5))),128))],64))),128))]))),128))],4)],6))}});const ee=A(T,[["__scopeId","data-v-15d93f3a"]]),te=["placeholder"],se=O({__name:"ResahSubmission",setup(c){const s=o(""),i=I(()=>s.value.length>0);return(f,n)=>(a(),j(w,{"inner-class":{"resah-submission":!0}},{default:U(()=>[P("p",null,g(t(d)("1")),1),$(ee,{content:s.value,size:200},null,8,["content"]),q(P("textarea",{placeholder:t(d)("placeholder"),"onUpdate:modelValue":n[0]||(n[0]=p=>s.value=p)},null,8,te),[[J,s.value]]),$(Z,{class:"cta",onClick:n[1]||(n[1]=p=>t(i)?t(Y)(s.value):"")},{default:U(()=>[X(g(t(i)?t(d)("submit","general"):t(d)("skip"))+" & "+g(t(d)("continue","general")),1)]),_:1})]),_:1}))}});const le=A(se,[["__scopeId","data-v-1848b5e9"]]);export{le as default};
