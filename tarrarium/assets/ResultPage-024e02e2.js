import{_ as ne}from"./PageContainer.vue_vue_type_style_index_0_lang-be06826d.js";import{d as G,c as _,o as R,a as F,e,t as p,u as a,y as w,F as te,i as se,J as K,S as le,_ as J,h as C,b as ie,D as oe,s as x,H as re,T as ce,w as ue,v as U,x as Y,K as me,k as de,C as pe,R as Z,m as ge,q as he}from"./index-ff0b1a1d.js";import{s as _e,a as fe,p as ye,b as ve,i as Q}from"./images-84605f7b.js";import{_ as z}from"./SpriteSheetImg.vue_vue_type_script_setup_true_lang-2ee24f64.js";import{I as ke}from"./IncompleteAlert-3e9a35b4.js";const be=""+new URL("logo-belantara-light-a64a0e2c.webp",import.meta.url).href,Se={class:"result-image"},we={class:"intro"},Ie={class:"picture"},Ee=["src","alt"],xe=["src","alt"],Ce={class:"labels"},Re={class:"label-container"},$e=["src"],je={class:"label-container"},Ke=["src"],Le=G({__name:"ResultImage",props:{name:null,persona:null,self:null},setup(t){const n=t,c=_(()=>n.name?le(n.name,8):null),o=_(()=>n.self?_e[n.self.id]:null),r=_(()=>n.self?fe[n.self.id]:null),l=_(()=>n.persona?ye[n.persona.id]:null),u=_(()=>n.persona?ve[n.persona.id]:null),f={margin:"3.2vw 0",width:"30vw",color:"white",fontFamily:"Inclusive Sans",fontWeight:"lighter",fontStyle:"italic",fontSize:"0.7em",textAlign:"left",lineHeight:"100%"},i=Object.assign({},f,{fontWeight:"normal",fontSize:"1.2em"});return(b,A)=>{var S,I;return R(),F("div",Se,[e("p",we,[e("div",{style:f},p(a(w)("name-1")),1),(R(!0),F(te,null,se(a(c),($,E)=>(R(),F("div",{key:E,class:"name",style:K(a(i))},p($),5))),128)),e("div",{style:f},p(a(w)("name-2")),1)]),e("div",Ie,[e("img",{class:"part-large self",src:a(o),alt:(S=t.self)==null?void 0:S.labels.root},null,8,Ee),e("img",{class:"part-large persona",src:a(l),alt:(I=t.persona)==null?void 0:I.labels.root},null,8,xe)]),e("div",Ce,[e("div",Re,[e("img",{src:a(u)},null,8,$e)]),e("div",je,[e("img",{src:a(r)},null,8,Ke)])])])}}});const Be=J(Le,[["__scopeId","data-v-abfc01a6"]]),Te={class:"result-item"},Ae={class:"images"},We=["src"],Ne={class:"part-circle"},ze={class:"part"},Fe={class:"text"},He={class:"arch"},Me={class:"description"},De=G({__name:"ResultItem",props:{num:null,resultItem:null,archetype:null,x:null,y:null},setup(t){const n="./imgs";return(c,o)=>{var r,l,u,f;return R(),F("div",Te,[e("div",Ae,[e("img",{src:a(n)+"/result-items/"+((r=t.archetype)==null?void 0:r.id)+".webp"},null,8,We),e("div",Ne,[e("div",ze,[C(z,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:t.x,y:t.y},null,8,["x","y"])])])]),e("div",Fe,[e("h3",null,p(t.num+". "+((l=t.resultItem)==null?void 0:l.name)),1),e("p",He,p((u=t.archetype)==null?void 0:u.labels.root),1),e("p",Me,p((f=t.resultItem)==null?void 0:f.description),1)])])}}});const ee=J(De,[["__scopeId","data-v-a1e80a24"]]);function V(t,n,c=1){var I,$,E,L,B,W,T,j,M,D;const o=n.getBoundingClientRect(),r=o.x*c,l=o.y*c,u=o.width*c,f=o.height*c,i=n.style,b=(I=i.filter)==null?void 0:I.toString();if(b&&(t.filter=b),n.childElementCount==1&&(($=i.overflow)==null?void 0:$.toString())=="hidden"){const m=n.children[0];if(m.tagName=="IMG"){const d=m.getBoundingClientRect(),{naturalWidth:v,naturalHeight:y}=m,O=v*o.width/d.width,N=y*o.height/d.height,P=v*(o.x-d.x)/d.width,s=y*(o.y-d.y)/d.height;t.drawImage(m,P,s,O,N,r,l,u,f)}return}let A;switch(n.tagName){case"IMG":A=n,t.drawImage(A,r,l,u,f);return;case"DIV":let m=!1;const d=(E=i.backgroundColor)==null?void 0:E.toString();d&&d!="rgba(0, 0, 0, 0)"&&(t.fillStyle=d,m=!0);const v=(L=i.borderWidth)==null?void 0:L.toString();if(v&&v!="0px"&&(t.strokeStyle=v.toString()||"black",m=!0),m){const y=Number.parseFloat(((B=i.borderRadius)==null?void 0:B.toString())||"0");y?(Oe(t,r,l,u,f,u*y),t.fill()):t.fillRect(r,l,u,f),t.fillStyle="none"}break}const{innerText:S}=n;if(n.childElementCount)for(let m=0;m<n.children.length;m++)V(t,n.children[m],c);else if(S&&S.length){t.fillStyle=((W=i.color)==null?void 0:W.toString())||"black";let d=Number.parseFloat(i.fontSize)*c*20;const v=[(T=i.fontStyle)==null?void 0:T.toString(),(j=i.fontWeight)==null?void 0:j.toString(),d+"px",(M=i.fontFamily)==null?void 0:M.toString()].join(" ");t.font=v,t.textAlign=((D=i.textAlign)==null?void 0:D.toString())||"left";let y=0;switch(t.textAlign){case"center":y=u/2;break;case"right":y=u;break}t.fillText(S,r+y,l+d,u),t.fillStyle="none"}t.filter="none",t.globalCompositeOperation="source-over"}function Oe(t,n,c,o,r,l){return o<2*l&&(l=o/2),r<2*l&&(l=r/2),t.beginPath(),t.moveTo(n+l,c),t.arcTo(n+o,c,n+o,c+r,l),t.arcTo(n+o,c+r,n,c+r,l),t.arcTo(n,c+r,n,c,l),t.arcTo(n,c,n+o,c,l),t.closePath(),t}const ae={In:{name:"Pili Bug",description:"Kalau kata teman-teman, yang paling lebar senyumnya itu ya kamu! Dari satu senyumanmu, jadi kekuatan untuk teman-temanmu lewati hari."},He:{name:"Kuru (Tanah)",description:"Badan kuat, gerak cepat! Kamu adalah si pemberani yang jadi pahlawan untuk teman-temanmu."},Ru:{name:"Paman Mark",description:"Fokuusss teruuuss! Kalau kata teman-temanmu, kamu punya kekuatan kayak pemimpin. Selalu fokus sama mimpi-mimpi kamu."},Re:{name:"Kuru (Api)",description:"Kalau guru minta kamu bikin pohon, kamu pasti bikinnya kembang api. Karena buat kamu, jadi beda sendiri itu keren."},En:{name:"Olie",description:"Siapa coba yang seneng banget bikin rame satu kelas?! Emang cuma kamu yang jagonya bikin temen-temen terhibur, ga ada kamu ga rame~"},Lo:{name:"Moeg (Manis dkk)",description:"Kalau ada kamu, teman-teman biasanya nyaman dengan sifatmu yang penuh sayang. "},Cr:{name:"Khata (Adik)",description:"Kalau ada lomba bikin menara paling unik, kamu pasti jadi juara pilihan teman-temanmu! "},Sa:{name:"Ian",description:"Kalau di kelas ada kuis, kamu pasti jadi orang paling pertama yang angkat tangan! Seneeeng banget cari tau, juara umum deh kalau kata guru kamu."},Ev:{name:"Kuru (Air)",description:"Kalau ada lomba paling populer, kayaknya kamu deh juaranya. Tiap kelas ada kenalan, emang jago bangeeet nih cari kawan."},Ma:{name:"Zhamara (Kakak)",description:"Hmm, kalau teman-temanmu sukanya menggapai mimpi, kamu sih lebih senang menggapai angkasa dengan pengetahuan dan imajinasimu."},Ca:{name:"Kuru (Udara)",description:"Kamu itu kayak selimut hangat, punya kekuatan melindungi dan jadi penolong untuk bantu teman-teman saat kesulitan."},Ex:{name:"Kroba",description:"Buat kamu yang senang jalan-jalan ke banyak tempat, ketemu teman dan pengalaman baru itu jadi sesuatu yang bikin bahagia dan wah banget!"}},H=t=>(ge("data-v-1e37e80c"),t=t(),he(),t),Pe={class:"canvas-container"},Ve=H(()=>e("div",{class:"logo-container center-col"},[e("img",{class:"logo",src:be})],-1)),Ue={class:"parts"},Ge={class:"part-container"},Je={class:"part"},qe={class:"part-container"},Xe={class:"part"},Ye=H(()=>e("br",null,null,-1)),Ze={class:"instructions left small bold white"},Qe=H(()=>e("div",{class:"spacer"},null,-1)),ea={class:"details"},aa={class:"header"},ta={class:"parts"},na={class:"part-container"},sa={class:"part"},la={class:"part-container"},ia={class:"part"},oa={class:"result-items"},ra=H(()=>e("div",{class:"spacer"},null,-1)),ca=H(()=>e("div",{class:"spacer"},null,-1)),ua=G({__name:"ResultPage",setup(t){const n=ie(),c=oe();_(()=>c.lang);const o=_(()=>n.regData.name),r=_(()=>n.progress.topArchetypes),l=_(()=>r.value.persona?Z[r.value.persona]:null),u=_(()=>{var s;return Q[((s=l.value)==null?void 0:s.id)||"Ev"]}),f=_(()=>{var s;return ae[((s=l.value)==null?void 0:s.id)||"Ev"]}),i=_(()=>r.value.self?Z[r.value.self]:null),b=_(()=>{var s;return Q[((s=i.value)==null?void 0:s.id)||"Ev"]}),A=_(()=>{var s;return ae[((s=i.value)==null?void 0:s.id)||"Ev"]}),S=x(null),I=x(null),$=x(""),E=x(null),L=x(null),B=x(null),W=x(null),T=x(!1);function j(s,g){if(s.tagName=="IMG")g.push(s);else for(let h=0;h<s.children.length;h++)j(s.children[h],g)}re(()=>{ce(()=>{B.value=document.getElementsByClassName("bg active")[0]||null,W.value=document.getElementsByClassName("part-large shadow")[0]||null;const s=[];j(B.value,s),j(E.value,s),j(L.value,s);const g=setInterval(()=>{for(let h=0;h<s.length;h++){const k=s[h];k!=null&&k.complete&&k.naturalHeight&&(s.splice(h,1),h--)}s.length||(clearInterval(g),T.value=!0)},1e3)})}),ue(T,(s,g)=>{!g&&s&&(M(),W.value.style.animationDuration="10s")});function M(){const s=I.value,g=s.getContext("2d"),h=S.value.getBoundingClientRect().width,k=s.clientWidth/h;g&&(g.fillStyle="#ffffff",g.fillRect(0,0,s.clientWidth,s.clientHeight),V(g,B.value,k),V(g,E.value,k),V(g,L.value,k),$.value=s.toDataURL("image/png;base64"))}const D={color:"white",fontFamily:"Inclusive Sans",fontWeight:"normal",fontSize:"0.9em"},m={color:"white",fontFamily:"Inclusive Sans",fontWeight:"normal",fontSize:"0.7em",textAlign:"center",width:"100%"},d=Object.assign({},m,{fontStyle:"italic"}),v={color:"black",fontSize:"0.9em"},y=Object.assign({},m,v),O=Object.assign({},d,v),N={color:"white",fontFamily:"Mulish",fontWeight:"bold",fontSize:"0.7em",textAlign:"left",lineHeight:"140 %"},P={backgroundColor:"white",borderRadius:"50%"};return(s,g)=>(R(),U(ne,{"inner-class":{result:!0}},{default:Y(()=>{var h,k,q,X;return[e("div",{ref_key:"widthEl",ref:S,style:{width:"100vw"}},null,512),!a(o)||!a(l)||!a(i)?(R(),U(ke,{key:0,message:JSON.stringify({name:a(o),persona:a(l),self:a(i)},null,2)},null,8,["message"])):(R(),F(te,{key:1},[e("div",Pe,[e("canvas",{ref_key:"canvasEl",ref:I,width:1080,height:1920},null,512)]),e("div",{class:"top",ref_key:"topEl",ref:E},[Ve,C(Be,{name:a(o),persona:a(l),self:a(i)},null,8,["name","persona","self"])],512),e("div",{ref_key:"infoEl",ref:L,class:"info hidden-part"},[e("p",{style:D},p(a(w)("1")),1),e("div",Ue,[e("div",Ge,[e("span",{style:K(a(d))}," (persona) ",4),e("div",{class:"part-circle",style:P},[e("div",Je,[C(z,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:a(u).x,y:a(u).y},null,8,["x","y"])])]),e("span",{style:m},p(((h=a(l))==null?void 0:h.labels.root)||""),1)]),e("div",qe,[e("span",{style:K(a(d))}," (self) ",4),e("div",{class:"part-circle",style:P},[e("div",Xe,[C(z,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:a(b).x,y:a(b).y},null,8,["x","y"])])]),e("span",{style:m},p(((k=a(i))==null?void 0:k.labels.root)||""),1)])]),e("div",{style:N},p(a(w)("date")),1),e("div",{style:N},p(a(w)("place")),1),Ye,e("div",{style:N}," ourchetype.com ")],512),e("p",Ze,p(a(w)("intro")),1),Qe,e("div",ea,[e("div",aa,p(a(w)("fusion")),1),e("div",ta,[e("div",na,[e("span",{style:K(a(O))}," (persona) ",4),e("div",sa,[C(z,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:a(u).x,y:a(u).y},null,8,["x","y"])]),e("span",{style:K(a(y))},p(((q=a(l))==null?void 0:q.labels.root)||""),5)]),e("div",la,[e("span",{style:K(a(O))}," (self) ",4),e("div",ia,[C(z,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:a(b).x,y:a(b).y},null,8,["x","y"])]),e("span",{style:K(a(y))},p(((X=a(i))==null?void 0:X.labels.root)||""),5)])]),e("div",null,p(a(w)("character")),1),e("div",oa,[C(ee,{num:1,"result-item":a(f),archetype:a(l),x:a(u).x,y:a(u).y},null,8,["result-item","archetype","x","y"]),a(i).id!=a(l).id?(R(),U(ee,{key:0,num:2,"result-item":a(A),archetype:a(i),x:a(b).x,y:a(b).y},null,8,["result-item","archetype","x","y"])):me("",!0)]),e("div",null,p(a(w)("outro")),1)]),ra,C(pe,{class:"cta",dark:"",disabled:!T.value,download:"Ourchetype.png",href:$.value},{default:Y(()=>[de(" Share ")]),_:1},8,["disabled","download","href"]),ca],64))]}),_:1}))}});const _a=J(ua,[["__scopeId","data-v-1e37e80c"]]);export{_a as default};
