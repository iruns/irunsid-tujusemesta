import{_ as N}from"./PageContainer.vue_vue_type_style_index_0_lang-d0e0633b.js";import{B as P}from"./BasicButton-f08c6de9.js";import{d as V,b as L,y as Q,l as f,x as z,z as A,A as D,B as R,C as E,m as H,w as h,o as d,a as i,D as T,u as q,t as v,c as x,q as U,e as B,s as $,F as j,g as G,v as J,_ as K}from"./index-67c5e653.js";import{S as O}from"./SlidingSelector-ecb5924c.js";import{l as W}from"./math-6b78f75a.js";const X=""+new URL("area-1-bg-cec7b3eb.webp",import.meta.url).href,Y={class:"question-number"},Z={class:"questions"},ee={class:"label"},se={key:0,class:"label"},g=5,te=V({__name:"FeelingMixPage",setup(ne){const S=L(),k=Q(),m=f(()=>k.lang),a=z.currentRoute.value.meta.questionSettings,b=A(D[a.areaIdx][a.questionIdx]),p=f(()=>{const t=[],n=a.nQuestions||1,{answers:s}=b.value;for(let e=0;e<n;e++){const r=s[e],c={labels:[r.text[m.value],""],answers:[]};n==1&&(c.labels[1]=s[e+1].text[m.value],e++);for(let o=0;o<g;o++){const u={idx:o,text:{en:"",id:""},scores:{}},_=o/(g-1);for(const C in r.scores){const w=C,y=r.scores[w]||0,M=1-y;u.scores[w]=W(_,y,M)}c.answers.push(u)}t.push(c)}return t}),l=f(()=>S.getQuestionHistory(a.areaIdx,a.questionIdx));function F(t,n){l.value.sas[t]=g-n-1,I()}R(()=>{l.value.ss=new E});function I(){const t=l.value.ss,n=l.value.sas;for(const s in t){const e=s,r=p.value.reduce((c,o,u)=>{var _;return(((_=o.answers[n[u]])==null?void 0:_.scores[e])||0)+c},0)/p.value.length;t[e]=r}}return(t,n)=>(d(),H(N,{"inner-class":{"feeling-mix":!0}},{default:h(()=>[i("img",{class:"bg",src:X,style:T({left:-100*q(a).questionIdx+"vw"})},null,4),i("div",Y,[i("h1",null,v(b.value.idx+1),1)]),i("div",Z,[(d(!0),x(j,null,U(p.value,(s,e)=>(d(),x("div",{key:e,class:"question"},[i("div",ee,v(s.labels[0]),1),B(O,{lang:m.value,idx:e,vertical:!0,selection:g-1-(l.value.sas[e]||0),answers:s.answers,"select-answer":F},null,8,["lang","idx","selection","answers"]),s.labels[1].length?(d(),x("div",se,v(s.labels[1]),1)):$("",!0)]))),128))]),B(P,null,{default:h(()=>[G(v(q(J)("continue","general")),1)]),_:1})]),_:1}))}});const ie=K(te,[["__scopeId","data-v-a638b4f1"]]);export{ie as default};
