import{_ as N}from"./PageContainer.vue_vue_type_style_index_0_lang-d0fed475.js";import{B as P}from"./BasicButton-631f005d.js";import{d as V,b as L,y as Q,l as p,x as z,z as A,A as D,B as R,C as E,m as H,w as y,o as d,a as i,D as T,u as h,t as _,c as x,q as U,e as q,s as $,F as j,g as G,v as J,_ as K}from"./index-8346732f.js";import{S as O}from"./SlidingSelector-69588b47.js";import{l as W}from"./math-6b78f75a.js";const X=""+new URL("area-1-bg-cec7b3eb.webp",import.meta.url).href,Y={class:"question-number"},Z={class:"questions"},ee={class:"label"},se={key:0,class:"label"},v=5,te=V({__name:"FeelingMixPage",setup(ne){const B=L(),S=Q(),g=p(()=>S.lang),a=z.currentRoute.value.meta.questionSettings,f=A(D[a.areaIdx][a.questionIdx]),m=p(()=>{const t=[],n=a.nQuestions||1,{answers:s}=f.value;for(let e=0;e<n;e++){const r=s[e],c={labels:[r.text[g.value],""],answers:[]};n==1&&(c.labels[1]=s[e+1].text[g.value],e++);for(let o=0;o<v;o++){const u={idx:o,text:{en:"",id:""},scores:{}},I=o/(v-1);for(const C in r.scores){const b=C,w=r.scores[b]||0,M=1-w;u.scores[b]=W(I,w,M)}c.answers.push(u)}t.push(c)}return t}),l=p(()=>B.getQuestionHistory(a.areaIdx,a.questionIdx));function k(t,n){l.value.sas[t]=v-n-1,F()}R(()=>{l.value.ss=new E});function F(){const t=l.value.ss,n=l.value.sas;for(const s in t){const e=s,r=m.value.reduce((c,o,u)=>(o.answers[n[u]].scores[e]||0)+c,0)/m.value.length;t[e]=r}}return(t,n)=>(d(),H(N,{"inner-class":{"feeling-mix":!0}},{default:y(()=>[i("img",{class:"bg",src:X,style:T({left:-100*h(a).questionIdx+"vw"})},null,4),i("div",Y,[i("h1",null,_(f.value.idx+1),1)]),i("div",Z,[(d(!0),x(j,null,U(m.value,(s,e)=>(d(),x("div",{key:e,class:"question"},[i("div",ee,_(s.labels[0]),1),q(O,{lang:g.value,idx:e,vertical:!0,selection:v-1-(l.value.sas[e]||0),answers:s.answers,"select-answer":k},null,8,["lang","idx","selection","answers"]),s.labels[1].length?(d(),x("div",se,_(s.labels[1]),1)):$("",!0)]))),128))]),q(P,null,{default:y(()=>[G(_(h(J)("continue","general")),1)]),_:1})]),_:1}))}});const ie=K(te,[["__scopeId","data-v-dac9729d"]]);export{ie as default};
