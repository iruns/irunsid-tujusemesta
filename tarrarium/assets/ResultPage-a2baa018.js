import{_ as se,a as ne}from"./PageContainer.vue_vue_type_style_index_0_lang-c7b27096.js";import{d as G,c as _,o as $,a as F,e,t as p,u as a,y as w,F as te,i as le,J as K,S as ie,_ as J,h as R,b as oe,D as re,s as C,H as ce,T as ue,w as me,v as U,x as Y,K as de,k as pe,C as ge,R as Z,m as he,q as _e}from"./index-5fe6cfbb.js";import{s as fe,a as ye,p as ve,b as be,i as Q}from"./images-a90a8f28.js";import{_ as N}from"./SpriteSheetImg.vue_vue_type_script_setup_true_lang-a70fbcba.js";import{I as ke}from"./IncompleteAlert-e5a85a8a.js";const Se=""+new URL("logo-belantara-light-a64a0e2c.webp",import.meta.url).href,we={class:"result-image"},Ie={class:"intro"},Ee={class:"picture"},xe=["src","alt"],Ce=["src","alt"],Re={class:"labels"},$e={class:"label-container"},je=["src"],Ke={class:"label-container"},Le=["src"],Be=G({__name:"ResultImage",props:{name:null,persona:null,self:null},setup(t){const s=t,c=_(()=>s.name?ie(s.name,8):null),o=_(()=>s.self?fe[s.self.id]:null),r=_(()=>s.self?ye[s.self.id]:null),l=_(()=>s.persona?ve[s.persona.id]:null),u=_(()=>s.persona?be[s.persona.id]:null),f={margin:"3.2vw 0",width:"30vw",color:"white",fontFamily:"Inclusive Sans",fontWeight:"lighter",fontStyle:"italic",fontSize:"0.7em",textAlign:"left",lineHeight:"100%"},i=Object.assign({},f,{fontWeight:"normal",fontSize:"1.6em"});return(k,W)=>{var S,I;return $(),F("div",we,[e("p",Ie,[e("div",{style:f},p(a(w)("name-1")),1),($(!0),F(te,null,le(a(c),(j,E)=>($(),F("div",{key:E,class:"name",style:K(a(i))},p(j),5))),128)),e("div",{style:f},p(a(w)("name-2")),1)]),e("div",Ee,[e("img",{class:"part-large self",src:a(o),alt:(S=t.self)==null?void 0:S.labels.root},null,8,xe),e("img",{class:"part-large persona",src:a(l),alt:(I=t.persona)==null?void 0:I.labels.root},null,8,Ce)]),e("div",Re,[e("div",$e,[e("img",{src:a(u)},null,8,je)]),e("div",Ke,[e("img",{src:a(r)},null,8,Le)])])])}}});const Te=J(Be,[["__scopeId","data-v-e36eec0e"]]),Ae={class:"result-item"},We={class:"images"},Ne=["src"],ze={class:"part-circle"},Fe={class:"part"},He={class:"text"},Me={class:"arch"},Oe={class:"description"},Pe=G({__name:"ResultItem",props:{num:null,resultItem:null,archetype:null,x:null,y:null},setup(t){const s="./imgs";return(c,o)=>{var r,l,u,f;return $(),F("div",Ae,[e("div",We,[e("img",{src:a(s)+"/result-items/"+((r=t.archetype)==null?void 0:r.id)+".webp"},null,8,Ne),e("div",ze,[e("div",Fe,[R(N,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:t.x,y:t.y},null,8,["x","y"])])])]),e("div",He,[e("h3",null,p(t.num+". "+((l=t.resultItem)==null?void 0:l.name)),1),e("p",Me,p((u=t.archetype)==null?void 0:u.labels.root),1),e("p",Oe,p((f=t.resultItem)==null?void 0:f.description),1)])])}}});const ee=J(Pe,[["__scopeId","data-v-3faebdb2"]]);function z(t,s,c=1){var I,j,E,L,B,T,A,x,M,O;const o=s.getBoundingClientRect(),r=o.x*c,l=o.y*c,u=o.width*c,f=o.height*c,i=s.style,k=(I=i.filter)==null?void 0:I.toString();if(k&&(t.filter=k),s.childElementCount==1&&((j=i.overflow)==null?void 0:j.toString())=="hidden"){const m=s.children[0];if(m.tagName=="IMG"){const d=m.getBoundingClientRect(),{naturalWidth:b,naturalHeight:y}=m,P=b*o.width/d.width,D=y*o.height/d.height,V=b*(o.x-d.x)/d.width,n=y*(o.y-d.y)/d.height;t.drawImage(m,V,n,P,D,r,l,u,f)}return}let W;switch(s.tagName){case"IMG":W=s,t.drawImage(W,r,l,u,f);return;case"DIV":let m=!1;const d=(E=i.backgroundColor)==null?void 0:E.toString();d&&d!="rgba(0, 0, 0, 0)"&&(t.fillStyle=d,m=!0);const b=(L=i.borderWidth)==null?void 0:L.toString();if(b&&b!="0px"&&(t.strokeStyle=b.toString()||"black",m=!0),m){const y=Number.parseFloat(((B=i.borderRadius)==null?void 0:B.toString())||"0");y?(De(t,r,l,u,f,u*y),t.fill()):t.fillRect(r,l,u,f),t.fillStyle="none"}break}const{innerText:S}=s;if(s.childElementCount)for(let m=0;m<s.children.length;m++)z(t,s.children[m],c);else if(S&&S.length){t.fillStyle=((T=i.color)==null?void 0:T.toString())||"black";let d=Number.parseFloat(i.fontSize)*c*20;const b=[(A=i.fontStyle)==null?void 0:A.toString(),(x=i.fontWeight)==null?void 0:x.toString(),d+"px",(M=i.fontFamily)==null?void 0:M.toString()].join(" ");t.font=b,t.textAlign=((O=i.textAlign)==null?void 0:O.toString())||"left";let y=0;switch(t.textAlign){case"center":y=u/2;break;case"right":y=u;break}t.fillText(S,r+y,l+d,u),t.fillStyle="none"}t.filter="none",t.globalCompositeOperation="source-over"}function De(t,s,c,o,r,l){return o<2*l&&(l=o/2),r<2*l&&(l=r/2),t.beginPath(),t.moveTo(s+l,c),t.arcTo(s+o,c,s+o,c+r,l),t.arcTo(s+o,c+r,s,c+r,l),t.arcTo(s,c+r,s,c,l),t.arcTo(s,c,s+o,c,l),t.closePath(),t}const ae={In:{name:"Pili Bug",description:"Kalau kata teman-teman, yang paling lebar senyumnya itu ya kamu! Dari satu senyumanmu, jadi kekuatan untuk teman-temanmu lewati hari."},He:{name:"Kuru (Tanah)",description:"Badan kuat, gerak cepat! Kamu adalah si pemberani yang jadi pahlawan untuk teman-temanmu."},Ru:{name:"Paman Mark",description:"Fokuusss teruuuss! Kalau kata teman-temanmu, kamu punya kekuatan kayak pemimpin. Selalu fokus sama mimpi-mimpi kamu."},Re:{name:"Kuru (Api)",description:"Kalau guru minta kamu bikin pohon, kamu pasti bikinnya kembang api. Karena buat kamu, jadi beda sendiri itu keren."},En:{name:"Olie",description:"Siapa coba yang seneng banget bikin rame satu kelas?! Emang cuma kamu yang jagonya bikin temen-temen terhibur, ga ada kamu ga rame~"},Lo:{name:"Moeg (Manis dkk)",description:"Kalau ada kamu, teman-teman biasanya nyaman dengan sifatmu yang penuh sayang. "},Cr:{name:"Khata (Adik)",description:"Kalau ada lomba bikin menara paling unik, kamu pasti jadi juara pilihan teman-temanmu! "},Sa:{name:"Ian",description:"Kalau di kelas ada kuis, kamu pasti jadi orang paling pertama yang angkat tangan! Seneeeng banget cari tau, juara umum deh kalau kata guru kamu."},Ev:{name:"Kuru (Air)",description:"Kalau ada lomba paling populer, kayaknya kamu deh juaranya. Tiap kelas ada kenalan, emang jago bangeeet nih cari kawan."},Ma:{name:"Zhamara (Kakak)",description:"Hmm, kalau teman-temanmu sukanya menggapai mimpi, kamu sih lebih senang menggapai angkasa dengan pengetahuan dan imajinasimu."},Ca:{name:"Kuru (Udara)",description:"Kamu itu kayak selimut hangat, punya kekuatan melindungi dan jadi penolong untuk bantu teman-teman saat kesulitan."},Ex:{name:"Kroba",description:"Buat kamu yang senang jalan-jalan ke banyak tempat, ketemu teman dan pengalaman baru itu jadi sesuatu yang bikin bahagia dan wah banget!"}},H=t=>(he("data-v-f45ee6b5"),t=t(),_e(),t),Ve={class:"canvas-container"},Ue=H(()=>e("div",{class:"logo-container center-col"},[e("img",{class:"logo",src:Se})],-1)),Ge={class:"parts"},Je={class:"part-container"},qe={class:"part"},Xe={class:"part-container"},Ye={class:"part"},Ze=H(()=>e("div",{class:"logo-set"},[e("img",{class:"logo-img",src:ne})],-1)),Qe={class:"instructions left small bold white"},ea=H(()=>e("div",{class:"spacer"},null,-1)),aa={class:"details"},ta={class:"header"},sa={class:"parts"},na={class:"part-container"},la={class:"part"},ia={class:"part-container"},oa={class:"part"},ra={class:"result-items"},ca=H(()=>e("div",{class:"spacer"},null,-1)),ua=H(()=>e("div",{class:"spacer"},null,-1)),ma=G({__name:"ResultPage",setup(t){const s=oe(),c=re();_(()=>c.lang);const o=_(()=>s.regData.name),r=_(()=>s.progress.topArchetypes),l=_(()=>r.value.persona?Z[r.value.persona]:null),u=_(()=>{var n;return Q[((n=l.value)==null?void 0:n.id)||"Ev"]}),f=_(()=>{var n;return ae[((n=l.value)==null?void 0:n.id)||"Ev"]}),i=_(()=>r.value.self?Z[r.value.self]:null),k=_(()=>{var n;return Q[((n=i.value)==null?void 0:n.id)||"Ev"]}),W=_(()=>{var n;return ae[((n=i.value)==null?void 0:n.id)||"Ev"]}),S=C(null),I=C(null),j=C(""),E=C(null),L=C(null),B=C(null),T=C(null),A=C(!1);function x(n,g){if(n.tagName=="IMG")g.push(n);else for(let h=0;h<n.children.length;h++)x(n.children[h],g)}ce(()=>{ue(()=>{B.value=document.getElementsByClassName("bg")[0]||null,T.value=document.getElementsByClassName("header-light")[0]||null;const n=[];x(B.value,n),x(T.value,n),x(E.value,n),x(L.value,n);const g=setInterval(()=>{for(let h=0;h<n.length;h++){const v=n[h];v!=null&&v.complete&&v.naturalHeight&&(n.splice(h,1),h--)}n.length||(clearInterval(g),A.value=!0)},1e3)})}),me(A,(n,g)=>{!g&&n&&M()});function M(){const n=I.value,g=n.getContext("2d"),h=S.value.getBoundingClientRect().width,v=n.clientWidth/h;g&&(g.fillStyle="#ffffff",g.fillRect(0,0,n.clientWidth,n.clientHeight),z(g,B.value,v),z(g,T.value,v),z(g,E.value,v),z(g,L.value,v),j.value=n.toDataURL("image/png;base64"))}const O={color:"white",fontFamily:"Inclusive Sans",fontWeight:"normal",fontSize:"0.7em"},m={color:"white",fontFamily:"Inclusive Sans",fontWeight:"normal",fontSize:"0.7em",textAlign:"center",width:"100%"},d=Object.assign({},m,{fontStyle:"italic"}),b={color:"black",fontSize:"0.9em"},y=Object.assign({},m,b),P=Object.assign({},d,b),D={color:"white",fontFamily:"Inclusive Sans",fontWeight:"bold",fontSize:"0.7em",textAlign:"left",lineHeight:"140 %"},V={backgroundColor:"white",borderRadius:"50%"};return(n,g)=>($(),U(se,{"inner-class":{result:!0}},{default:Y(()=>{var h,v,q,X;return[e("div",{ref_key:"widthEl",ref:S,style:{width:"100vw"}},null,512),!a(o)||!a(l)||!a(i)?($(),U(ke,{key:0,message:JSON.stringify({name:a(o),persona:a(l),self:a(i)},null,2)},null,8,["message"])):($(),F(te,{key:1},[e("div",Ve,[e("canvas",{ref_key:"canvasEl",ref:I,width:1080,height:2100},null,512)]),e("div",{class:"top",ref_key:"topEl",ref:E},[Ue,R(Te,{name:a(o),persona:a(l),self:a(i)},null,8,["name","persona","self"])],512),e("div",{ref_key:"infoEl",ref:L,class:"info hidden-part"},[e("p",{style:O},p(a(w)("share-top")),1),e("div",Ge,[e("div",Je,[e("span",{style:K(a(d))}," (persona) ",4),e("div",{class:"part-circle",style:V},[e("div",qe,[R(N,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:a(u).x,y:a(u).y},null,8,["x","y"])])]),e("span",{style:m},p(((h=a(l))==null?void 0:h.labels.root)||""),1)]),e("div",Xe,[e("span",{style:K(a(d))}," (self) ",4),e("div",{class:"part-circle",style:V},[e("div",Ye,[R(N,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:a(k).x,y:a(k).y},null,8,["x","y"])])]),e("span",{style:m},p(((v=a(i))==null?void 0:v.labels.root)||""),1)])]),e("div",null,[e("p",{style:D},p(a(w)("share-bottom-1")),1),e("p",{style:D},p(a(w)("share-bottom-2")),1)]),Ze],512),e("p",Qe,p(a(w)("intro")),1),ea,e("div",aa,[e("div",ta,p(a(w)("fusion")),1),e("div",sa,[e("div",na,[e("span",{style:K(a(P))}," (persona) ",4),e("div",la,[R(N,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:a(u).x,y:a(u).y},null,8,["x","y"])]),e("span",{style:K(a(y))},p(((q=a(l))==null?void 0:q.labels.root)||""),5)]),e("div",ia,[e("span",{style:K(a(P))}," (self) ",4),e("div",oa,[R(N,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:a(k).x,y:a(k).y},null,8,["x","y"])]),e("span",{style:K(a(y))},p(((X=a(i))==null?void 0:X.labels.root)||""),5)])]),e("div",null,p(a(w)("character")),1),e("div",ra,[R(ee,{num:1,"result-item":a(f),archetype:a(l),x:a(u).x,y:a(u).y},null,8,["result-item","archetype","x","y"]),a(i).id!=a(l).id?($(),U(ee,{key:0,num:2,"result-item":a(W),archetype:a(i),x:a(k).x,y:a(k).y},null,8,["result-item","archetype","x","y"])):de("",!0)]),e("div",null,p(a(w)("outro")),1)]),ca,R(ge,{class:"cta",dark:"",disabled:!A.value,download:"Ourchetype.png",href:j.value},{default:Y(()=>[pe(" Share ")]),_:1},8,["disabled","download","href"]),ua],64))]}),_:1}))}});const fa=J(ma,[["__scopeId","data-v-f45ee6b5"]]);export{fa as default};
