import{T as x,d as _e,c as v,o as m,a as C,e,F as q,i as ue,H as I,u as s,t as c,B as M,h as B,I as K,W as we,_ as me,b as ye,G as Ee,s as T,L as Se,K as Ae,w as Ce,v as fe,x as ge,y as ke,n as de,k as Re,E as xe,V as pe,m as Ie,q as Le}from"./index-d2a2be78.js";import{I as Me}from"./IncompleteAlert-47a55aa8.js";const He="data:image/webp;base64,UklGRm4BAABXRUJQVlA4WAoAAAAQAAAALAAALAAAQUxQSB0BAAABgFzb1rLm0QEVuLu765iqoDhacIe4e3IiyPd/00wiYgJEbf+5L/qa3ngzaQT8RzB3zdqYu+YBQ4smliGDDYxtWtjGsOk8wdSugX0KTx2p3sPcZZh1DE9tEancw8JlkG0Cjy35W76DTcAQ9xIeG7K/dAfboAGeJTzU5XDxFrYhZd4VPNTk2MIt7MKKfGt4qMrxyUs4Cyvxr+EmJ6cmLuEsosC/gZusnJ64gKvUSdFzuM6KyvgFXKdPiJ3DdUbUxs7hOnNU/AKu0qI6eg432SMSl3CVEvX+DdzkDiQv4SwiRvrWcJvfk7qCXViM9a7goQ4Ub2EXEqP9a7gH7mHtF+O9K/avvKKje7ln6RY9XXNg7hJdHW+8OUTf3lNP1AIAVlA4ICoAAAAwAwCdASotAC0APm02mEikIyKhI4gAgA2JaQAAG4G9Pg4AAP77nMAAAAA=",Te=""+new URL("shadow-orbit-903cdd91.webp",import.meta.url).href,t="./imgs",Be={Ca:t+"/persona/Ca.webp",Ev:t+"/persona/Ev.webp",In:t+"/persona/In.webp",He:t+"/persona/He.webp",Ex:t+"/persona/Ex.webp",Re:t+"/persona/Re.webp",Lo:t+"/persona/Lo.webp",Cr:t+"/persona/Cr.webp",En:t+"/persona/En.webp",Sa:t+"/persona/Sa.webp",Ma:t+"/persona/Ma.webp",Ru:t+"/persona/Ru.webp"},We={Ca:t+"/persona/labels/Ca.webp",Ev:t+"/persona/labels/Ev.webp",In:t+"/persona/labels/In.webp",He:t+"/persona/labels/He.webp",Ex:t+"/persona/labels/Ex.webp",Re:t+"/persona/labels/Re.webp",Lo:t+"/persona/labels/Lo.webp",Cr:t+"/persona/labels/Cr.webp",En:t+"/persona/labels/En.webp",Sa:t+"/persona/labels/Sa.webp",Ma:t+"/persona/labels/Ma.webp",Ru:t+"/persona/labels/Ru.webp"},Pe={Ca:t+"/self/Ca.webp",Ev:t+"/self/Ev.webp",In:t+"/self/In.webp",He:t+"/self/He.webp",Ex:t+"/self/Ex.webp",Re:t+"/self/Re.webp",Lo:t+"/self/Lo.webp",Cr:t+"/self/Cr.webp",En:t+"/self/En.webp",Sa:t+"/self/Sa.webp",Ma:t+"/self/Ma.webp",Ru:t+"/self/Ru.webp"},Ue={Ca:t+"/self/labels/Ca.webp",Ev:t+"/self/labels/Ev.webp",In:t+"/self/labels/In.webp",He:t+"/self/labels/He.webp",Ex:t+"/self/labels/Ex.webp",Re:t+"/self/labels/Re.webp",Lo:t+"/self/labels/Lo.webp",Cr:t+"/self/labels/Cr.webp",En:t+"/self/labels/En.webp",Sa:t+"/self/labels/Sa.webp",Ma:t+"/self/labels/Ma.webp",Ru:t+"/self/labels/Ru.webp"},Y={},ze=[[x.Ca,x.Cr,x.En],[x.Ev,x.Ex,x.He],[x.In,x.Lo,x.Ma],[x.Re,x.Ru,x.Sa]];ze.forEach((a,n)=>{a.forEach((o,i)=>{Y[o]={x:i,y:n}})});const $e={class:"result-image"},Fe={class:"intro"},Ke={class:"picture"},Ne=["src","alt"],De=["src","alt"],Ge={ref:"shadowEl",class:"part-large shadow"},Ve=["alt"],Oe={class:"shadow-icon"},Qe={class:"labels"},je={class:"label-container"},Je=["src"],Xe={class:"label-container"},qe=["src"],Ye=_e({__name:"ResultImage",props:{name:null,persona:null,self:null,shadow:null},setup(a){const n=a,o=v(()=>{const g=n.name?we(n.name,8):null;if(!g)return g;let _=g[g.length-1]+"'";return _[_.length-2]!="s"&&(_+="s"),g[g.length-1]=_,g}),i=v(()=>n.self?Pe[n.self.id]:null),b=v(()=>n.self?Ue[n.self.id]:null),r=v(()=>n.persona?Be[n.persona.id]:null),h=v(()=>n.persona?We[n.persona.id]:null),p=v(()=>Y[n.shadow.id||"Ev"]),d={margin:"3.2vw 0",width:"30vw",height:"3vw",color:"black",fontFamily:"Mulish",fontWeight:"lighter",fontSize:"0.9em",textAlign:"left",lineHeight:"100%"},w=Object.assign({},d,{fontWeight:"normal",fontSize:"1.1em"});return(g,_)=>{var H,W,P,U;return m(),C("div",$e,[e("p",Fe,[(m(!0),C(q,null,ue(s(o),(N,$)=>(m(),C("div",{key:$,class:"name",style:I(s(w))},c(N),5))),128)),e("div",{style:d},c(s(M)("intro-1")),1),e("div",{style:d},c(s(M)("intro-2")),1)]),e("div",Ke,[e("img",{class:"part-large self",src:s(i),alt:(H=a.self)==null?void 0:H.labels.root},null,8,Ne),e("img",{class:"part-large persona",src:s(r),alt:(W=a.persona)==null?void 0:W.labels.root},null,8,De),e("div",Ge,[e("img",{class:"shadow-orbit",src:Te,alt:(P=a.shadow)==null?void 0:P.labels.root},null,8,Ve),e("div",Oe,[B(K,{src:"shadow-icons.webp",alt:(U=a.shadow)==null?void 0:U.labels.root,"x-sprites":3,"y-sprites":4,x:s(p).x,y:s(p).y},null,8,["alt","x","y"])])],512)]),e("div",Qe,[e("div",je,[e("img",{src:s(h),style:I({filter:"brightness(0)"})},null,12,Je)]),e("div",Xe,[e("img",{src:s(b),style:I({filter:"brightness(0)"})},null,12,qe)])])])}}});const Ze=me(Ye,[["__scopeId","data-v-35f878b6"]]);function ve(a,n,o=1){var H,W,P,U,N,$,Z,Q,D,ee;const i=n.getBoundingClientRect(),b=i.x*o,r=i.y*o,h=i.width*o,p=i.height*o,d=n.style,w=(H=d.filter)==null?void 0:H.toString();if(w&&(a.filter=w),n.childElementCount==1&&((W=d.overflow)==null?void 0:W.toString())=="hidden"){const u=n.children[0];if(u.tagName=="IMG"){const y=u.getBoundingClientRect(),{naturalWidth:k,naturalHeight:L}=u,se=k*i.width/y.width,ae=L*i.height/y.height,F=k*(i.x-y.x)/y.width,G=L*(i.y-y.y)/y.height;a.drawImage(u,F,G,se,ae,b,r,h,p)}return}let g;switch(n.tagName){case"IMG":g=n,a.drawImage(g,b,r,h,p);return;case"DIV":let u=!1;const y=(P=d.backgroundColor)==null?void 0:P.toString();y&&y!="rgba(0, 0, 0, 0)"&&(a.fillStyle=y,u=!0);const k=(U=d.borderWidth)==null?void 0:U.toString();if(k&&k!="0px"&&(a.strokeStyle=k.toString()||"black",u=!0),u){const L=Number.parseFloat(((N=d.borderRadius)==null?void 0:N.toString())||"0");L?(es(a,b,r,h,p,h*L),a.fill()):a.fillRect(b,r,h,p),a.fillStyle="none"}break}const{innerText:_}=n;if(n.childElementCount)for(let u=0;u<n.children.length;u++)ve(a,n.children[u],o);else if(_&&_.length){a.fillStyle=(($=d.color)==null?void 0:$.toString())||"black";let y=Number.parseFloat(d.fontSize)*o*20;const k=[(Z=d.fontStyle)==null?void 0:Z.toString(),(Q=d.fontWeight)==null?void 0:Q.toString(),y+"px",(D=d.fontFamily)==null?void 0:D.toString()].join(" ");a.font=k,a.textAlign=((ee=d.textAlign)==null?void 0:ee.toString())||"left";let L=0;switch(a.textAlign){case"center":L=h/2;break;case"right":L=h;break}a.fillText(_,b+L,r+y,h),a.fillStyle="none"}a.filter="none",a.globalCompositeOperation="source-over"}function es(a,n,o,i,b,r){return i<2*r&&(r=i/2),b<2*r&&(r=b/2),a.beginPath(),a.moveTo(n+r,o),a.arcTo(n+i,o,n+i,o+b,r),a.arcTo(n+i,o+b,n,o+b,r),a.arcTo(n,o+b,n,o,r),a.arcTo(n,o,n+i,o,r),a.closePath(),a}const le={Ca:{tenants:[{label:"Hidden Pick"},{label:"Wearbobe"}],studios:[{label:"Keraptink"}]},Cr:{tenants:[{label:"Area Lukis Braga"},{label:"Restory"},{label:"The Throne Room"},{label:"Lil Public"},{label:"Meatsologist"}],studios:[{label:"Waktoe Loeang"}]},Ma:{tenants:[{label:"Sweesh"},{label:"Abigail"},{label:"Bask Baker"}],studios:[{label:"Everidea x Bonbin"},{label:"The Hallway Space"},{label:"Tjs x Motionbeast"}]},Sa:{tenants:[{label:"Nanti Pagi Kopi"}],studios:[{label:"Tjs x Motionbeast"}]},Re:{tenants:[{label:"Nanti Pagi Kopi"}],studios:[{label:"Waste Meet Pop"},{label:"Grifen"}]},He:{tenants:[],studios:[{label:"Biang Lara"}]},Ev:{tenants:[{label:"Rameninpo"},{label:"Kinjo Shokudo"}],studios:[{label:"Tab Space"}]},Ru:{tenants:[{label:"Bandung Originale"}],studios:[]},In:{tenants:[{label:"Memmo"},{label:"Warung Makan Moy"}],studios:[{label:"Karasa.bdg"}]},Lo:{tenants:[{label:"Halodo"},{label:"House of Local Footwear"}],studios:[{label:"Fiorist"}]},En:{tenants:[{label:"Cuanki & Baso Mang Pohang"},{label:"Scoop & Skoops"},{label:"Inefable"},{label:"Gvfi"},{label:"Toko Bakmie Feng"}],studios:[{label:"Photo(nge)booth"},{label:"Wanara"}]},Ex:{tenants:[{label:"Ethouse Art Space"}],studios:[{label:"No:rue"}]}},z=a=>(Ie("data-v-daef6275"),a=a(),Le(),a),ss={class:"canvas-container"},ts={class:"parts"},ls={class:"part-container"},as={class:"part"},ns={class:"part-container"},os={class:"part"},is={class:"part-container"},rs={class:"part"},cs={class:"shadow-part"},ds=z(()=>e("br",null,null,-1)),ps={class:"instructions left small bold white"},us=z(()=>e("div",{class:"spacer"},null,-1)),bs=z(()=>e("img",{class:"arrow",src:He},null,-1)),hs={class:"parts"},fs={class:"part-container"},gs={class:"part"},_s={class:"part-container"},ms={class:"part"},vs={class:"part-container"},ws={class:"part"},ys={class:"shadow-part"},Es={class:"result-items"},Ss=z(()=>e("div",{class:"number"},"1.",-1)),As={class:"result-items-logos"},Cs={class:"container center-col"},ks=["src"],Rs=["innerHTML"],xs={key:1},Is={class:"result-items"},Ls=z(()=>e("div",{class:"number"},"2.",-1)),Ms={class:"result-items-logos"},Hs={class:"container center-col"},Ts=["src"],Bs=["innerHTML"],Ws={class:"result-items"},Ps=z(()=>e("div",{class:"number"},"3.",-1)),Us=z(()=>e("div",{class:"spacer"},null,-1)),zs=z(()=>e("div",{class:"spacer"},null,-1)),$s=_e({__name:"ResultPage",setup(a){const n="./imgs",o=ye(),i=Ee(),b=v(()=>i.lang),r=v(()=>o.regData.name),h=v(()=>o.progress.topArchetypes),p=v(()=>h.value.persona?pe[h.value.persona]:null),d=v(()=>{var l;return Y[((l=p.value)==null?void 0:l.id)||"Ev"]}),w=v(()=>h.value.self?pe[h.value.self]:null),g=v(()=>{var l;return Y[((l=w.value)==null?void 0:l.id)||"Ev"]}),_=v(()=>h.value.shadow?pe[h.value.shadow]:null),H=v(()=>{var l;return Y[((l=_.value)==null?void 0:l.id)||"Ev"]}),W=T(null),P=T(null),U=T(""),N=T(null),$=T(null),Z=T(null),Q=T(null),D=T(!1);Se(()=>{Ae(()=>{Z.value=document.getElementsByClassName("bg active")[0]||null,Q.value=document.getElementsByClassName("part-large shadow")[0]||null;const l=[],E=setInterval(()=>{for(let A=0;A<l.length;A++){const R=l[A];R!=null&&R.complete&&R.naturalHeight&&(l.splice(A,1),A--)}l.length||(clearInterval(E),D.value=!0)},1e3)})}),Ce(D,(l,E)=>{!E&&l&&(ee(),Q.value.style.animationDuration="10s",y())});function ee(){const l=P.value,E=l.getContext("2d"),A=W.value.getBoundingClientRect().width,R=l.clientWidth/A;E&&(E.fillStyle="#ffffff",E.fillRect(0,0,l.clientWidth,l.clientHeight),ve(E,$.value,R),U.value=l.toDataURL("image/png;base64"))}const u=T({tenants:[],studios:[]});function y(){var J,X,S,V;const l=u.value;p.value&&(l.tenants.push(...((J=le[p.value.id])==null?void 0:J.tenants)||[]),l.studios.push(...((X=le[p.value.id])==null?void 0:X.studios)||[])),w.value&&p.value!=w.value&&(l.tenants.push(...((S=le[w.value.id])==null?void 0:S.tenants)||[]),l.studios.push(...((V=le[w.value.id])==null?void 0:V.studios)||[]));const E={};l.tenants.forEach(f=>E[f.label]=f),l.tenants.length=0;for(const f in E)l.tenants.push(E[f]);const A={};l.studios.forEach(f=>A[f.label]=f),l.studios.length=0;for(const f in A)l.studios.push(A[f]);l.studios.sort((f,O)=>f.label>O.label?1:-1),l.tenants.sort((f,O)=>f.label>O.label?1:-1);const R=[...l.studios,...l.tenants],te=n+"/result-items/";for(let f=0;f<R.length;f++){const O=R[f];let ce=O.label;ce=ce.replace(/\/|\||:|\*|\?|"|<|>|\||&/g,"_");const he=te+ce+".webp";var j=new Image;j.onload=()=>{O.imgUrl=he},j.src=he}}const k=T(!1),L="https://drive.google.com/file/d/1APaCnyzgpiyVmVSHwQmEhInildkDq12C/view",se=v(()=>{let l=M("map")||"";return l=l==null?void 0:l.replace(/\<a\>(.+)\<\/a\>/,`<a href="${L}" target=”_blank”>$1</a>`),l}),ae={color:"white",fontFamily:"Mulish",fontWeight:"normal",fontSize:"0.9em"},F={color:"white",fontFamily:"Mulish",fontWeight:"normal",fontSize:"0.7em",textAlign:"center",width:"100%"},G=Object.assign({},F,{fontStyle:"italic"}),be={color:"black",fontSize:"0.9em"},ne=Object.assign({},F,be),oe=Object.assign({},G,be),ie={color:"white",fontFamily:"Mulish",fontWeight:"bold",fontSize:"0.7em",textAlign:"left",lineHeight:"140 %"},re={backgroundColor:"white",borderRadius:"50%"};return(l,E)=>(m(),fe(ke,{"inner-class":{result:!0}},{default:ge(()=>{var A,R,te,j,J,X;return[e("div",{ref_key:"widthEl",ref:W,style:{width:"100vw"}},null,512),!s(r)||!s(p)||!s(w)||!s(_)?(m(),fe(Me,{key:0,message:JSON.stringify({name:s(r),persona:s(p),self:s(w),shadow:s(_)},null,2)},null,8,["message"])):(m(),C(q,{key:1},[e("div",ss,[e("canvas",{ref_key:"canvasEl",ref:P,width:1080,height:1920},null,512)]),e("div",{class:"top",ref_key:"topEl",ref:N},[B(Ze,{name:s(r),persona:s(p),self:s(w),shadow:s(_)},null,8,["name","persona","self","shadow"])],512),e("div",{ref_key:"infoEl",ref:$,class:"info hidden-part"},[e("p",{style:ae}," Your fusion "),e("div",ts,[e("div",ls,[e("span",{style:I(s(G))}," (persona) ",4),e("div",{class:"part-circle",style:re},[e("div",as,[B(K,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:s(d).x,y:s(d).y},null,8,["x","y"])])]),e("span",{style:F},c(((A=s(p))==null?void 0:A.labels.root)||""),1)]),e("div",ns,[e("span",{style:I(s(G))}," (self) ",4),e("div",{class:"part-circle",style:re},[e("div",os,[B(K,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:s(g).x,y:s(g).y},null,8,["x","y"])])]),e("span",{style:F},c(((R=s(w))==null?void 0:R.labels.root)||""),1)]),e("div",is,[e("span",{style:I(s(G))}," (shadow) ",4),e("div",{class:"part-circle",style:re},[e("div",rs,[e("div",cs,[B(K,{src:"shadow-icons.webp",alt:"Element 3","x-sprites":3,"y-sprites":4,x:s(H).x,y:s(H).y},null,8,["x","y"])])])]),e("span",{style:F},c(((te=s(_))==null?void 0:te.labels.shadow[s(b)])||""),1)])]),e("div",{style:ie},c(s(M)("date")),1),e("div",{style:ie},c(s(M)("place")),1),ds,e("div",{style:ie}," ourchetype.com ")],512),e("p",ps,c(s(M)("instructions")),1),us,e("div",{class:de(["details",{expanded:k.value}])},[e("div",{class:"header",onClick:E[0]||(E[0]=S=>k.value=!k.value)},[e("h2",null,c(s(M)("fusion")),1),bs]),e("div",hs,[e("div",fs,[e("span",{style:I(s(oe))}," (persona) ",4),e("div",gs,[B(K,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:s(d).x,y:s(d).y},null,8,["x","y"])]),e("span",{style:I(s(ne))},c(((j=s(p))==null?void 0:j.labels.root)||""),5)]),e("div",_s,[e("span",{style:I(s(oe))}," (self) ",4),e("div",ms,[B(K,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:s(g).x,y:s(g).y},null,8,["x","y"])]),e("span",{style:I(s(ne))},c(((J=s(w))==null?void 0:J.labels.root)||""),5)]),e("div",vs,[e("span",{style:I(s(oe))}," (shadow) ",4),e("div",ws,[e("div",ys,[B(K,{src:"shadow-icons.webp",alt:"Element 3","x-sprites":3,"y-sprites":4,x:s(H).x,y:s(H).y},null,8,["x","y"])])]),e("span",{style:I(s(ne))},c(((X=s(_))==null?void 0:X.labels.shadow[s(b)])||""),5)])]),e("div",Es,[e("h3",null,[Ss,e("div",null,c(s(M)("tenants")),1)]),u.value.tenants.length?(m(),C(q,{key:0},[e("div",As,[(m(!0),C(q,null,ue(u.value.tenants,(S,V)=>(m(),C("figure",{key:V,class:"result-item"},[e("div",Cs,[S.imgUrl?(m(),C("img",{key:0,src:S.imgUrl},null,8,ks)):(m(),C("div",{key:1,class:de(["label",{small:S.maxWordLength>=10}])},c(S.label),3))]),e("figcaption",null,c(S.label),1)]))),128))]),e("p",{innerHTML:s(se)},null,8,Rs)],64)):(m(),C("p",xs,c(s(M)("tenants-empty")),1))]),e("div",Is,[e("h3",null,[Ls,e("div",null,c(s(M)("studios")),1)]),e("div",Ms,[(m(!0),C(q,null,ue(u.value.studios,(S,V)=>(m(),C("figure",{key:V,class:"result-item"},[e("div",Hs,[S.imgUrl?(m(),C("img",{key:0,src:S.imgUrl},null,8,Ts)):(m(),C("div",{key:1,class:de(["label",{small:S.maxWordLength>=10}])},c(S.label),3))]),e("figcaption",null,c(S.label),1)]))),128))]),e("p",{innerHTML:s(se)},null,8,Bs)]),e("div",Ws,[e("h3",null,[Ps,e("div",null,c(s(M)("shadow")),1)])])],2),Us,B(xe,{class:"cta",dark:"",disabled:!D.value,download:"Ourchetype.png",href:U.value},{default:ge(()=>[Re(" Share ")]),_:1},8,["disabled","download","href"]),zs],64))]}),_:1}))}});const Ns=me($s,[["__scopeId","data-v-daef6275"]]);export{Ns as default};
