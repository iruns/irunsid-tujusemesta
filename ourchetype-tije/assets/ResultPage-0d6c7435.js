import{U as y,d as ee,c as u,o as U,a as G,e,F as le,i as ae,H as v,u as t,t as S,B as V,h as I,I as B,Y as ne,_ as se,b as oe,G as re,s as M,L as ie,K as ce,w as pe,v as de,x as Z,y as fe,k as be,E as he,X as Y,m as ue,q as _e}from"./index-ebe57929.js";const we=""+new URL("shadow-orbit-903cdd91.webp",import.meta.url).href,s="./imgs",ge={Ca:s+"/persona/Ca.webp",Ev:s+"/persona/Ev.webp",In:s+"/persona/In.webp",He:s+"/persona/He.webp",Ex:s+"/persona/Ex.webp",Re:s+"/persona/Re.webp",Lo:s+"/persona/Lo.webp",Cr:s+"/persona/Cr.webp",En:s+"/persona/En.webp",Sa:s+"/persona/Sa.webp",Ma:s+"/persona/Ma.webp",Ru:s+"/persona/Ru.webp"},ye={Ca:s+"/persona/labels/Ca.webp",Ev:s+"/persona/labels/Ev.webp",In:s+"/persona/labels/In.webp",He:s+"/persona/labels/He.webp",Ex:s+"/persona/labels/Ex.webp",Re:s+"/persona/labels/Re.webp",Lo:s+"/persona/labels/Lo.webp",Cr:s+"/persona/labels/Cr.webp",En:s+"/persona/labels/En.webp",Sa:s+"/persona/labels/Sa.webp",Ma:s+"/persona/labels/Ma.webp",Ru:s+"/persona/labels/Ru.webp"},ve={Ca:s+"/self/Ca.webp",Ev:s+"/self/Ev.webp",In:s+"/self/In.webp",He:s+"/self/He.webp",Ex:s+"/self/Ex.webp",Re:s+"/self/Re.webp",Lo:s+"/self/Lo.webp",Cr:s+"/self/Cr.webp",En:s+"/self/En.webp",Sa:s+"/self/Sa.webp",Ma:s+"/self/Ma.webp",Ru:s+"/self/Ru.webp"},me={Ca:s+"/self/labels/Ca.webp",Ev:s+"/self/labels/Ev.webp",In:s+"/self/labels/In.webp",He:s+"/self/labels/He.webp",Ex:s+"/self/labels/Ex.webp",Re:s+"/self/labels/Re.webp",Lo:s+"/self/labels/Lo.webp",Cr:s+"/self/labels/Cr.webp",En:s+"/self/labels/En.webp",Sa:s+"/self/labels/Sa.webp",Ma:s+"/self/labels/Ma.webp",Ru:s+"/self/labels/Ru.webp"},O={},Se=[[y.Ca,y.Cr,y.En],[y.Ev,y.Ex,y.He],[y.In,y.Lo,y.Ma],[y.Re,y.Ru,y.Sa]];Se.forEach((l,a)=>{l.forEach((r,i)=>{O[r]={x:i,y:a}})});const Ee={class:"result-image"},Ce={class:"intro"},Re={class:"picture"},xe=["src","alt"],Ie=["src","alt"],Le={ref:"shadowEl",class:"part-large shadow"},ke=["alt"],He={class:"shadow-icon"},Me={class:"labels"},$e={class:"label-container"},We=["src"],Be={class:"label-container"},Te=["src"],ze=ee({__name:"ResultImage",props:{name:null,persona:null,self:null,shadow:null},setup(l){const a=l,r=u(()=>{const b=a.name?ne(a.name,8):null;if(!b)return b;let _=b[b.length-1]+"'";return _[_.length-2]!="s"&&(_+="s"),b[b.length-1]=_,b}),i=u(()=>a.self?ve[a.self.id]:null),f=u(()=>a.self?me[a.self.id]:null),n=u(()=>a.persona?ge[a.persona.id]:null),h=u(()=>a.persona?ye[a.persona.id]:null),g=u(()=>O[a.shadow.id||"Ev"]),c={margin:"3.2vw 0",width:"30vw",height:"3vw",color:"black",fontFamily:"Mulish",fontWeight:"lighter",fontSize:"0.9em",textAlign:"left",lineHeight:"100%"},C=Object.assign({},c,{fontWeight:"normal",fontSize:"1.1em"});return(b,_)=>{var L,k,H,$;return U(),G("div",Ee,[e("div",Ce,[(U(!0),G(le,null,ae(t(r),(W,T)=>(U(),G("div",{key:T,class:"name",style:v(t(C))},S(W),5))),128)),e("div",{style:c},S(t(V)("intro-1")),1),e("div",{style:c},S(t(V)("intro-2")),1)]),e("div",Re,[e("img",{class:"part-large self",src:t(i),alt:(L=l.self)==null?void 0:L.labels.root},null,8,xe),e("img",{class:"part-large persona",src:t(n),alt:(k=l.persona)==null?void 0:k.labels.root},null,8,Ie),e("div",Le,[e("img",{class:"shadow-orbit",src:we,alt:(H=l.shadow)==null?void 0:H.labels.root},null,8,ke),e("div",He,[I(B,{src:"shadow-icons.webp",alt:($=l.shadow)==null?void 0:$.labels.root,"x-sprites":3,"y-sprites":4,x:t(g).x,y:t(g).y},null,8,["alt","x","y"])])],512)]),e("div",Me,[e("div",$e,[e("img",{src:t(h),style:v({filter:"brightness(0)"})},null,12,We)]),e("div",Be,[e("img",{src:t(f),style:v({filter:"brightness(0)"})},null,12,Te)])])])}}});const Ae=se(ze,[["__scopeId","data-v-51890911"]]);function te(l,a,r=1){var L,k,H,$,W,T,A,z,P,j;const i=a.getBoundingClientRect(),f=i.x*r,n=i.y*r,h=i.width*r,g=i.height*r,c=a.style,C=(L=c.filter)==null?void 0:L.toString();if(C&&(l.filter=C),a.childElementCount==1&&((k=c.overflow)==null?void 0:k.toString())=="hidden"){const p=a.children[0];if(p.tagName=="IMG"){const d=p.getBoundingClientRect(),{naturalWidth:m,naturalHeight:w}=p,F=m*i.width/d.width,N=w*i.height/d.height,D=m*(i.x-d.x)/d.width,o=w*(i.y-d.y)/d.height;l.drawImage(p,D,o,F,N,f,n,h,g)}return}let b;switch(a.tagName){case"IMG":b=a,l.drawImage(b,f,n,h,g);return;case"DIV":let p=!1;const d=(H=c.backgroundColor)==null?void 0:H.toString();d&&d!="rgba(0, 0, 0, 0)"&&(l.fillStyle=d,p=!0);const m=($=c.borderWidth)==null?void 0:$.toString();if(m&&m!="0px"&&(l.strokeStyle=m.toString()||"black",p=!0),p){const w=Number.parseFloat(((W=c.borderRadius)==null?void 0:W.toString())||"0");w?(Fe(l,f,n,h,g,h*w),l.fill()):l.fillRect(f,n,h,g),l.fillStyle="none"}break}const{innerText:_}=a;if(a.childElementCount)for(let p=0;p<a.children.length;p++)te(l,a.children[p],r);else if(_&&_.length){l.fillStyle=((T=c.color)==null?void 0:T.toString())||"black";const d=Number.parseFloat(c.fontSize)*r*20,m=[(A=c.fontStyle)==null?void 0:A.toString(),(z=c.fontWeight)==null?void 0:z.toString(),d+"px",(P=c.fontFamily)==null?void 0:P.toString()].join(" ");l.font=m,l.textAlign=((j=c.textAlign)==null?void 0:j.toString())||"left";let w=0;switch(l.textAlign){case"center":w=h/2;break;case"right":w=h;break}l.fillText(_,f+w,n+d,h),l.fillStyle="none"}l.filter="none",l.globalCompositeOperation="source-over"}function Fe(l,a,r,i,f,n){return i<2*n&&(n=i/2),f<2*n&&(n=f/2),l.beginPath(),l.moveTo(a+n,r),l.arcTo(a+i,r,a+i,r+f,n),l.arcTo(a+i,r+f,a,r+f,n),l.arcTo(a,r+f,a,r,n),l.arcTo(a,r,a+i,r,n),l.closePath(),l}const X=l=>(ue("data-v-ac1407ea"),l=l(),_e(),l),Ne={class:"canvas-container"},De={class:"parts"},Oe={class:"part-container"},Pe={class:"part"},je={class:"part-container"},Ue={class:"part"},Ve={class:"part-container"},Ge={class:"part"},Ye={class:"shadow-part"},Xe=X(()=>e("br",null,null,-1)),qe={class:"parts"},Ke={class:"part-container"},Je={class:"part"},Qe={class:"part-container"},Ze={class:"part"},es={class:"part-container"},ss={class:"part"},ts={class:"shadow-part"},ls=X(()=>e("div",{class:"spacer"},null,-1)),as=X(()=>e("div",{class:"spacer"},null,-1)),ns=ee({__name:"ResultPage",setup(l){const a=oe(),r=re(),i=u(()=>r.lang),f=u(()=>a.regData.name),n=u(()=>a.progress.topArchetypes),h=u(()=>n.value.persona?Y[n.value.persona]:null),g=u(()=>{var o;return O[((o=h.value)==null?void 0:o.id)||"Ev"]}),c=u(()=>n.value.self?Y[n.value.self]:null),C=u(()=>{var o;return O[((o=c.value)==null?void 0:o.id)||"Ev"]}),b=u(()=>n.value.shadow?Y[n.value.shadow]:null),_=u(()=>{var o;return O[((o=b.value)==null?void 0:o.id)||"Ev"]}),L=M(null),k=M(null),H=M(""),$=M(null),W=M(null),T=M(null),A=M(null),z=M(!1);ie(()=>{ce(()=>{T.value=document.getElementsByClassName("bg active")[0]||null,A.value=document.getElementsByClassName("part-large shadow")[0]||null;const o=[],R=setInterval(()=>{for(let E=0;E<o.length;E++){const x=o[E];x!=null&&x.complete&&x.naturalHeight&&(o.splice(E,1),E--)}o.length||(clearInterval(R),z.value=!0)},1e3)})}),pe(z,(o,R)=>{!R&&o&&(P(),A.value.style.animationDuration="10s")});function P(){const o=k.value,R=o.getContext("2d"),E=L.value.getBoundingClientRect().width,x=o.clientWidth/E;R&&(R.fillStyle="#ffffff",R.fillRect(0,0,o.clientWidth,o.clientHeight),te(R,W.value,x),H.value=o.toDataURL("image/png;base64"))}const j={color:"white",fontFamily:"Mulish",fontWeight:"normal",fontSize:"0.9em"},p={color:"white",fontFamily:"Mulish",fontWeight:"normal",fontSize:"0.7em",textAlign:"center",width:"100%"},d=Object.assign({},p,{fontStyle:"italic"}),m={color:"black",fontSize:"0.9em"},w=Object.assign({},p,m),F=Object.assign({},d,m),N={color:"white",fontFamily:"Mulish",fontWeight:"bold",fontSize:"0.7em",textAlign:"left",lineHeight:"140 %"},D={backgroundColor:"white",borderRadius:"50%"};return(o,R)=>(U(),de(fe,{"inner-class":{result:!0}},{default:Z(()=>{var E,x,q,K,J,Q;return[e("div",{ref_key:"widthEl",ref:L,style:{width:"100vw"}},null,512),e("div",Ne,[e("canvas",{ref_key:"canvasEl",ref:k,width:1080,height:1920},null,512)]),e("div",{ref_key:"topEl",ref:$,class:"top"},[I(Ae,{name:t(f),persona:t(h),self:t(c),shadow:t(b)},null,8,["name","persona","self","shadow"])],512),e("div",{ref_key:"infoEl",ref:W,class:"info hidden-part"},[e("p",{style:j},"Your fusion"),e("div",De,[e("div",Oe,[e("span",{style:v(t(d))}," (persona) ",4),e("div",{class:"part-circle",style:D},[e("div",Pe,[I(B,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:t(g).x,y:t(g).y},null,8,["x","y"])])]),e("span",{style:p},S(((E=t(h))==null?void 0:E.labels.root)||""),1)]),e("div",je,[e("span",{style:v(t(d))}," (self) ",4),e("div",{class:"part-circle",style:D},[e("div",Ue,[I(B,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:t(C).x,y:t(C).y},null,8,["x","y"])])]),e("span",{style:p},S(((x=t(c))==null?void 0:x.labels.root)||""),1)]),e("div",Ve,[e("span",{style:v(t(d))}," (shadow) ",4),e("div",{class:"part-circle",style:D},[e("div",Ge,[e("div",Ye,[I(B,{src:"shadow-icons.webp",alt:"Element 3","x-sprites":3,"y-sprites":4,x:t(_).x,y:t(_).y},null,8,["x","y"])])])]),e("span",{style:p},S(((q=t(b))==null?void 0:q.labels.shadow[t(i)])||""),1)])]),e("div",{style:N},S(t(V)("date")),1),e("div",{style:N},S(t(V)("place")),1),Xe,e("div",{style:N},"ourchetype.com")],512),e("div",qe,[e("div",Ke,[e("span",{style:v(t(F))}," (persona) ",4),e("div",Je,[I(B,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:t(g).x,y:t(g).y},null,8,["x","y"])]),e("span",{style:v(t(w))},S(((K=t(h))==null?void 0:K.labels.root)||""),5)]),e("div",Qe,[e("span",{style:v(t(F))}," (self) ",4),e("div",Ze,[I(B,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:t(C).x,y:t(C).y},null,8,["x","y"])]),e("span",{style:v(t(w))},S(((J=t(c))==null?void 0:J.labels.root)||""),5)]),e("div",es,[e("span",{style:v(t(F))}," (shadow) ",4),e("div",ss,[e("div",ts,[I(B,{src:"shadow-icons.webp",alt:"Element 3","x-sprites":3,"y-sprites":4,x:t(_).x,y:t(_).y},null,8,["x","y"])])]),e("span",{style:v(t(w))},S(((Q=t(b))==null?void 0:Q.labels.shadow[t(i)])||""),5)])]),ls,I(he,{class:"cta",dark:"",disabled:!z.value,download:"Ourchetype.png",href:H.value},{default:Z(()=>[be(" Share ")]),_:1},8,["disabled","download","href"]),as]}),_:1}))}});const rs=se(ns,[["__scopeId","data-v-ac1407ea"]]);export{rs as default};
