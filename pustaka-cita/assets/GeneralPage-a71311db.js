import{d as H,w as B,x as X,D as Y,E as Z,o as r,a as c,n as b,_ as ee,b as se,W as te,J as oe,c as u,N as ae,z as S,A as U,e as i,u as e,i as k,t as p,F as y,m as v,K as re,Q as ne,h as P,I as T,H as le,k as ce,C,B as ue,r as j,f as ie,p as me}from"./index-76dea434.js";const de=H({__name:"PasscodeField",props:{passcode:{type:String,default:"passcode"},onMatch:{type:Function,default:()=>{}}},setup(L){const f=L,h=B("");return X(h,_=>{_.toLowerCase()==f.passcode.toLowerCase()&&f.onMatch()}),(_,t)=>Y((r(),c("input",{"onUpdate:modelValue":t[0]||(t[0]=x=>h.value=x),class:b({"passcode-field":!0}),placeholder:"Passcode"},null,512)),[[Z,h.value]])}});const pe=ee(de,[["__scopeId","data-v-0a979f6c"]]),_e={class:"sub-container"},ve={key:2,class:"room-title"},he={key:4,class:"path-container"},ye={class:"line-container"},be={class:"room-circle current"},fe={class:"room-number"},xe={class:"next"},ge={class:"room-circle"},ke={class:"room-number"},Ce={class:"room-title"},Ne=i("div",{class:"spacer"},null,-1),Se=H({__name:"GeneralPage",setup(L){const f=se(),h=te();oe();const _=u(()=>j.currentRoute.value),t=u(()=>{var s;return(s=_.value)==null?void 0:s.meta.generalPageSettings}),x=u(()=>{var s;return((s=t.value)==null?void 0:s.textStyles)||[]}),N=u(()=>{const s=[];let o;do o=C(s.length+1,_.value.name),o&&s.push(o);while(o);return s}),w=u(()=>{var s;return((s=t.value)==null?void 0:s.nTopTexts)||0}),F=u(()=>{const s=[],o=w.value;if(o)for(let a=0;a<o;a++)s.push(N.value[a]);return s}),I=u(()=>{const s=[],o=w.value;for(let a=o;a<N.value.length;a++)s.push(N.value[a]);return s}),J=u(()=>{var a;const s=[],o=(a=t.value)==null?void 0:a.roomNumber;if(o)for(let m=1;m<=3;m++)s.push(C(o+"-"+m,"room-name",void 0,!0));return s}),K=u(()=>{var a;const s=[],o=(a=t.value)==null?void 0:a.nextRoomNumber;if(o)for(let m=1;m<=3;m++)s.push(C(o+"-"+m,"room-name",void 0,!0));return s}),O=u(()=>_.value.meta.area),Q=u(()=>{var a;const s=j.currentRoute.value.name;return{name:(a=ie[s].meta.flow.next)==null?void 0:a.page}}),W=u(()=>me[_.value.meta.area]),q={yellow:0,red:1,blue:2},R=B(0),g=B(0);return ae(()=>{var o;const s=((o=t.value)==null?void 0:o.pathColor)||"yellow";R.value=q[s],g.value=h.getLineLightness(h.bgSettings)}),(s,o)=>(r(),S(ue,{"inner-class":{"general-page":!0}},{default:U(()=>{var a,m,A,V,$,M,z,D,G,E;return[i("div",_e,[e(F).length?(r(!0),c(y,{key:0},k(e(F),(n,l)=>{var d;return r(),c("div",{key:"t"+(l-1),class:b(["general-box",(d=e(x)[l])==null?void 0:d.classes])},[i("p",null,p(n),1)],2)}),128)):v("",!0),(a=e(t))!=null&&a.roomNumber&&!((m=e(t))!=null&&m.nextRoomNumber)&&!((A=e(t))!=null&&A.hideNumber)?(r(),c("div",{key:1,class:"room-box basic-frame",style:re({borderImageSource:e(ne)("basic-frame-"+g.value)})},p(e(t).roomNumber),5)):v("",!0),(V=e(t))!=null&&V.roomNumber?(r(),c("div",ve,[P(T,{class:"frame",src:"title-frame.webp","x-sprites":1,"y-sprites":2,x:0,y:g.value-1},null,8,["src","y"]),(r(!0),c(y,null,k(e(J),(n,l)=>(r(),c(y,{key:l},[n&&n.length?(r(),c("h1",{key:0,class:b([l==1?"room-type":"room-name forced-to-bottom"])},p(n),3)):v("",!0)],64))),128))])):v("",!0),e(I).length?(r(!0),c(y,{key:3},k(e(I),(n,l)=>{var d;return r(),c("div",{key:"t"+(l-1),class:b(["general-box",(d=e(x)[e(w)+l])==null?void 0:d.classes])},[i("p",null,p(n),1)],2)}),128)):v("",!0),($=e(t))!=null&&$.roomNumber&&((M=e(t))!=null&&M.nextRoomNumber)?(r(),c("div",he,[P(T,{class:"path-frame",src:"path-frame.webp","x-sprites":1,"y-sprites":2,x:0,y:g.value-1},null,8,["src","y"]),i("div",ye,[P(T,{class:"frame",src:"path.webp","x-sprites":1,"y-sprites":3,x:0,y:R.value},null,8,["src","y"]),i("div",be,[i("div",fe,p(e(t).roomNumber),1)]),i("div",xe,[i("div",ge,[i("div",ke,p(e(t).nextRoomNumber),1)]),i("div",Ce,[(r(!0),c(y,null,k(e(K),(n,l)=>(r(),c(y,{key:l},[n&&n.length?(r(),c("h2",{key:0,class:b([l==1?"room-type":"room-name"])},p(n),3)):v("",!0)],64))),128))])])])])):v("",!0)]),Ne,(z=e(t))!=null&&z.isPasscode?(r(),S(pe,{key:1,passcode:e(W),"on-match":()=>{e(f).setPasscodeProgress(e(O),!0),s.$router.replace(e(Q))}},null,8,["passcode","on-match"])):(r(),S(le,{key:0,replace:"","bg-color":((D=e(t))==null?void 0:D.ctaBGColor)||"black",color:((G=e(t))==null?void 0:G.ctaColor)||"white","no-nav":((E=e(t))==null?void 0:E.onCTAClick)!=null,onClick:o[0]||(o[0]=n=>{var l,d;return(l=e(t))!=null&&l.onCTAClick?(d=e(t))==null?void 0:d.onCTAClick():""})},{default:U(()=>{var n;return[ce(p(e(C)(((n=e(t))==null?void 0:n.cta)||"continue")),1)]}),_:1},8,["bg-color","color","no-nav"]))]}),_:1}))}});export{Se as default};
