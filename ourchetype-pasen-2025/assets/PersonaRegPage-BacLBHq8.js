import{d as w,b as y,g as B,s as o,c as f,w as C,v as D,x as h,o as P,e,t as r,u as t,y as n,n as m,z as b,A as V,h as I,B as N,k as R,_ as S}from"./index-MrH3bx19.js";import{_ as z}from"./PageContainer.vue_vue_type_style_index_0_lang-dctAGLUm.js";const A={class:"centered-column"},T=["placeholder"],U={class:"error-info"},$=["placeholder"],j={class:"error-info"},F=w({__name:"PersonaRegPage",setup(M){const u=y();B();const a=o(Object.assign({},u.regData)),g=o(!1),s=o(u.resultData.name||null),d=f(()=>s.value&&s.value.length>=3&&s.value.length<=20),p=f(()=>!a.value.age||typeof a.value.age=="string"?!1:!!a.value.age),x=f(()=>d.value),c=o(!1),_=o(!1);C(()=>a.value,()=>{d.value&&p.value?_.value=!0:_.value=!1},{deep:!0,immediate:!0});async function k(){if(!s.value)return;c.value=!0;const v=await u.submitRegForm(a.value);c.value=!1,v.status==200}return(v,l)=>(P(),D(z,{"inner-class":{"registration full-width":!0}},{default:h(()=>[e("div",A,[e("p",null,r(t(n)(1)),1),e("div",{class:m(["form",{checked:g.value}])},[e("div",{class:m(["field",{invalid:!d.value}])},[b(e("input",{id:"name","onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i),name:"name",placeholder:t(n)("name_placeholder"),class:"text"},null,8,T),[[V,s.value]]),e("div",U,r(t(n)("name_error_info")),1)],2),e("div",{class:m(["field",{invalid:!p.value}])},[b(e("input",{"onUpdate:modelValue":l[1]||(l[1]=i=>a.value.age=i),placeholder:t(n)("age_placeholder"),class:"text"},null,8,$),[[V,a.value.age,void 0,{number:!0}]]),e("div",j,r(t(n)("age_error_info")),1)],2)],2)]),e("div",{onClick:l[2]||(l[2]=i=>g.value=!0)},[I(N,{disabled:!x.value,class:"cta","bg-color":"white",color:"black","no-nav":"",loading:c.value,style:{height:"3rem"},onClick:k},{default:h(()=>[R(r(t(n)("submit")),1)]),_:1},8,["disabled","loading"])])]),_:1}))}}),E=S(F,[["__scopeId","data-v-372f031a"]]);export{E as default};
