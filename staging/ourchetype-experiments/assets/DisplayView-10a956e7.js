import{d as q,r,a as c,b as ae,p as be,o as S,c as k,f as l,n as d,F as K,h as he,_ as $,w as ge,e as se,t as j,u as D,g as Me,m as ee,k as Ee}from"./index-b0d6a495.js";const ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAgCAYAAACFM/9sAAAACXBIWXMAABYvAAAWLwESJu8cAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA7dJREFUaIHtml9oW2UYh5/3S9Yc6ZxCK1KHimBF2MqEXCgISq+kpckpdcQ5L5QOGu8UvPAPSinixS7Vm9UxrBdbIWibnqSFihj0QlFKUZkoK5SK2MLYwDWdSW16Xi/aSJZ2bWLSnhzpA4F8/x9+kHPC932iqtSCiEhXV9fRYDDYBrSKSIuqtopIC9Cqqi1As6o2icidIhJU1SNAALgbkLIpi23bsQ4sl9W5wA1gXUSWVXVNVVdE5G/gpohcB66p6nURuaaqxfJiOp1e1BoDkErHx+PxQ0tLS4+p6nGgXUQeAdo3P3fUIuEhOWBORK64rju3+f1yW1vbD8PDw2uVTLBjgJFI5AQQEZFngDD+DapaciIyo6rTqppOpVI/3q7jlgC7u7uPBIPBfiAOPLrHon7hF+BcoVAYmZqauuUR8m+AIiKRSGQAeBe4Z/8dfcFVEXnHcZzzxWenqCqxWOxwPp//BOjzWNAXiMin+Xz+penp6ZtGRCSfz49wEF7FqOrJUCh0UUREotHoKVUd9VrKpzxnVDXutYWPiRugw2sLH9NhgJDXFj7GMsCC1xY+ZsEAX3ht4WM+NyJy0WsLH3PJTExMzKiq47WJ3xCRccdxZs1m4XU2diYOqIy/CoXCGwAGwHGcX0XkNW+d/IOqvjo5OXkFynZjotHoCPCiR15+4WPHcfqLBVPaYlnWGREZ338n35DKZrMDpRW3BJhIJNZDodALBy+VbUlms9lYJpMplFaa8l6JRCK3srLyLHBh39QaHFU9b1nWyUwmky9v23FL37btAVX9EGjaS8EGpgC87TjO2dt12PVQqbe393HXdUeBh+os1+jMq+rzqVTq+506bfkJl5NMJr8DjgNn2ThW/L+jwEeWZZ3YLTyo4lgTwLbtJ4H3VTVcg2AjM2OMeSWZTH5T6YCqAgQYGhoys7Ozp1X1PeCBag0blN+At1Kp1Gi1B+1VB1gkFos15XK5UyLyJv49/pwXkQ+Wl5eHt3vDVsJ/DrBILBYLrK6u9qnqy0AnW69qNBquqn4pIufC4fD44OCgW8tkNQdYim3bD7uu2y8ip4EH6zZxfVgALrmueyGdTs/Xa9K6BlhKT09P2BjTB9jAsT1ZZHcuAw7wmeM4s3uxwJ4FWIpt2/cCTwFPA0+o6jHAqvMyeRH52XXdb40xXwcCga/Gxsau1nmNLexLgOV0dnYGm5ub240xHWzc7roPuB84ysaVt8PAIeCuzSE3gDVgBfgT+AP4HVgE5oCfLMuaSyQS+/4/9R8iKoVHNt4CWgAAAABJRU5ErkJggg==",Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAXCAYAAACMLIalAAAACXBIWXMAABYvAAAWLwESJu8cAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAddJREFUSIm91r9qFFEUx/HPTF5AYoKJKfxT+KcKdtYiaBW7vISID5BOBS3UWISIlfgAAUUEX0FbUYgBIRFc0UQMKiK7eCxmVsbFzNzJbvKDU91zz/nOmTu/uVlEaKMsy3KcxSWcxmFMYwKb+IAO3uAJXkTE71ZNIiIpcAzLZcNoEZ1y39HkXgkw47iFny1hBuMXHmByKChcxJchYQZjCxd2BYWr6I0YqB9dXGkFhXt7BDMYi0lQ5YT2A6gfl2uhcL4c7X5CdXGuypH1fSrLsgNYU/hNG73DusKjJnAEx1vW+IQTEbEN1SndbPF033ANJ3c4k6dwvcxLrXnjn9encOUfiZuf4lCi4U7hWWLd75iuQi0mblzGWKozl7XHcD+x/p2/xwkbCRuetwWqgOXlhJt6rJc8ziQkf8XB3QBVwCaxndBrNsecZt2OiK2EvB0VEZ9xNyF1LldMqrYeHg0DVNHDsl6dZnPFF1KnVxHxfhREEbGB1w1pMzlmGpLWRgFU0duG9elccQDr9HFEMH11GtancsXvoU7rI4JJrbeZY6UmoYfHo+OhrNerWV+huO6u+r9nLAzjTTWetbBDv1WMV+/hS4r33cVLzO8FUAVsvuzTLfsuYTwi/AHH75kZn83CLgAAAABJRU5ErkJggg==",Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAOCAYAAACl66WxAAAACXBIWXMAABYvAAAWLwESJu8cAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAS5JREFUOI3F1U0rhFEYxvHfsxm2rLBRlLAgrCwoSzVrZW8h38GeUoqNzTSfgthQYkFZW8rsmIUSytscizkjamaeR2a46+rUOaf7+p+3+wghQA8KKOMFJ8iHELRayMf8L9GvgJ44pg8lhDpaaTHIcgOfUuRQbDAh4A0LLQIZxWMTr6K4VY0mBFSwja5fgIzjOsWnLIX2q+6xiakfQAxhC88Z8j8mOMScn8UtTnEZV3wX+3PoxQimY5s1jmAGrxnI26l3zNS2c+mfYdZDCL6e76rqZf1rkAN0fIOJQIt4+kOQXXR++td5AQPYbzPEK9aQ++bd5FnO47gNIHuYqOuZoVZMYkN60WqmG+xIqVFJ7YPKEkmSDGIWYxhGP7qjKqr37UH1r7nCBc5wHkJ4T8v/AY/HlnK75JqXAAAAAElFTkSuQmCC";function _(b,a,e,v){return v&&(e=We(0,1,e)),b+(a-b)*e}function We(b,a,e){return Math.max(Math.min(e,a),b)}const Pe={key:0,src:Ce},Xe={key:1,src:Fe},Ve={key:0,src:Ce},Te={key:1,src:Fe},Ue="#cacaca",ze="#f2d219",Ye=q({__name:"PersonFace",props:{size:{},lookAt:{},coords:{},happiness:{},wonder:{},modEffectSource:{type:Function}},setup(b){const a=b,e=r(null),v=c(()=>a.size*.1),V=c(()=>1+a.wonder*1.5),y=c(()=>1+a.wonder),W=c(()=>1-a.wonder*.1),w=c(()=>a.size*.05),p=r({x:0,y:0});let T=-1,x=0,I=0;function M(){clearTimeout(T);let s=300+Math.random()*300;if(e.value){const m=a.lookAt,X=p.value;let u=x,F=I;if(typeof m=="number"){s*=_(.1,1,m);const t=Math.random();t>.6&&(t<_(.95,.6,m)?F=0:(F=Math.max(m,.8),u=Math.random()*2*Math.PI))}else{F=1;const t=e.value.getBoundingClientRect(),i=t.x+t.width/2,h=t.y+t.height/2;u=Math.atan2(m.y-h,m.x-i)}x=u,I=F;const Y=Math.cos(u),G=Math.sin(u);X.x=Y*F,X.y=G*F}setTimeout(M,s)}const f=r(!1);let C=-1;function P(s){s?(f.value=!1,clearTimeout(C)):C=setTimeout(()=>{f.value=!f.value,P()},f.value?200:1e4*(.1+Math.random()))}const g=c(()=>a.happiness>=Math.max(.5,a.wonder)),U=c(()=>a.happiness>=1?360:0),z=c(()=>a.happiness>=1?1.2:1),O=c(()=>a.happiness>=1?ze:Ue),o=c(()=>a.wonder>=1);return ae(()=>{M(),P()}),be(()=>{clearTimeout(C)}),(s,m)=>(S(),k("div",{class:"face animated",style:d({width:s.size+"px",height:s.size+"px",transform:`rotate(${U.value}deg) scale(${z.value})`,backgroundColor:O.value})},[l("div",{class:"mouth animated",style:d({width:"80%",height:"30%",left:"10%",bottom:"2%",transform:`
          translate(
          ${p.value.x*w.value}px,
          ${p.value.y*w.value}px)
          scaleX(${Math.max(s.happiness,s.wonder*.5)})
          scaleY(${Math.max(s.happiness,s.wonder*.5)})`})},m[0]||(m[0]=[l("img",{src:ke},null,-1)]),4),l("div",{ref_key:"eyesEl",ref:e,class:"eyes animated",style:d({width:"70%",left:"15%",top:"40%",transform:`translate(
          ${p.value.x*w.value}px,
          ${p.value.y*w.value}px)`})},[l("div",{class:"eye animated",style:d({width:v.value+"px",height:v.value+"px",transform:`scale(${V.value})`})},[g.value?(S(),k("img",Pe)):f.value&&!s.wonder?(S(),k("img",Xe)):(S(),k(K,{key:2},[l("div",{class:"eye-white animated",style:d({transform:`scale(${y.value})`})},null,4),l("div",{class:he(["eye-dot animated",{imagining:o.value}]),style:d({transform:`translate(
              ${p.value.x*w.value*.4}px,
              ${p.value.y*w.value*.4}px)
              scale(${W.value})`})},null,6)],64))],4),l("div",{class:"eye animated",style:d({width:v.value+"px",height:v.value+"px",transform:`scale(${V.value})`})},[g.value?(S(),k("img",Ve)):f.value&&!s.wonder?(S(),k("img",Te)):(S(),k(K,{key:2},[l("div",{class:"eye-white animated",style:d({transform:`scale(${y.value})`})},null,4),l("div",{class:he(["eye-dot animated",{imagining:o.value}]),style:d({transform:`translate(
              ${p.value.x*w.value*.5}px,
              ${p.value.y*w.value*.5}px)
              scale(${W.value})`})},null,6)],64))],4)],4)],4))}});const He=$(Ye,[["__scopeId","data-v-ded1896f"]]);function Be(b,a){return a*100+b}const Le={class:"centered-container top"},De={class:"name"},Oe=["src"],Je={class:"centered-container"},Ge={class:"content"},Ae=2e3,ye=.5,Re=q({__name:"PersonaSet",props:{gridCoords:{},id:{},size:{},happiness:{},wonder:{},params:{},isFocus:{type:Boolean},modEffectSource:{type:Function}},setup(b){const a="./",e=b,v={vision:{label:"Mage",speech:["Let's see","the many paths","ahead!"],color:"#7f1645"},joy:{label:"Muse",speech:["Let's find","joy!"],color:"#f5852a"},rule:{label:"Savior",speech:["Let's move","methodically"],color:"#dc1f26"},connection:{label:"Poet",speech:["Let's","hang out!"],color:"#0c72ed"}},V=r(4),y=c(()=>e.size*V.value),W=c(()=>e.size*((V.value-1)/2)),w=c(()=>`scaleX(${e.gridCoords.x>3?-1:1}) scaleY(${e.gridCoords.y<2?-1:1})`),p=c(()=>v[e.params.group]),T=r({coords:Object.assign({},e.gridCoords),attraction:.05,range:2.5}),x=r({coords:Object.assign({},e.gridCoords),attraction:1,range:2,forId:e.id}),I=r({coords:Object.assign({},e.gridCoords),attraction:1,range:2,happiness:1.1,forId:-1});let M=-1,f=-1;function C(){z(),e.modEffectSource(x.value),e.modEffectSource(I.value),U(),M=setInterval(U,Ae)}const P=[{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1},{x:-1,y:0},{x:-1,y:-1}];let g=-1;function U(){const{x:o,y:s}=e.gridCoords;g<0?g=Math.floor(Math.random()*P.length):(g+=2+Math.floor(Math.random()*3),g>P.length-1&&(g-=P.length));const m=P[g],X=x.value.coords,u=I.value;X.x=u.coords.x=o+m.x*ye,X.y=u.coords.y=s+m.y*ye,u.forId=-1,e.modEffectSource(u,!0),f=setTimeout(()=>{e.modEffectSource(u),u.forId=Be(o+m.x,s+m.y)},Ae/2)}function z(){e.modEffectSource(x.value,!0),clearInterval(M),e.modEffectSource(I.value,!0),clearTimeout(f)}ge(()=>e.params.group,O,{immediate:!0}),ge(()=>e.params.isFocus,O,{immediate:!0});function O(){const o=T.value;e.modEffectSource(o,!0),delete o.attraction,delete o.happiness,delete o.spirit,delete o.wonder,delete o.lookAt,z();const{isFocus:s}=e.params;switch(e.params.group){case"connection":o.range=1.5+(s?2:0),o.happiness=.1+(s?.1:0),o.attraction=.1+(s?.3:0);break;case"joy":o.range=1.5+(s?.5:0),o.happiness=.8+(s?.1:0),s&&C();break;case"rule":o.range=0+(s?6:0),o.spirit=.5+(s?.8:0),o.lookAt={x:1/0,y:0};break;case"vision":o.range=2.5+(s?2:0),o.wonder=.5+(s?.8:0),o.lookAt=.5+(s?.8:0);break}e.modEffectSource(T.value)}return se(()=>{T.value&&e.modEffectSource(T.value,!0),z()}),(o,s)=>(S(),k("div",{class:"persona-set animated",style:d({width:y.value+"px",height:y.value+"px",transform:`translate(
      ${-W.value}px,
      ${-W.value}px)
      scale(${o.isFocus?1.1:1})`,fontSize:y.value*.15+"px"})},[l("div",Le,[l("div",De,j(o.params.name),1)]),l("img",{class:"image",src:D(a)+"persona/persona-"+o.params.group+".png"},null,8,Oe),l("div",Je,[l("div",{class:"label",style:d({color:p.value.color})},j(p.value.label),5)]),l("div",{class:"speech-container",style:d({transform:w.value})},[l("div",{class:"speech animated",style:d({transform:`scale(${o.isFocus?1:0})`})},[l("div",{class:"stem",style:d({backgroundColor:p.value.color})},null,4),l("div",{class:"bubble",style:d({backgroundColor:p.value.color,transform:w.value})},[l("div",Ge,[(S(!0),k(K,null,Me(p.value.speech,(m,X)=>(S(),k("div",{key:X,class:"line"},j(m),1))),128))])],4)],4)],4)],4))}});const Ze=$(Re,[["__scopeId","data-v-bf314202"]]),Ke=.4,qe=q({__name:"PersonBase",props:{tWidth:{},tHeight:{},gridSizeBase:{},personParams:{},focusCoords:{},march:{},sources:{},modEffectSource:{type:Function}},setup(b){const a=b,e={x:a.gridSizeBase.x*a.tWidth,y:a.gridSizeBase.y*a.tHeight};function v(n){return n*e.x}function V(n){return n*e.y}const y=v(Ke),W=c(()=>a.personParams.coords),w=c(()=>({x:v(W.value.x+.5),y:V(W.value.y+.5)})),p=c(()=>{var n;return((n=a.personParams.persona)==null?void 0:n.isFocus)||!1}),T=c(()=>{const n=a.personParams.persona;let A=n?1:.5;const E=a.focusCoords;if(E){const J=a.personParams.coords;Math.abs(J.x-E.x)<=1&&Math.abs(J.y-E.y)<=1?A=1:A=n?.3:.1}return A}),x=r(0),I=r(0),M=r(0);let f=r(0);const C=r({x:0,y:0});let P=setInterval(()=>{const{sources:n,personParams:A}=a,{id:E}=A,{x:J,y:oe}=A.coords;x.value*=.8,I.value*=.8,M.value*=.8;const R=C.value;R.x=0,R.y=0;let te=0,ne=0;for(let N=0;N<n.length;N++){const{forId:re,coords:ce,range:le,spirit:ie,wonder:ue,happiness:de,attraction:pe,lookAt:_e}=n[N];if(re&&E!=re)continue;const me=oe-ce.y,ve=J-ce.x,fe=Math.sqrt(me**2+ve**2);if(fe>=le)continue;const Z=1-Math.max(0,fe-1)**.8/le,Q=.8;let H=0;if(ue){const B=ue*Z;H=Math.max(H,B),B>I.value&&(I.value=_(I.value,B,Q))}if(ie){const B=ie*Z;H=Math.max(H,B),B>x.value&&(x.value=_(x.value,B,Q))}if(de){const B=de*Z;H=Math.max(H,B),B>M.value&&(M.value=_(M.value,B,Q))}if(pe){const B=pe*Z;H=Math.max(H,B),R.x-=ve*B,R.y-=me*B}H>ne&&(ne=H,te=_e||0)}f.value=te},500);const g=r({x:0,y:0}),U=r(0);let z=-1;function O(){o(),z=setInterval(()=>{const n=g.value,A=M.value*.05,E=M.value*5;n.x=_(-A,A,Math.random()),n.y=_(-A,A,Math.random()),U.value=_(-E,E,Math.random())},1e3+Math.random()*300)}function o(){clearInterval(z)}const s=c(()=>_(0,.1,a.march+x.value,!0)*_(.8,1,Math.random())),m=c(()=>_(0,.2,a.march,!0)*_(.8,1,Math.random())),X=c(()=>_(2,.5,a.march+x.value,!0)*_(.8,1,Math.random())),u=r({x:0,y:0}),F=r(1),Y=r(1),G=r("linear"),t=r("linear");let i=-1;function h(){const n=X.value,A=n/2,E=u.value,J=m.value;E.x=J,F.value=n,E.y=-s.value,Y.value=A,t.value="ease-out",clearTimeout(i),i=setTimeout(()=>{E.y=0,t.value="ease-in",Y.value=A,clearTimeout(i),i=setTimeout(()=>{E.x=-J,F.value=n,clearTimeout(i),i=setTimeout(h,n*1e3)},A*1e3)},A*1e3)}function L(){clearTimeout(i);const n=u.value;n.x=0,n.y=0,t.value="ease-out",Y.value=.1}return ae(()=>{h(),O()}),se(()=>{L(),o(),clearInterval(P)}),(n,A)=>(S(),k("div",{class:"person-base animated",style:d({transform:`translate(${w.value.x}px, ${w.value.y}px)`,zIndex:n.personParams.persona?p.value?3:2:0,opacity:T.value})},[l("div",{class:"person animated",style:d({width:D(y)+"px",height:D(y)+"px",left:-D(y)/2+"px",top:-D(y)/2+"px"})},[l("div",{class:"lean animated",style:d({transform:`translate(
          ${v(C.value.x)}px,
          ${V(C.value.y)}px)`,transitionDuration:"5s"})},[l("div",{class:"march-x animated",style:d({transform:`translate(
            ${v(u.value.x)}px)`,transitionTimingFunction:G.value,transitionDuration:F.value+"s"})},[l("div",{class:"march-y animated",style:d({transform:`translateY(
              ${v(u.value.y)}px)`,transitionTimingFunction:t.value,transitionDuration:Y.value+"s"})},[l("div",{class:"wiggle",style:d({transform:`rotate(${U.value}deg)
                translate(
                ${v(g.value.x)}px,
                ${v(g.value.y)}px)`})},[n.personParams.persona?(S(),ee(Ze,{key:1,id:n.personParams.id,"grid-coords":W.value,size:D(y),"look-at":D(f),wonder:I.value,happiness:M.value,params:n.personParams.persona,"is-focus":p.value,"mod-effect-source":n.modEffectSource},null,8,["id","grid-coords","size","look-at","wonder","happiness","params","is-focus","mod-effect-source"])):(S(),ee(He,{key:0,size:D(y),"look-at":D(f),coords:n.personParams.coords,"focus-coords":n.focusCoords,wonder:I.value,happiness:M.value,"mod-effect-source":n.modEffectSource},null,8,["size","look-at","coords","focus-coords","wonder","happiness","mod-effect-source"]))],4)],4)],4)],4)],4)],4))}});const $e=$(qe,[["__scopeId","data-v-4607c967"]]),Ne={key:0,class:"persona-view",style:{width:"100vw",height:"100vh"}},xe=7,Se=5,we=8e3,Qe=2e3,Ie=1,je=q({__name:"DisplayView",setup(b){const a=r(0),e=r(0),v=c(()=>.05*a.value),V=c(()=>.09*e.value),y=c(()=>a.value+v.value*2),W=c(()=>e.value+V.value*2),p=r([{group:"connection",name:"Eli"},{group:"joy",name:"Cintya"},{group:"vision",name:"Novia"},{group:"vision",name:"Ganjar Radika"},{group:"connection",name:"Novianti"},{group:"rule",name:"Ibrahim Indra"}]).value;let T=0;const x=r([]),I=x.value,f=r([]).value;for(let t=0;t<Se;t++)for(let i=0;i<xe;i++){const h={id:Be(i,t),coords:{x:i,y:t},persona:null};t%2&&i%2&&(h.persona=p[T],T++,f.push(h)),I.push(h)}let C=0,P=-1,g=-1;const U=r(null);function z(){const t=f[C];U.value=t.coords;const i=t.persona;i.isFocus=!0,clearTimeout(g),g=setTimeout(()=>{delete i.isFocus,U.value=null,C++,C>=f.length&&(C=0)},we)}function O(){o(),z(),P=setInterval(z,we+Qe)}function o(){C=0,clearInterval(P),clearTimeout(g),f.forEach(t=>{delete t.persona.isFocus})}const s=r([]);function m(t,i){const h=s.value;if(!i)h.push(t);else{const L=h.indexOf(t);L>=0&&h.splice(L,1)}}const X=c(()=>{let t=0;const i=s.value;for(let h=0;h<i.length;h++){const{spirit:L}=i[h];L&&(t+=L*.2)}return t}),u=r(0),F=r(Ie);let Y=-1;function G(){clearInterval(Y),Y=setInterval(()=>{const t=X.value*10;u.value-=t,u.value<-200&&(F.value=0,u.value+=200+t,setTimeout(()=>{u.value-=t,F.value=Ie},1))},F.value*1e3)}return ae(()=>{a.value=document.documentElement.clientWidth,e.value=document.documentElement.clientHeight,O(),G()}),se(()=>{o(),clearInterval(Y)}),(t,i)=>a.value?(S(),k("div",Ne,[l("div",{class:"bg",style:d({left:u.value+"vw",transitionDuration:F.value+"s",opacity:0})},null,4),l("div",{class:"container",style:d({width:y.value+"px",height:W.value+"px",transform:`translate(${-v.value}px,${-V.value}px)`})},[(S(!0),k(K,null,Me(x.value,(h,L)=>(S(),ee($e,{key:L,"t-width":y.value,"t-height":W.value,"grid-size-base":{x:1/xe,y:1/Se},"person-params":h,"focus-coords":U.value,march:X.value,sources:s.value,"mod-effect-source":m},null,8,["t-width","t-height","grid-size-base","person-params","focus-coords","march","sources"]))),128))],4)])):Ee("",!0)}});const aa=$(je,[["__scopeId","data-v-40d6d8c4"]]);export{aa as default};
