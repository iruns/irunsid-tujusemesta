import{d as $,r as n,a as l,b as ae,p as Be,o as y,c as E,f as r,n as i,F as q,_ as N,w as ge,e as se,t as j,u as J,g as we,m as ee,k as ke}from"./index-a4d0de67.js";const Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAgCAYAAACFM/9sAAAACXBIWXMAABYvAAAWLwESJu8cAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA7dJREFUaIHtml9oW2UYh5/3S9Yc6ZxCK1KHimBF2MqEXCgISq+kpckpdcQ5L5QOGu8UvPAPSinixS7Vm9UxrBdbIWibnqSFihj0QlFKUZkoK5SK2MLYwDWdSW16Xi/aSJZ2bWLSnhzpA4F8/x9+kHPC932iqtSCiEhXV9fRYDDYBrSKSIuqtopIC9Cqqi1As6o2icidIhJU1SNAALgbkLIpi23bsQ4sl9W5wA1gXUSWVXVNVVdE5G/gpohcB66p6nURuaaqxfJiOp1e1BoDkErHx+PxQ0tLS4+p6nGgXUQeAdo3P3fUIuEhOWBORK64rju3+f1yW1vbD8PDw2uVTLBjgJFI5AQQEZFngDD+DapaciIyo6rTqppOpVI/3q7jlgC7u7uPBIPBfiAOPLrHon7hF+BcoVAYmZqauuUR8m+AIiKRSGQAeBe4Z/8dfcFVEXnHcZzzxWenqCqxWOxwPp//BOjzWNAXiMin+Xz+penp6ZtGRCSfz49wEF7FqOrJUCh0UUREotHoKVUd9VrKpzxnVDXutYWPiRugw2sLH9NhgJDXFj7GMsCC1xY+ZsEAX3ht4WM+NyJy0WsLH3PJTExMzKiq47WJ3xCRccdxZs1m4XU2diYOqIy/CoXCGwAGwHGcX0XkNW+d/IOqvjo5OXkFynZjotHoCPCiR15+4WPHcfqLBVPaYlnWGREZ338n35DKZrMDpRW3BJhIJNZDodALBy+VbUlms9lYJpMplFaa8l6JRCK3srLyLHBh39QaHFU9b1nWyUwmky9v23FL37btAVX9EGjaS8EGpgC87TjO2dt12PVQqbe393HXdUeBh+os1+jMq+rzqVTq+506bfkJl5NMJr8DjgNn2ThW/L+jwEeWZZ3YLTyo4lgTwLbtJ4H3VTVcg2AjM2OMeSWZTH5T6YCqAgQYGhoys7Ozp1X1PeCBag0blN+At1Kp1Gi1B+1VB1gkFos15XK5UyLyJv49/pwXkQ+Wl5eHt3vDVsJ/DrBILBYLrK6u9qnqy0AnW69qNBquqn4pIufC4fD44OCgW8tkNQdYim3bD7uu2y8ip4EH6zZxfVgALrmueyGdTs/Xa9K6BlhKT09P2BjTB9jAsT1ZZHcuAw7wmeM4s3uxwJ4FWIpt2/cCTwFPA0+o6jHAqvMyeRH52XXdb40xXwcCga/Gxsau1nmNLexLgOV0dnYGm5ub240xHWzc7roPuB84ysaVt8PAIeCuzSE3gDVgBfgT+AP4HVgE5oCfLMuaSyQS+/4/9R8iKoVHNt4CWgAAAABJRU5ErkJggg==",Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAXCAYAAACMLIalAAAACXBIWXMAABYvAAAWLwESJu8cAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAddJREFUSIm91r9qFFEUx/HPTF5AYoKJKfxT+KcKdtYiaBW7vISID5BOBS3UWISIlfgAAUUEX0FbUYgBIRFc0UQMKiK7eCxmVsbFzNzJbvKDU91zz/nOmTu/uVlEaKMsy3KcxSWcxmFMYwKb+IAO3uAJXkTE71ZNIiIpcAzLZcNoEZ1y39HkXgkw47iFny1hBuMXHmByKChcxJchYQZjCxd2BYWr6I0YqB9dXGkFhXt7BDMYi0lQ5YT2A6gfl2uhcL4c7X5CdXGuypH1fSrLsgNYU/hNG73DusKjJnAEx1vW+IQTEbEN1SndbPF033ANJ3c4k6dwvcxLrXnjn9encOUfiZuf4lCi4U7hWWLd75iuQi0mblzGWKozl7XHcD+x/p2/xwkbCRuetwWqgOXlhJt6rJc8ziQkf8XB3QBVwCaxndBrNsecZt2OiK2EvB0VEZ9xNyF1LldMqrYeHg0DVNHDsl6dZnPFF1KnVxHxfhREEbGB1w1pMzlmGpLWRgFU0duG9elccQDr9HFEMH11GtancsXvoU7rI4JJrbeZY6UmoYfHo+OhrNerWV+huO6u+r9nLAzjTTWetbBDv1WMV+/hS4r33cVLzO8FUAVsvuzTLfsuYTwi/AHH75kZn83CLgAAAABJRU5ErkJggg==",Ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAOCAYAAACl66WxAAAACXBIWXMAABYvAAAWLwESJu8cAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAS5JREFUOI3F1U0rhFEYxvHfsxm2rLBRlLAgrCwoSzVrZW8h38GeUoqNzTSfgthQYkFZW8rsmIUSytscizkjamaeR2a46+rUOaf7+p+3+wghQA8KKOMFJ8iHELRayMf8L9GvgJ44pg8lhDpaaTHIcgOfUuRQbDAh4A0LLQIZxWMTr6K4VY0mBFSwja5fgIzjOsWnLIX2q+6xiakfQAxhC88Z8j8mOMScn8UtTnEZV3wX+3PoxQimY5s1jmAGrxnI26l3zNS2c+mfYdZDCL6e76rqZf1rkAN0fIOJQIt4+kOQXXR++td5AQPYbzPEK9aQ++bd5FnO47gNIHuYqOuZoVZMYkN60WqmG+xIqVFJ7YPKEkmSDGIWYxhGP7qjKqr37UH1r7nCBc5wHkJ4T8v/AY/HlnK75JqXAAAAAElFTkSuQmCC";function H(V,s,a,h){return h&&(a=We(0,1,a)),V+(s-V)*a}function We(V,s,a){return Math.max(Math.min(a,s),V)}const Pe={key:0,src:Ce},Xe={key:1,src:Ie},Ve={key:0,src:Ce},Te={key:1,src:Ie},Ue="#cacaca",ze="#f2d219",Ye=$({__name:"PersonFace",props:{size:{},lookAt:{},coords:{},happiness:{},wonder:{},beam:{},modEffectSource:{type:Function}},setup(V){const s=V,a=n(null),h=l(()=>s.size*.1),T=l(()=>1+s.wonder*2),g=l(()=>1+s.wonder),W=l(()=>1-s.wonder*.3),x=l(()=>s.size*.05),m=n({x:0,y:0});let U=-1,A=0,M=0;function b(){clearTimeout(U);let e=300+Math.random()*300;if(a.value){const t=s.lookAt,B=m.value;let v=A,F=M;if(typeof t=="number"){e*=H(.1,1,t);const _=Math.random();_>.6&&(_<H(.95,.6,t)?F=0:(F=Math.max(t,.8),v=Math.random()*2*Math.PI))}else{F=1;const _=a.value.getBoundingClientRect(),c=_.x+_.width/2,u=_.y+_.height/2;v=Math.atan2(t.y-u,t.x-c)}A=v,M=F;const Y=Math.cos(v),O=Math.sin(v);B.x=Y*F,B.y=O*F}setTimeout(b,e)}const p=n(!1);let S=-1;function I(e){e?(p.value=!1,clearTimeout(S)):S=setTimeout(()=>{p.value=!p.value,I()},p.value?200:1e4*(.1+Math.random()))}const w=l(()=>s.happiness>=Math.max(.5,s.wonder)),P=l(()=>s.beam>=1?360:0),z=l(()=>s.beam>=1?1.2:1),D=l(()=>s.beam>=1?ze:Ue);return ae(()=>{b(),I()}),Be(()=>{clearTimeout(S)}),(e,t)=>(y(),E("div",{class:"face animated",style:i({width:e.size+"px",height:e.size+"px",transform:`rotate(${P.value}deg) scale(${z.value})`,backgroundColor:D.value})},[r("div",{class:"mouth animated",style:i({width:"80%",height:"30%",left:"10%",bottom:"2%",transform:`
          translate(
          ${m.value.x*x.value}px,
          ${m.value.y*x.value}px)
          scaleX(${Math.max(e.happiness,e.wonder*.5)})
          scaleY(${Math.max(e.happiness,e.wonder*.5)})`})},t[0]||(t[0]=[r("img",{src:Ee},null,-1)]),4),r("div",{ref_key:"eyesEl",ref:a,class:"eyes animated",style:i({width:"70%",left:"15%",top:"40%",transform:`translate(
          ${m.value.x*x.value}px,
          ${m.value.y*x.value}px)`})},[r("div",{class:"eye animated",style:i({width:h.value+"px",height:h.value+"px",transform:`scale(${T.value})`})},[w.value?(y(),E("img",Pe)):p.value&&!e.wonder?(y(),E("img",Xe)):(y(),E(q,{key:2},[r("div",{class:"eye-white animated",style:i({transform:`scale(${g.value})`})},null,4),r("div",{class:"eye-dot animated",style:i({transform:`translate(
              ${m.value.x*x.value*.4}px,
              ${m.value.y*x.value*.4}px)
              scale(${W.value})`})},null,4)],64))],4),r("div",{class:"eye animated",style:i({width:h.value+"px",height:h.value+"px",transform:`scale(${T.value})`})},[w.value?(y(),E("img",Ve)):p.value&&!e.wonder?(y(),E("img",Te)):(y(),E(q,{key:2},[r("div",{class:"eye-white animated",style:i({transform:`scale(${g.value})`})},null,4),r("div",{class:"eye-dot animated",style:i({transform:`translate(
              ${m.value.x*x.value*.5}px,
              ${m.value.y*x.value*.5}px)
              scale(${W.value})`})},null,4)],64))],4)],4)],4))}});const He=N(Ye,[["__scopeId","data-v-6278b8af"]]),Le={class:"centered-container top"},De={class:"name"},Oe=["src"],Je={class:"centered-container"},Ge={class:"content"},Ae=2e3,ye=.8,Re=$({__name:"PersonaSet",props:{gridCoords:{},id:{},size:{},happiness:{},wonder:{},params:{},isFocus:{type:Boolean},modEffectSource:{type:Function}},setup(V){const s="./",a=V,h={vision:{label:"Mage",speech:["Let's see","the many paths","ahead!"],color:"#7f1645"},joy:{label:"Muse",speech:["Let's find","joy!"],color:"#f5852a"},rule:{label:"Savior",speech:["Let's move","methodically"],color:"#dc1f26"},connection:{label:"Poet",speech:["Let's","hang out!"],color:"#0c72ed"}},T=n(4),g=l(()=>a.size*T.value),W=l(()=>a.size*((T.value-1)/2)),x=l(()=>`scaleX(${a.gridCoords.x>3?-1:1}) scaleY(${a.gridCoords.y<2?-1:1})`),m=l(()=>h[a.params.group]),U=n({coords:Object.assign({},a.gridCoords),attraction:.05,range:2.5}),A=n({coords:Object.assign({},a.gridCoords),attraction:1,range:2,forId:a.id}),M=n({coords:Object.assign({},a.gridCoords),attraction:.2,range:.1,beam:2});let b=-1,p=-1;function S(){z(),a.modEffectSource(A.value),a.modEffectSource(M.value),P(),b=setInterval(P,Ae)}const I=[{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1},{x:-1,y:0},{x:-1,y:-1}];let w=-1;function P(){const{x:e,y:t}=a.gridCoords;w<0?w=Math.floor(Math.random()*I.length):(w+=2+Math.floor(Math.random()*3),w>I.length-1&&(w-=I.length));const B=I[w];let v=A.value.coords;v.x=e+B.x*ye,v.y=t+B.y*ye,v=M.value.coords,v.x=e,v.y=t,p=setTimeout(()=>{v.x=e+B.x,v.y=t+B.y},Ae/2)}function z(){a.modEffectSource(A.value,!0),clearInterval(b),a.modEffectSource(M.value,!0),clearTimeout(p)}ge(()=>a.params.group,D,{immediate:!0}),ge(()=>a.params.isFocus,D,{immediate:!0});function D(){const e=U.value;a.modEffectSource(e,!0),delete e.attraction,delete e.happiness,delete e.spirit,delete e.wonder,delete e.lookAt,z();const{isFocus:t}=a.params;switch(a.params.group){case"connection":e.range=1.5+(t?2:0),e.happiness=.1+(t?.1:0),e.attraction=.1+(t?.2:0);break;case"joy":e.range=1.5+(t?.5:0),e.happiness=.8+(t?.1:0),t&&S();break;case"rule":e.range=0+(t?6:0),e.spirit=.5+(t?.8:0),e.lookAt={x:1/0,y:0};break;case"vision":e.range=2.5+(t?2:0),e.wonder=.5+(t?.8:0),e.lookAt=.5+(t?.8:0);break}a.modEffectSource(U.value)}return se(()=>{U.value&&a.modEffectSource(U.value,!0),z()}),(e,t)=>(y(),E("div",{class:"persona-set animated",style:i({width:g.value+"px",height:g.value+"px",transform:`translate(
      ${-W.value}px,
      ${-W.value}px)
      scale(${e.isFocus?1.1:1})`,fontSize:g.value*.15+"px"})},[r("div",Le,[r("div",De,j(e.params.name),1)]),r("img",{class:"image",src:J(s)+"persona/persona-"+e.params.group+".png"},null,8,Oe),r("div",Je,[r("div",{class:"label",style:i({color:m.value.color})},j(m.value.label),5)]),r("div",{class:"speech-container",style:i({transform:x.value})},[r("div",{class:"speech animated",style:i({transform:`scale(${e.isFocus?1:0})`})},[r("div",{class:"stem",style:i({backgroundColor:m.value.color})},null,4),r("div",{class:"bubble",style:i({backgroundColor:m.value.color,transform:x.value})},[r("div",Ge,[(y(!0),E(q,null,we(m.value.speech,(B,v)=>(y(),E("div",{key:v,class:"line"},j(B),1))),128))])],4)],4)],4)],4))}});const Ze=N(Re,[["__scopeId","data-v-063cc371"]]),Ke=.4,qe=$({__name:"PersonBase",props:{tWidth:{},tHeight:{},gridSizeBase:{},personParams:{},focusCoords:{},march:{},sources:{},modEffectSource:{type:Function}},setup(V){const s=V,a={x:s.gridSizeBase.x*s.tWidth,y:s.gridSizeBase.y*s.tHeight};function h(o){return o*a.x}function T(o){return o*a.y}const g=h(Ke),W=l(()=>s.personParams.coords),x=l(()=>({x:h(W.value.x+.5),y:T(W.value.y+.5)})),m=l(()=>{var o;return((o=s.personParams.persona)==null?void 0:o.isFocus)||!1}),U=l(()=>{const o=s.personParams.persona;let f=o?1:.5;const k=s.focusCoords;if(k){const G=s.personParams.coords;Math.abs(G.x-k.x)<=1&&Math.abs(G.y-k.y)<=1?f=1:f=o?.3:.1}return f}),A=n(0),M=n(0),b=n(0),p=n(0);let S=n(0);const I=n({x:0,y:0});let w=setInterval(()=>{const{sources:o,personParams:f}=s,{id:k}=f,{x:G,y:te}=f.coords;A.value*=.8,M.value*=.8,b.value*=.8,p.value*=.8;const Z=I.value;Z.x=0,Z.y=0;let oe=0,ne=0;for(let Q=0;Q<o.length;Q++){const{forId:re,coords:ce,range:le,spirit:ie,wonder:ue,happiness:de,attraction:me,beam:pe,lookAt:_e}=o[Q];if(re&&k!=re)continue;const ve=te-ce.y,he=G-ce.x,fe=Math.sqrt(ve**2+he**2);if(fe>=le)continue;const R=1-Math.max(0,fe-1)**.8/le,K=R*.4;let X=0;if(ue){const C=ue*R;X=Math.max(X,C),M.value+=C*K,M.value=Math.min(1,M.value)}if(ie){const C=ie*R;X=Math.max(X,C),A.value+=C*K,A.value=Math.min(1,A.value)}if(de){const C=de*R;X=Math.max(X,C),b.value+=C*K,b.value=Math.min(1,b.value)}if(pe){const C=pe*R;X=Math.max(X,C),p.value+=C*K,p.value=Math.min(1,p.value)}if(me){const C=me*R;X=Math.max(X,C),Z.x-=he*C,Z.y-=ve*C}X>ne&&(ne=X,oe=_e||0)}S.value=oe},500);const P=n({x:0,y:0}),z=n(0);let D=-1;function e(){t(),D=setInterval(()=>{const o=P.value,f=b.value*.05,k=b.value*5;o.x=H(-f,f,Math.random()),o.y=H(-f,f,Math.random()),z.value=H(-k,k,Math.random())},1e3+Math.random()*300)}function t(){clearInterval(D)}const B=l(()=>H(0,.1,s.march+A.value,!0)*H(.8,1,Math.random())),v=l(()=>H(0,.2,s.march,!0)*H(.8,1,Math.random())),F=l(()=>H(2,.5,s.march+A.value,!0)*H(.8,1,Math.random())),Y=n({x:0,y:0}),O=n(1),_=n(1),c=n("linear"),u=n("linear");let d=-1;function L(){const o=F.value,f=o/2,k=Y.value,G=v.value;k.x=G,O.value=o,k.y=-B.value,_.value=f,u.value="ease-out",clearTimeout(d),d=setTimeout(()=>{k.y=0,u.value="ease-in",_.value=f,clearTimeout(d),d=setTimeout(()=>{k.x=-G,O.value=o,clearTimeout(d),d=setTimeout(L,o*1e3)},f*1e3)},f*1e3)}function Fe(){clearTimeout(d);const o=Y.value;o.x=0,o.y=0,u.value="ease-out",_.value=.1}return ae(()=>{L(),e()}),se(()=>{Fe(),t(),clearInterval(w)}),(o,f)=>(y(),E("div",{class:"person-base animated",style:i({transform:`translate(${x.value.x}px, ${x.value.y}px)`,zIndex:o.personParams.persona?m.value?3:2:0,opacity:U.value})},[r("div",{class:"person animated",style:i({width:J(g)+"px",height:J(g)+"px",left:-J(g)/2+"px",top:-J(g)/2+"px"})},[r("div",{class:"lean animated",style:i({transform:`translate(
          ${h(I.value.x)}px,
          ${T(I.value.y)}px)`,transitionDuration:"5s"})},[r("div",{class:"march-x animated",style:i({transform:`translate(
            ${h(Y.value.x)}px)`,transitionTimingFunction:c.value,transitionDuration:O.value+"s"})},[r("div",{class:"march-y animated",style:i({transform:`translateY(
              ${h(Y.value.y)}px)`,transitionTimingFunction:u.value,transitionDuration:_.value+"s"})},[r("div",{class:"wiggle",style:i({transform:`rotate(${z.value}deg)
                translate(
                ${h(P.value.x)}px,
                ${h(P.value.y)}px)`})},[o.personParams.persona?(y(),ee(Ze,{key:1,id:o.personParams.id,"grid-coords":W.value,size:J(g),"look-at":J(S),wonder:M.value,happiness:b.value,params:o.personParams.persona,"is-focus":m.value,"mod-effect-source":o.modEffectSource},null,8,["id","grid-coords","size","look-at","wonder","happiness","params","is-focus","mod-effect-source"])):(y(),ee(He,{key:0,size:J(g),"look-at":J(S),coords:o.personParams.coords,"focus-coords":o.focusCoords,wonder:M.value,happiness:b.value,beam:p.value,"mod-effect-source":o.modEffectSource},null,8,["size","look-at","coords","focus-coords","wonder","happiness","beam","mod-effect-source"]))],4)],4)],4)],4)],4)],4))}});const $e=N(qe,[["__scopeId","data-v-db42d29a"]]),Ne={key:0,class:"persona-view",style:{width:"100vw",height:"100vh"}},xe=7,Me=5,be=8e3,Qe=2e3,Se=1,je=$({__name:"DisplayView",setup(V){const s=n(0),a=n(0),h=l(()=>.05*s.value),T=l(()=>.09*a.value),g=l(()=>s.value+h.value*2),W=l(()=>a.value+T.value*2),m=n([{group:"connection",name:"Eli"},{group:"joy",name:"Cintya"},{group:"vision",name:"Novia"},{group:"vision",name:"Ganjar Radika"},{group:"connection",name:"Novianti"},{group:"rule",name:"Ibrahim Indra"}]).value;let U=0;const A=n([]),M=A.value,p=n([]).value;for(let c=0;c<Me;c++)for(let u=0;u<xe;u++){const d={id:c*100+u,coords:{x:u,y:c},persona:null};c%2&&u%2&&(d.persona=m[U],U++,p.push(d)),M.push(d)}let S=0,I=-1,w=-1;const P=n(null);function z(){const c=p[S];P.value=c.coords;const u=c.persona;u.isFocus=!0,clearTimeout(w),w=setTimeout(()=>{delete u.isFocus,P.value=null,S++,S>=p.length&&(S=0)},be)}function D(){e(),z(),I=setInterval(z,be+Qe)}function e(){S=0,clearInterval(I),clearTimeout(w),p.forEach(c=>{delete c.persona.isFocus})}const t=n([]);function B(c,u){const d=t.value;if(!u)d.push(c);else{const L=d.indexOf(c);L>=0&&d.splice(L,1)}}const v=l(()=>{let c=0;const u=t.value;for(let d=0;d<u.length;d++){const{spirit:L}=u[d];L&&(c+=L*.2)}return c}),F=n(0),Y=n(Se);let O=-1;function _(){clearInterval(O),O=setInterval(()=>{const c=v.value*10;F.value-=c,F.value<-200&&(Y.value=0,F.value+=200+c,setTimeout(()=>{F.value-=c,Y.value=Se},1))},Y.value*1e3)}return ae(()=>{s.value=document.documentElement.clientWidth,a.value=document.documentElement.clientHeight,D(),_()}),se(()=>{e(),clearInterval(O)}),(c,u)=>s.value?(y(),E("div",Ne,[r("div",{class:"bg",style:i({left:F.value+"vw",transitionDuration:Y.value+"s",opacity:0})},null,4),r("div",{class:"container",style:i({width:g.value+"px",height:W.value+"px",transform:`translate(${-h.value}px,${-T.value}px)`})},[(y(!0),E(q,null,we(A.value,(d,L)=>(y(),ee($e,{key:L,"t-width":g.value,"t-height":W.value,"grid-size-base":{x:1/xe,y:1/Me},"person-params":d,"focus-coords":P.value,march:v.value,sources:t.value,"mod-effect-source":B},null,8,["t-width","t-height","grid-size-base","person-params","focus-coords","march","sources"]))),128))],4)])):ke("",!0)}});const aa=N(je,[["__scopeId","data-v-0a800855"]]);export{aa as default};
