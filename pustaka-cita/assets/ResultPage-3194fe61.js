import{T as C,d as ce,c as g,a as B,e,K as c,u as s,t as h,h as R,I as z,o as F,C as x,_ as de,b as fe,J as he,W as ue,v as be,w as M,N as ge,M as ve,x as _e,A as we,H as me,F as oe,i as ae,m as le,k as ne,Q as se,X as ie,q as ye,s as Se,V as P}from"./index-31eec075.js";const o="./imgs",Ee={Ca:o+"/persona/Ca.webp",Ev:o+"/persona/Ev.webp",In:o+"/persona/In.webp",He:o+"/persona/He.webp",Ex:o+"/persona/Ex.webp",Re:o+"/persona/Re.webp",Lo:o+"/persona/Lo.webp",Cr:o+"/persona/Cr.webp",En:o+"/persona/En.webp",Sa:o+"/persona/Sa.webp",Ma:o+"/persona/Ma.webp",Ru:o+"/persona/Ru.webp"},Ce={Ca:o+"/persona/labels/Ca.webp",Ev:o+"/persona/labels/Ev.webp",In:o+"/persona/labels/In.webp",He:o+"/persona/labels/He.webp",Ex:o+"/persona/labels/Ex.webp",Re:o+"/persona/labels/Re.webp",Lo:o+"/persona/labels/Lo.webp",Cr:o+"/persona/labels/Cr.webp",En:o+"/persona/labels/En.webp",Sa:o+"/persona/labels/Sa.webp",Ma:o+"/persona/labels/Ma.webp",Ru:o+"/persona/labels/Ru.webp"},Ie={Ca:o+"/self/Ca.webp",Ev:o+"/self/Ev.webp",In:o+"/self/In.webp",He:o+"/self/He.webp",Ex:o+"/self/Ex.webp",Re:o+"/self/Re.webp",Lo:o+"/self/Lo.webp",Cr:o+"/self/Cr.webp",En:o+"/self/En.webp",Sa:o+"/self/Sa.webp",Ma:o+"/self/Ma.webp",Ru:o+"/self/Ru.webp"},Re={Ca:o+"/self/labels/Ca.webp",Ev:o+"/self/labels/Ev.webp",In:o+"/self/labels/In.webp",He:o+"/self/labels/He.webp",Ex:o+"/self/labels/Ex.webp",Re:o+"/self/labels/Re.webp",Lo:o+"/self/labels/Lo.webp",Cr:o+"/self/labels/Cr.webp",En:o+"/self/labels/En.webp",Sa:o+"/self/labels/Sa.webp",Ma:o+"/self/labels/Ma.webp",Ru:o+"/self/labels/Ru.webp"},U={},xe=[[C.Ca,C.Cr,C.En],[C.Ev,C.Ex,C.He],[C.In,C.Lo,C.Ma],[C.Re,C.Ru,C.Sa]];xe.forEach((t,a)=>{t.forEach((n,d)=>{U[n]={x:d,y:a}})});const ke={class:"result-image"},Le={class:"intro"},We={class:"labels"},Be={class:"picture"},Fe=["src","alt"],He=["src","alt"],Me={class:"shadow-icon"},Oe=ce({__name:"ResultImage",props:{name:null,persona:null,self:null,shadow:null},setup(t){const a=t,n=g(()=>a.self?Ie[a.self.id]:null);g(()=>a.self?Re[a.self.id]:null);const d=g(()=>a.persona?Ee[a.persona.id]:null);g(()=>a.persona?Ce[a.persona.id]:null);const p=g(()=>U[a.shadow.id||"Ev"]),i={fontFamily:"IBM Plex Sans Condensed",fontSize:"3.3vw",textAlign:"center"},b=Object.assign({},i,{fontWeight:"bold"}),_={fontFamily:"Bricolage Grotesque",fontSize:"9vw",textAlign:"center",textTransform:"uppercase"},v=Object.assign({},_,{fontFamily:"Rosseta",fontSize:"12vw",lineHeight:"8vw",yShift:-1.5});return(N,E)=>{var I,r,L;return F(),B("div",ke,[e("div",Le,[e("div",{style:c(s(b))},h(t.name),5),e("div",{style:i},h(", "+s(x)("intro")),1)]),e("div",We,[e("p",{class:"row-1",style:c(Object.assign({},_,{color:t.self.self.hex}))},h(t.persona.persona.label),5),e("p",{class:"row-2 forced-to-bottom",style:c(Object.assign({color:t.self.self.hex},s(v)))},h(t.self.self.label),5)]),e("div",Be,[e("img",{class:"part-large self",src:s(n),alt:(I=t.self)==null?void 0:I.root},null,8,Fe),e("img",{class:"part-large persona",src:s(d),alt:(r=t.persona)==null?void 0:r.root},null,8,He),e("div",Me,[R(z,{src:"shadow-icons.webp",alt:(L=t.shadow)==null?void 0:L.root,"x-sprites":3,"y-sprites":4,x:s(p).x,y:s(p).y},null,8,["alt","x","y"])])])])}}});const Te=de(Oe,[["__scopeId","data-v-bfd0a01f"]]);function Ae(t,a){return new Promise((n,d)=>{t.onload=()=>n(t.height),t.onerror=d,t.src=a})}const re={"":1,"Bricolage Grotesque":.9,Rosseta:1.08};function je(t,a){return a=(a||"").replace(/"/g,""),t*(re[a]||re[""])}async function pe(t,a,n,d=1){var $,G,O,T,V,q,D,X,K,J,A,Y;const p=n.getBoundingClientRect();let i=(p.x-a.x)*d,b=(p.y-a.y)*d;const _=p.width*d,v=p.height*d,N=t.canvas.width;function E(f){return typeof f=="string"&&(f=parseFloat(f.replace("vw",""))),f*N/100}const I=n.style;typeof I.xShift=="number"&&(i+=E(I.xShift)),typeof I.yShift=="number"&&(b+=E(I.yShift));const r=n.style;if(r.opacity==="0")return;const L=($=r.filter)==null?void 0:$.toString();if(L&&(t.filter=L),r.boxShadow&&r.boxShadow.length){const f=r.boxShadow.replace(/, /g,",").split(" ");t.shadowColor=f[0],t.shadowOffsetX=E(f[1]),t.shadowOffsetY=E(f[2]),t.shadowBlur=E(f[3])}if(n.childElementCount==1&&n.classList.contains("sprite-sheet-img")&&((G=r.overflow)==null?void 0:G.toString())=="hidden"){const f=n.children[0];if(f.tagName=="IMG"){const u=f.getBoundingClientRect(),{naturalWidth:w,naturalHeight:y}=f,W=w*p.width/u.width,H=y*p.height/u.height,j=w*(p.x-u.x)/u.width,l=y*(p.y-u.y)/u.height;t.drawImage(f,j,l,W,H,i,b,_,v)}}else{if(_&&v){let u;switch(n.tagName){case"IMG":u=n,t.drawImage(u,i,b,_,v);return;case"DIV":let w=!1;const y=(O=r.backgroundColor)==null?void 0:O.toString();y&&y!="rgba(0, 0, 0, 0)"&&(w=!0);const W=(T=r.borderWidth)==null?void 0:T.toString();W&&W!="0px"&&(t.strokeStyle=W.toString()||"black",w=!0),(V=r.maskImage)==null||V.toString();const H=(q=r.backgroundImage)==null?void 0:q.toString();if(H&&(w=!0),w){const j=Number.parseFloat(((D=r.borderRadius)==null?void 0:D.toString())||"0");if(j)Pe(t,i,b,_,v,_*j),t.fillStyle=y,t.fill();else if(H){const l=new Image(_,v);await Ae(l,H.replace(/url|\(|\)|"/g,"")),t.drawImage(l,i,b,_,v)}t.fillStyle="none"}break}}const{innerText:f}=n;if(!n.childElementCount&&f&&f.length){t.fillStyle=((X=r.color)==null?void 0:X.toString())||"black";const u=E(r.fontSize),w=[(K=r.fontStyle)==null?void 0:K.toString(),(J=r.fontWeight)==null?void 0:J.toString(),u+"px",(A=r.fontFamily)==null?void 0:A.toString()].join(" ");t.font=w,t.textAlign=((Y=r.textAlign)==null?void 0:Y.toString())||"left";let y=0;switch(t.textAlign){case"center":y=_/2;break;case"right":y=_;break}t.fillText(f,i+y,b+je(u,r.fontFamily),_),t.fillStyle="none"}if(t.shadowColor="rgba(0,0,0,0)",n.childElementCount)for(let u=0;u<n.children.length;u++)await pe(t,a,n.children[u],d)}t.filter="none"}function Pe(t,a,n,d,p,i){return d<2*i&&(i=d/2),p<2*i&&(i=p/2),t.beginPath(),t.moveTo(a+i,n),t.arcTo(a+d,n,a+d,n+p,i),t.arcTo(a+d,n+p,a,n+p,i),t.arcTo(a,n+p,a,n,i),t.arcTo(a,n,a+d,n,i),t.closePath(),t}const te=t=>(ye("data-v-5ad67405"),t=t(),Se(),t),ze={class:"result outer container"},Ne={class:"canvas-container"},$e=["width","height"],Ge={class:"top-container"},Ve={class:"logo"},qe={class:"parts-container"},De={class:"left"},Ye={class:"parts"},Ue={class:"part-container"},Xe={class:"part"},Ke={class:"part-container"},Je={class:"part"},Qe={class:"part-container"},Ze={class:"part"},es={class:"shadow-part"},ss={class:"info hidden-part"},ts={class:"logo-set-container hidden-part"},os={class:"bottom"},as={class:"instructions"},ls={class:"details-container"},ns={class:"details"},is={class:"section"},rs={class:"title"},cs=te(()=>e("div",{class:"number"},[e("h2",null,"1")],-1)),ds={class:"text"},ps={class:"arch-title"},fs={class:"forced-to-bottom black"},hs={class:"text"},us={key:0,class:"numbers"},bs={key:1,class:"numbers"},gs={class:"section"},vs={class:"title"},_s=te(()=>e("div",{class:"number"},[e("h2",null,"2")],-1)),ws={class:"text"},ms={class:"arch-title"},ys=["src"],Ss={class:"forced-to-bottom white"},Es={class:"section"},Cs={class:"title"},Is=te(()=>e("div",{class:"number"},[e("h2",null,"3")],-1)),Rs={class:"text"},xs=["href"],ks=ce({__name:"ResultPage",setup(t){const a=fe(),n=he();ue();const d=be();g(()=>n.lang);const p=g(()=>d.regData.name),i=g(()=>a.resultData.topArchetypes),b=g(()=>i.value.persona?P[i.value.persona]:P.Ev),_=g(()=>{var l;return U[((l=b.value)==null?void 0:l.id)||"Ev"]});g(()=>b.value.persona);const v=g(()=>i.value.self?P[i.value.self]:P.Ev),N=g(()=>{var l;return U[((l=v.value)==null?void 0:l.id)||"Ev"]}),E=g(()=>i.value.shadow?P[i.value.shadow]:P.Ev),I=g(()=>{var l;return U[((l=E.value)==null?void 0:l.id)||"Ev"]}),r=g(()=>se("result-frame/"+v.value.id.toLowerCase()+"_frame")),L=M(null),$=M(null),G=M(""),O=M(null),T=M(!1);function V(l,S){if(l.tagName=="IMG")S.push(l);else for(let m=0;m<l.children.length;m++)V(l.children[m],S)}ge(()=>{ve(()=>{const l=[];V(O.value,l);const S=setInterval(()=>{for(let m=0;m<l.length;m++){const k=l[m];k!=null&&k.complete&&k.naturalHeight&&(l.splice(m,1),m--)}l.length||(clearInterval(S),T.value=!0)},1e3)})}),_e(T,(l,S)=>{!S&&l&&J()});const q=M(1080),D=M(2300),X=g(()=>window.innerWidth),K=g(()=>window.innerWidth*D.value/q.value);async function J(){const l=$.value,S=l.getContext("2d"),m=L.value.getBoundingClientRect(),k=m.width,Q=l.clientWidth/k;S&&(await pe(S,m,O.value,Q),S.globalCompositeOperation="destination-over",S.fillStyle="white",S.fillRect(0,0,l.clientWidth,l.clientHeight),G.value=l.toDataURL("image/png;base64"))}const A={color:"black",fontFamily:"Bricolage Grotesque",fontSize:"4vw",textAlign:"center"},Y=Object.assign({},A,{fontSize:"4.55vw",textAlign:"left"}),f=Object.assign({},A,{fontStyle:"italic"}),u={color:"black"},w=Object.assign({},A,u);Object.assign({},f,u);const y={color:"black",fontFamily:"Bricolage Grotesque",fontSize:"4vw",textAlign:"center",lineHeight:"120 %"},W=Object.assign({},y,{fontFamily:"Bricolage Grotesque",fontSize:"4vw",fontWeight:"normal"}),H=Object.assign({},y,{fontFamily:"Rosseta",fontSize:"7vw",fontWeight:"normal",yShift:-2.5}),j=Object.assign({},y,{fontFamily:"IBM Plex Sans Condensed",fontSize:"2.5vw",fontWeight:"normal"});return(l,S)=>{var m,k,Q;return F(),B("div",ze,[e("div",{class:"result-frame top-frame top-part",style:c({"background-image":s(r)})},null,4),e("div",{ref_key:"anchorEl",ref:L,style:{width:"100vw"}},null,512),e("div",Ne,[e("canvas",{ref_key:"canvasEl",ref:$,width:q.value,height:D.value},null,8,$e)]),e("div",{ref_key:"topEl",ref:O,class:"top"},[e("div",Ge,[e("div",{class:"bg-el",style:c({height:100*s(K)/s(X)+"vw"})},[e("div",{class:"bg",style:c({"background-image":s(se)("bg-result")})},null,4),e("div",{class:"result-frame top-frame",style:c({"background-image":s(r)})},null,4)],4),e("div",Ve,[R(z,{src:"logo-small.webp",alt:"Elemen 1","x-sprites":1,"y-sprites":2,x:0,y:0},null,8,["src"])]),R(Te,{name:s(p)||"?",persona:s(b),self:s(v),shadow:s(E)},null,8,["name","persona","self","shadow"]),e("div",qe,[e("div",De,[e("div",{style:c(s(Y))}," Karaktermu ",4),e("div",{style:c(s(Y))}," terdiri dari ",4)]),e("div",Ye,[e("div",Ue,[e("span",{style:c(s(w))}," (Persona) ",4),e("div",Xe,[R(z,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:s(_).x,y:s(_).y},null,8,["x","y"])]),e("span",{class:"top-part",style:c(s(w))},h((((m=s(b))==null?void 0:m.persona.label)||"").split(" ")[1]||""),5)]),e("div",Ke,[e("span",{style:c(s(w))}," (Self) ",4),e("div",Je,[R(z,{src:"elements-small.webp",alt:"Element 3","x-sprites":3,"y-sprites":4,x:s(N).x,y:s(N).y},null,8,["x","y"])]),e("span",{class:"top-part",style:c(s(w))},h(((k=s(v))==null?void 0:k.root)||""),5)]),e("div",Qe,[e("span",{style:c(s(w))}," (Shadow) ",4),e("div",Ze,[e("div",es,[R(z,{src:"shadow-icons.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:s(I).x,y:s(I).y},null,8,["x","y"])])]),e("span",{class:"top-part",style:c(s(w))},h(((Q=s(E))==null?void 0:Q.shadow.label.en)||""),5)])])]),e("div",ss,[e("div",{style:c(s(W))},h(s(x)("title")),5),e("div",{class:"forced-to-bottom",style:c(s(H))},h(s(x)("place")),5),e("div",{style:c(s(W))},h(s(x)("date")),5),e("div",{style:c(s(j))}," www.ourchetype.com ",4)]),e("div",ts,[R(ie)])])],512),e("div",os,[e("div",{class:"result-frame middle-frame",style:c({"background-image":s(r)})},null,4),e("div",{class:"result-frame bottom-frame",style:c({"background-image":s(r)})},null,4),R(me,{class:"cta",dark:"",disabled:!T.value,download:"Ourchetype.png",href:G.value},{default:we(()=>[ne(h(s(x)("download")),1)]),_:1},8,["disabled","download","href"]),e("p",as,h(s(x)("instructions")),1),e("div",ls,[e("div",ns,[e("div",is,[e("div",rs,[cs,e("div",ds,h(s(x)("1a")),1)]),e("div",ps,[R(z,{class:"frame",src:"title-frame.webp","x-sprites":1,"y-sprites":2,x:0,y:0},null,8,["src"]),e("p",fs,h(s(b).persona.label),1)]),e("p",hs,h(s(x)("1b")),1),s(b).persona.primaryResults?(F(),B("div",us,[(F(!0),B(oe,null,ae(s(b).persona.primaryResults,(Z,ee)=>(F(),B("div",{key:ee,class:"map-number"},[e("div",null,h(Z),1)]))),128))])):le("",!0),s(b).persona.secondaryResults?(F(),B("div",bs,[(F(!0),B(oe,null,ae(s(b).persona.secondaryResults,(Z,ee)=>(F(),B("div",{key:ee,class:"map-number secondary"},[e("div",null,h(Z),1)]))),128))])):le("",!0)]),e("div",gs,[e("div",vs,[_s,e("div",ws,h(s(x)("2a")),1)]),e("div",ms,[e("img",{class:"frame",src:s(se)(s(v).id.toLowerCase()+"-frame-self",void 0,!0)},null,8,ys),e("p",Ss,h(s(v).self.result),1)])]),e("div",Es,[e("div",Cs,[Is,e("div",Rs,[ne(h(s(x)("3a"))+" ",1),e("a",{href:s(E).shadow.url,target:"_blank",class:"shadow-button",style:c({color:s(v).self.hex,borderColor:s(v).self.hex})}," Shadow ",12,xs)])])])])])]),R(ie,{class:"bottom-logo-set"})])}}});const Ws=de(ks,[["__scopeId","data-v-5ad67405"]]);export{Ws as default};
